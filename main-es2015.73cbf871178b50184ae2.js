(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("mrSG"),u=n("zVF4"),l=n("x7I3"),c=o.SDK_VERSION,h=new s.Logger("@firebase/firestore");function d(){return h.logLevel===s.LogLevel.DEBUG?i.DEBUG:h.logLevel===s.LogLevel.SILENT?i.SILENT:i.ERROR}function f(e){switch(e){case i.DEBUG:h.logLevel=s.LogLevel.DEBUG;break;case i.ERROR:h.logLevel=s.LogLevel.ERROR;break;case i.SILENT:h.logLevel=s.LogLevel.SILENT;break;default:h.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function p(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(h.logLevel<=s.LogLevel.DEBUG){var i=n.map(m);h.debug.apply(h,["Firestore ("+c+") ["+e+"]: "+t].concat(i))}}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.ERROR){var r=t.map(m);h.error.apply(h,["Firestore ("+c+"): "+e].concat(r))}}function m(e){if("string"==typeof e)return e;var t=b.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function y(e){var t="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function v(e,t){e||y(t)}!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function e(){}return e.setPlatform=function(t){e.platform&&y("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||y("Platform not set"),e.platform},e}();function w(){return b.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(t,e),t}(Error);function E(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new C(_.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){return void 0!==e?e:t}function D(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function I(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function A(e){for(var t in v(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(0!==t.length)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+K(t.length,"argument")+".")}function N(e,t,n){if(t.length!==n)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function x(e,t,n){if(t.length<n)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires at least "+K(n,"argument")+", but was called with "+K(t.length,"argument")+".")}function O(e,t,n,r){if(t.length<n||t.length>r)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+K(t.length,"argument")+".")}function R(e,t,n,r){U(e,t,G(n)+" argument",r)}function P(e,t,n,r){void 0!==r&&R(e,t,n,r)}function M(e,t,n,r){U(e,t,n+" option",r)}function F(e,t,n,r){void 0!==r&&M(e,t,n,r)}function L(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+j(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+j(r[o]))}(e,t,n,r,i)}function V(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(j(u))}var l=j(r);throw new C(_.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function U(e,t,n,r){if(!("object"===t?B(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=j(r);throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function B(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function j(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y("Unknown wrong type: "+typeof e)}function q(e,t,n){if(void 0===n)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+G(t)+" argument, but it was undefined.")}function H(e,t,n){I(t,function(t,r){if(n.indexOf(t)<0)throw new C(_.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function z(e,t,n,r){var i=j(r);return new C(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+G(n)+" argument to be a "+t+", but it was: "+i)}function G(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function K(e,t){return e+" "+t+(1===e?"":"s")}var W=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return v(20===t.length,"Invalid auto ID: "+t),t},e}();function Q(e,t){return e<t?-1:e>t?1:0}function $(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function Y(e){return e+"\0"}function J(){if("undefined"==typeof Uint8Array)throw new C(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!b.getPlatform().base64Available)throw new C(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z,ee=function(){function e(e){X(),this._binaryString=e}return e.fromBase64String=function(t){N("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,t),X();try{return new e(b.getPlatform().atob(t))}catch(n){throw new C(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},e.fromUint8Array=function(t){if(N("Blob.fromUint8Array",arguments,1),J(),!(t instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,t);return new e(Array.prototype.map.call(t,function(e){return String.fromCharCode(e)}).join(""))},e.prototype.toBase64=function(){return N("Blob.toBase64",arguments,0),X(),b.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){N("Blob.toUint8Array",arguments,0),J();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return Q(this._binaryString,e._binaryString)},e}(),te=E(ee,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ne=function(){return function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),re="(default)",ie=function(){function e(e,t){this.projectId=e,this.database=t||re}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===re},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return Q(this.projectId,e.projectId)||Q(this.database,e.database)},e}(),oe=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),se=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&y("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&y("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(e,t,n),r},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):"string"==typeof t?n.push(t):y("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,v(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return v(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(e){return e.length>0}))},t.EMPTY_PATH=new t([]),t}(se),ue=/^[_a-zA-Z][_a-zA-Z0-9]*$/,le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.isValidIdentifier=function(e){return ue.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new C(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new C(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(se),ce=function(){function e(t){this.path=t,v(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===ae.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return ae.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new ae(t.slice()))},e.fromPathString=function(t){return new e(ae.fromString(t))},e.EMPTY=new e(new ae([])),e}(),he=function(){return function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}}();!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection"}(Z||(Z={}));var de=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new he,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),fe=function(){function e(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueue=function(e){var t=this;this.verifyNotFailed();var n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),v(t>=0,"Attempted to schedule an operation with a negative delay of "+t),v(!this.containsDelayedOperation(e),"Attempted to schedule multiple operations with timer id "+e+".");var i=de.createAndSchedule(this,e,t,n,function(e){return r.removeDelayedOperation(e)});return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){v(e===Z.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==Z.All&&i.timerId===e)break}return t.drain()})},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);v(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),pe="\x01",ge="\x01",me="\x10",ye="\x11";function ve(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=we(t)),t=be(e.get(n),t);return we(t)}function be(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=pe+me;break;case pe:n+=pe+ye;break;default:n+=o}}return n}function we(e){return e+pe+ge}function _e(e){var t=e.length;if(v(t>=2,"Invalid path "+e),2===t)return v(e.charAt(0)===pe&&e.charAt(1)===ge,"Non-empty path "+e+" had length 2"),ae.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf(pe,o);switch((s<0||s>n)&&y('Invalid encoded resource path: "'+e+'"'),e.charAt(s+1)){case ge:var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case me:i+=e.substring(o,s),i+="\0";break;case ye:i+=e.substring(o,s+1);break;default:y('Invalid encoded resource path: "'+e+'"')}o=s+2}return new ae(r)}var Ce=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),Ee=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new Ce(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new Ce(0,0)),e}(),Se=function(){function e(e,t){this.comparator=e,this.root=t||De.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,De.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,De.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Te(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Te(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Te(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Te(this.root,e,this.comparator,!0)},e}(),Te=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),De=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw y("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Ie=function(){function e(){this.size=0}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new De(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();De.EMPTY=new Ie;var Ae=function(){function e(e){this.comparator=e,this.data=new Se(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new ke(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new ke(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),ke=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ne=new Se(ce.comparator);function xe(){return Ne}function Oe(){return xe()}var Re=new Se(ce.comparator);function Pe(){return Re}var Me=new Se(ce.comparator);function Fe(){return Me}var Le=new Ae(ce.comparator);function Ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Le,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ue=new Ae(Q);function Be(){return Ue}var je=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&v(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var s=r[i];t=o.applyToRemoteDocument(t,s)}}return t},e.prototype.applyToLocalView=function(e,t){t&&v(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(a=r[n]).key.isEqual(e)&&(t=a.applyToLocalView(t,t,this.localWriteTime))}for(var i=t,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(e)&&(t=a.applyToLocalView(t,i,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach(function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))}),n},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Ve())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations)&&$(this.baseMutations,e.baseMutations)},e}(),qe=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){v(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=Fe(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new e(t,n,r,i,o)},e}(),He=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++){r(o[i])}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),ze=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){return v(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qe(e).iterate({index:Pt.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(t){return t.lastStreamToken=We(n),Ye(e).put(t)})},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next(function(e){return e.lastStreamToken})},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next(function(n){return n.lastStreamToken=We(t),Ye(e).put(n)})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=$e(e),s=Qe(e);return s.add({}).next(function(a){v("number"==typeof a,"Auto-generated key is not a number");var u=new je(a,t,n,r),l=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[a]=u.keys();for(var c=[],h=0,d=r;h<d.length;h++){var f=d[h],p=Mt.key(i.userId,f.key.path,a);c.push(s.put(l)),c.push(o.put(p,Mt.PLACEHOLDER)),c.push(i.indexManager.addToCollectionParentIndex(e,f.key.path.popLast()))}return He.waitFor(c).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Qe(e).get(t).next(function(e){return e?(v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null})},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?He.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Qe(e).iterate({index:Pt.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(v(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()}).next(function(){return o})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qe(e).loadAll(Pt.userMutationsIndex,n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Mt.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return $e(e).iterate({range:i},function(r,i,s){var a=r[0],u=r[1],l=r[2],c=_e(u);if(a===n.userId&&t.path.isEqual(c))return Qe(e).get(l).next(function(e){if(!e)throw y("Dangling document-mutation reference found: "+r+" which points to "+l);v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+l),o.push(n.serializer.fromDbMutationBatch(e))});s.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ae(Q),i=[];return t.forEach(function(t){var o=Mt.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=$e(e).iterate({range:s},function(e,i,o){var s=e[0],a=e[1],u=e[2],l=_e(a);s===n.userId&&t.path.isEqual(l)?r=r.add(u):o.done()});i.push(a)}),He.waitFor(i).next(function(){return n.lookupMutationBatches(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;v(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=Mt.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ae(Q);return $e(e).iterate({range:s},function(e,t,o){var s=e[0],u=e[1],l=e[2],c=_e(u);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(l)):o.done()}).next(function(){return n.lookupMutationBatches(e,a)})},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(Qe(e).get(t).next(function(e){if(null===e)throw y("Dangling document-mutation reference found, which points to "+t);v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))}))}),He.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ke(e.simpleDbTransaction,this.userId,t).next(function(r){return n.removeCachedMutationKeys(t.batchId),He.forEach(r,function(t){return n.referenceDelegate.removeMutationReference(e,t)})})},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return He.resolve();var r=IDBKeyRange.lowerBound(Mt.prefixForUser(t.userId)),i=[];return $e(e).iterate({range:r},function(e,n,r){if(e[0]===t.userId){var o=_e(e[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(e){return e.canonicalString()}))})})},e.prototype.containsKey=function(e,t){return Ge(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return Ye(e).get(this.userId).next(function(e){return e||new Rt(t.userId,-1,"")})},e}();function Ge(e,t,n){var r=Mt.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return $e(e).iterate({range:o,keysOnly:!0},function(e,n,r){var o=e[0],a=e[1];e[2];o===t&&a===i&&(s=!0),r.done()}).next(function(){return s})}function Ke(e,t,n){var r=e.store(Pt.store),i=e.store(Mt.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.iterate({range:s},function(e,t,n){return a++,n.delete()});o.push(u.next(function(){v(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=Mt.key(t,d.key.path,n.batchId);o.push(i.delete(f)),l.push(d.key)}return He.waitFor(o).next(function(){return l})}function We(e){return e instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Qe(e){return dn.getStore(e,Pt.store)}function $e(e){return dn.getStore(e,Mt.store)}function Ye(e){return dn.getStore(e,Rt.store)}var Je,Xe=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(Je||(Je={}));var Ze=function(){function e(e,t){this.generatorId=e,v((e&Xe)===e,"Generator ID "+e+" contains more than "+Xe+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<Xe,e},e.prototype.after=function(e){return this.seek(e+(1<<Xe)),this.next()},e.prototype.seek=function(e){v((e&Xe)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(Je.QueryCache,2)},e.forSyncEngine=function(){return new e(Je.SyncEngine)},e}(),et="SimpleDb",tt=function(){function e(t){this.db=t,12.2===e.getIOSVersion(u.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return v(e.isAvailable(),"IndexedDB not supported in current environment."),p(et,"Opening database:",t),new He(function(i,o){var s=window.indexedDB.open(t,n);s.onsuccess=function(t){var n=t.target.result;i(new e(n))},s.onblocked=function(){o(new C(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(e){var t=e.target.error;"VersionError"===t.name?o(new C(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(t)},s.onupgradeneeded=function(e){p(et,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,i=new rt(s.transaction);r.createOrUpgrade(n,i,e.oldVersion,kt).next(function(){p(et,"Database upgrade to version "+kt+" complete")})}}).toPromise()},e.delete=function(e){return p(et,"Removing database:",e),ot(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=u.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){var r=rt.open(this.db,e,t),i=n(r).catch(function(e){return r.abort(e),He.reject(e)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},e.prototype.close=function(){this.db.close()},e}(),nt=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return ot(this.dbCursor.delete())},e}(),rt=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new he,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=at(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(p(et,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return v(!!t,"Object store not part of transaction: "+e),new it(t)},e}(),it=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(p(et,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(p(et,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ot(n)},e.prototype.add=function(e){return p(et,"ADD",this.store.name,e,e),ot(this.store.add(e))},e.prototype.get=function(e){var t=this;return ot(this.store.get(e)).next(function(n){return void 0===n&&(n=null),p(et,"GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return p(et,"DELETE",this.store.name,e),ot(this.store.delete(e))},e.prototype.count=function(){return p(et,"COUNT",this.store.name),ot(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.deleteAll=function(e,t){p(et,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new He(function(n,r){t.onerror=function(e){var t=at(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.iterateCursor=function(e,t){var n=[];return new He(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new nt(i),s=t(i.primaryKey,i.value,o);if(s instanceof He){var a=s.catch(function(e){return o.done(),He.reject(e)});n.push(a)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return He.waitFor(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(v(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ot(e){return new He(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=at(e.target.error);n(t)}})}var st=!1;function at(e){var t=tt.getIOSVersion(u.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return st||(st=!0,setTimeout(function(){throw r},0)),r}}return e}var ut=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Ze.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next(function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next(function(e){return Ee.fromTimestamp(new Ce(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return ht(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)})},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.retrieveMetadata(e).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)})})},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return lt(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return v(t.targetCount>0,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return lt(e).iterate(function(s,a){var u=r.serializer.fromDbTarget(a);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))}).next(function(){return He.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){var n=this;return lt(e).iterate(function(e,r){var i=n.serializer.fromDbTarget(r);t(i)})},e.prototype.retrieveMetadata=function(e){return ct(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,dn.getStore(n,qt.store)).put(qt.key,t);var n},e.prototype.saveQueryData=function(e,t){return lt(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next(function(e){return e.targetCount})},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return lt(e).iterate({range:i,index:Bt.queryTargetsIndexName},function(e,r,i){var s=n.serializer.fromDbTarget(r);t.isEqual(s.query)&&(o=s,i.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=dt(e);return t.forEach(function(t){var s=ve(t.path);i.push(o.put(new jt(n,s))),i.push(r.referenceDelegate.addReference(e,t))}),He.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=dt(e);return He.forEach(t,function(t){var o=ve(t.path);return He.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=dt(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dt(e),i=Ve();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=_e(e[1]),o=new ce(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=ve(t.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return dt(e).iterate({index:jt.documentTargetsIndex,keysOnly:!0,range:r},function(e,t,n){var r=e[0];e[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return lt(e).get(t).next(function(e){return e?n.serializer.fromDbTarget(e):null})},e}();function lt(e){return dn.getStore(e,Bt.store)}function ct(e){return tt.getStore(e,qt.store).get(qt.key).next(function(e){return v(null!==e,"Missing metadata row."),e})}function ht(e){return ct(e).next(function(e){return e.highestListenSequenceNumber})}function dt(e){return dn.getStore(e,jt.store)}var ft=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return ce.comparator(e.key,t.key)},e}(),pt=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n)||this;return s.data=r,s.proto=o,s.hasLocalMutations=!!i.hasLocalMutations,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return a.__extends(t,e),t.prototype.field=function(e){return this.data.field(e)},t.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},t}(ft),gt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ft),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ft),yt=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(s.isEqual(e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){I(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];e(s,a)}})},e.prototype.isEmpty=function(){return A(this.inner)},e}(),vt=function(){function e(){this.changes=xe(),this.documentSizes=new yt(function(e){return e.toString()})}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this,r=this.assertChanges().get(t);return r?He.resolve(r):this.getFromCache(e,t).next(function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)})},e.prototype.getEntries=function(e,t){var n=this;return this.getAllFromCache(e,t).next(function(e){var t=e.maybeDocuments;return e.sizeMap.forEach(function(e,t){n.documentSizes.set(e,t)}),t})},e.prototype.apply=function(e){var t=this.applyChanges(e);return this.changes=null,t},e.prototype.assertChanges=function(){return v(null!==this.changes,"Changes have already been applied."),this.changes},e}(),bt="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",wt=function(){function e(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=tt.getStore(e,Gt.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntries=function(e,t,n){var r=[];if(t.length>0){for(var i=Et(e),o=Ve(),s=0,a=t;s<a.length;s++){var u=a[s],l=u.key,c=u.doc;r.push(i.put(Tt(l),c)),o=o.add(l),r.push(this.indexManager.addToCollectionParentIndex(e,l.path.popLast()))}this.keepDocumentChangeLog&&r.push(St(e).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(e,n))}return He.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=Et(e),r=Tt(t);return n.get(r).next(function(e){return e?n.delete(r).next(function(){return Dt(e)}):He.resolve(0)})},e.prototype.getEntry=function(e,t){var n=this;return Et(e).get(Tt(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getSizedEntry=function(e,t){var n=this;return Et(e).get(Tt(t)).next(function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:Dt(e)}:null})},e.prototype.getEntries=function(e,t){var n=this,r=Oe();return this.forEachDbEntry(e,t,function(e,t){r=t?r.insert(e,n.serializer.fromDbRemoteDocument(t)):r.insert(e,null)}).next(function(){return r})},e.prototype.getSizedEntries=function(e,t){var n=this,r=Oe(),i=new Se(ce.comparator);return this.forEachDbEntry(e,t,function(e,t){t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i=i.insert(e,Dt(t))):(r=r.insert(e,null),i=i.insert(e,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return He.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Et(e).iterate({range:r},function(e,t,r){for(var s=ce.fromSegments(e);o&&ce.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Pe(),i=t.path.length+1,o=t.path.toArray(),s=IDBKeyRange.lowerBound(o);return Et(e).iterate({range:s},function(e,o,s){if(e.length===i){var a=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(a.key.path)?a instanceof pt&&t.matches(a)&&(r=r.insert(a.key,a)):s.done()}}).next(function(){return r})},e.prototype.getNewDocumentChanges=function(e){var t=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ve(),r=xe(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,s=St(e);return s.iterate({range:i},function(e,r){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(s).next(function(){return He.reject(new C(_.DATA_LOSS,bt))});n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(t.getEntry(e,n).next(function(e){var t=e||new gt(n,Ee.forDeletedDoc());r=r.insert(n,t)}))}),He.waitFor(i)}).next(function(){return r})},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return St(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()})},e.prototype.newChangeBuffer=function(){return new Ct(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return _t(e).get(Ut.key).next(function(e){return v(!!e,"Missing document cache metadata"),e})},e.prototype.setMetadata=function(e,t){return _t(e).put(Ut.key,t)},e.prototype.updateSize=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.setMetadata(e,r)})},e}();function _t(e){return dn.getStore(e,Ut.store)}var Ct=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return a.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(e,n){var o=t.documentCache.serializer.toDbRemoteDocument(n),s=t.documentSizes.get(e);v(void 0!==s,"Attempting to change document "+e.toString()+" without having read it first");var a=Dt(o);r+=a-s,i.push({key:e,doc:o})}),this.documentCache.addEntries(e,i,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(vt);function Et(e){return dn.getStore(e,Vt.store)}function St(e){return dn.getStore(e,Gt.store)}function Tt(e){return e.path.toArray()}function Dt(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var It=function(){function e(){this.collectionParentIndex=new At}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),He.resolve()},e.prototype.getCollectionParents=function(e,t){return He.resolve(this.collectionParentIndex.getEntries(t))},e}(),At=function(){function e(){this.index={}}return e.prototype.add=function(e){v(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ae(ae.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.getEntries=function(e){return(this.index[e]||new Ae(ae.comparator)).toArray()},e}(),kt=8,Nt=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;v(n<r&&n>=0&&r<=kt,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(e){e.createObjectStore(Ot.store)}(e),function(e){e.createObjectStore(Rt.store,{keyPath:Rt.keyPath}),e.createObjectStore(Pt.store,{keyPath:Pt.keyPath,autoIncrement:!0}).createIndex(Pt.userMutationsIndex,Pt.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Mt.store)}(e),zt(e),function(e){e.createObjectStore(Vt.store)}(e));var o=He.resolve();return n<3&&r>=3&&(0!==n&&(!function(e){e.deleteObjectStore(jt.store),e.deleteObjectStore(Bt.store),e.deleteObjectStore(qt.store)}(e),zt(e)),o=o.next(function(){return function(e){var t=e.store(qt.store),n=new qt(0,0,Ee.MIN.toTimestamp(),0);return t.put(qt.key,n)}(t)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store(Pt.store).loadAll().next(function(n){e.deleteObjectStore(Pt.store);var r=e.createObjectStore(Pt.store,{keyPath:Pt.keyPath,autoIncrement:!0});r.createIndex(Pt.userMutationsIndex,Pt.userMutationsKeyPath,{unique:!0});var i=t.store(Pt.store),o=n.map(function(e){return i.put(e)});return He.waitFor(o)})}(e,t)})),o=o.next(function(){!function(e){e.createObjectStore(Kt.store,{keyPath:Kt.keyPath})}(e),function(e){e.createObjectStore(Gt.store,{keyPath:"id",autoIncrement:!0})}(e)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(t)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore(Ut.store)}(e),i.addDocumentGlobal(t)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(t)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(e,t)})),o},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Vt.store).iterate(function(e,n){t+=Dt(n)}).next(function(){var n=new Ut(t);return e.store(Ut.store).put(Ut.key,n)})},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Rt.store),r=e.store(Pt.store);return n.loadAll().next(function(n){return He.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Pt.userMutationsIndex,i).next(function(r){return He.forEach(r,function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return Ke(e,n.userId,i).next(function(){})})})})})},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(jt.store),n=e.store(Vt.store);return ht(e).next(function(e){var r=[];return n.iterate(function(n,i){var o=new ae(n),s=function(e){return[0,ve(e)]}(o);r.push(t.get(s).next(function(n){return n?He.resolve():function(n){return t.put(new jt(0,ve(n),e))}(o)}))}).next(function(){return He.waitFor(r)})})},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(Ht.store,{keyPath:Ht.keyPath});var n=t.store(Ht.store),r=new At,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ve(i)})}};return t.store(Vt.store).iterate({keysOnly:!0},function(e,t){var n=new ae(e);return i(n.popLast())}).next(function(){return t.store(Mt.store).iterate({keysOnly:!0},function(e,t){e[0];var n=e[1],r=(e[2],_e(n));return i(r.popLast())})})},e}();var xt=function(){return function(e,t){this.seconds=e,this.nanoseconds=t}}(),Ot=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var Rt=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),Pt=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var Mt=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,ve(t)]},e.key=function(e,t,n){return[e,ve(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var Ft=function(){return function(e,t){this.path=e,this.readTime=t}}(),Lt=function(){return function(e,t){this.path=e,this.version=t}}(),Vt=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),Ut=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var Bt=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),jt=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,v(0===e==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),qt=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),Ht=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function zt(e){e.createObjectStore(jt.store,{keyPath:jt.keyPath}).createIndex(jt.documentTargetsIndex,jt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Bt.store,{keyPath:Bt.keyPath}).createIndex(Bt.queryTargetsIndexName,Bt.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(qt.store)}var Gt=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}();var Kt=function(){function e(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return e.store="clientMetadata",e.keyPath="clientId",e}();var Wt,Qt=[Rt.store,Pt.store,Mt.store,Vt.store,Bt.store,Ot.store,qt.store,jt.store].concat([Kt.store,Gt.store]).concat([Ut.store]).concat([Ht.store]),$t=function(){function e(){this.collectionParentsCache=new At}return e.prototype.addToCollectionParentIndex=function(e,t){if(v(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(t)){v(t.length>=1,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Yt(e).put({collectionId:n,parent:ve(r)})}return He.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Y(t),""],!1,!0);return Yt(e).loadAll(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(_e(o.parent))}return n})},e}();function Yt(e){return dn.getStore(e,Ht.store)}!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(Wt||(Wt={}));var Jt=function(){function e(e,t,n,r,i,o){void 0===i&&(i=Ee.MIN),void 0===o&&(o=w()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return e.prototype.copy=function(t){return new e(this.query,this.targetId,this.purpose,void 0===t.sequenceNumber?this.sequenceNumber:t.sequenceNumber,void 0===t.snapshotVersion?this.snapshotVersion:t.snapshotVersion,void 0===t.resumeToken?this.resumeToken:t.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),Xt=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=ce.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new gt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=ce.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new mt(t,n)}return y("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof pt){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new Vt(null,null,t,n)}if(e instanceof gt){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);n=e.hasCommittedMutations;return new Vt(null,new Ft(r,i),null,n)}if(e instanceof mt){r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return new Vt(new Lt(r,i),null,null,!0)}return y("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new xt(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new Ce(e.seconds,e.nanoseconds);return Ee.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map(function(e){return n.remoteSerializer.toMutation(e)}),i=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new Pt(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map(function(e){return t.remoteSerializer.fromMutation(e)}),r=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),i=Ce.fromMillis(e.localWriteTimeMs);return new je(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach(function(e){t.push(ve(e.path))}),t},e.prototype.fromDbResourcePaths=function(e){for(var t=Ve(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new ce(_e(i)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Jt(t,e.targetId,Wt.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},e.prototype.toDbTarget=function(e){v(Wt.Listen===e.purpose,"Only queries with purpose "+Wt.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new Bt(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,t)},e}();function Zt(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=Q(n,i);return 0===s?Q(r,o):s}var en=function(){function e(e){this.maxElements=e,this.buffer=new Ae(Zt),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Zt(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),tn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nn=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),rn=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.gcTask=null}return e.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==nn.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Z.LruGarbageCollection,t,function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then(function(){return e.scheduleGC()}).catch(fn)})},e}(),on=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return He.resolve(oe.INVALID);var r=new en(t);return this.delegate.forEachTarget(e,function(e){return r.addElement(e.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,function(e){return r.addElement(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===nn.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(tn)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),tn):n.runGarbageCollection(e,t)})},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,o,s,a,u,l,c=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return o=t,u=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){(l=Date.now(),d()<=i.DEBUG)&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(l-u)+"ms\nTotal Duration: "+(l-h)+"ms");return He.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})})},e}(),sn=function(){return function(){}}(),an="IndexedDbPersistence",un="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ln="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",cn="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",hn=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return a.__extends(t,e),t}(sn),dn=function(){function e(t,n,r,i,o,s,a){if(this.persistenceKey=t,this.clientId=n,this.queue=i,this.multiClientParams=a,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},!e.isAvailable())throw new C(_.UNIMPLEMENTED,cn);if(this.referenceDelegate=new vn(this,s),this.dbName=t+e.MAIN_DATABASE,this.serializer=new Xt(o),this.document=r.document,this.allowTabSynchronization=void 0!==a,this.queryCache=new ut(this.referenceDelegate,this.serializer),this.indexManager=new $t,this.remoteDocumentCache=new wt(this.serializer,this.indexManager,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof hn)return tt.getStore(e.simpleDbTransaction,t);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t,n,r,i,o,s){return a.__awaiter(this,void 0,void 0,function(){var u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(u=new e(t,n,r,i,o,s)).start()];case 1:return a.sent(),[2,u]}})})},e.createMultiClientIndexedDbPersistence=function(t,n,r,i,o,s,u){return a.__awaiter(this,void 0,void 0,function(){var l;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(l=new e(t,n,r,i,o,s,u)).start()];case 1:return a.sent(),[2,l]}})})},e.prototype.start=function(){var e=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),tt.openOrCreate(this.dbName,kt,new Nt(this.serializer)).then(function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()}).then(function(){return e.simpleDb.runTransaction("readonly",[qt.store],function(t){return ht(t).next(function(t){var n=e.multiClientParams?e.multiClientParams.sequenceNumberSyncer:void 0;e.listenSequence=new oe(t,n)})})}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Qt,function(t){return e.remoteDocumentCache.start(t)})},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener(function(n){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Qt,function(t){return gn(t).put(new Kt(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next(function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget(function(){return e.primaryStateListener(!1)}))})}).next(function(){return e.canActAsPrimary(t)}).next(function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget(function(){return e.primaryStateListener(e.isPrimary)}),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0})})},e.prototype.verifyPrimaryLease=function(e){var t=this;return pn(e).get(Ot.key).next(function(e){return He.resolve(t.isLocalClient(e))})},e.prototype.removeClientMetadata=function(e){return gn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=e.getStore(i,Kt.store);return o.loadAll().next(function(e){t=r.filterActiveClients(e,18e5),n=e.filter(function(e){return-1===t.indexOf(e)})}).next(function(){return He.forEach(n,function(e){return o.delete(e.clientId)})}).next(function(){if((t=t.filter(function(e){return e.clientId!==r.clientId})).length>0){var e=t.map(function(e){return e.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))}),i.label=2;case 2:return[2]}})})},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Z.ClientMetadataRefresh,4e3,function(){return e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.maybeGarbageCollectMultiClientState()}).then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return pn(e).get(Ot.key).next(function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,ln);return!1}}return!(!t.networkEnabled||!t.inForeground)||gn(e).loadAll().next(function(e){return void 0===t.filterActiveClients(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&p(an,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Ot.store,Kt.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter(function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)})},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[Kt.store],function(t){return gn(t).loadAll().next(function(t){return e.filterActiveClients(t,18e5).map(function(e){return e.clientId})})})},e.clearPersistence=function(t){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,tt.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}})})},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),ze.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;return p(an,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Qt,function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next(function(t){if(!t)throw g("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new C(_.FAILED_PRECONDITION,un);return n(new hn(i,r.listenSequence.next()))}).next(function(e){return r.acquireOrExtendPrimaryLease(i).next(function(){return e})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new hn(i,r.listenSequence.next()))})})},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return pn(e).get(Ot.key).next(function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,ln)})},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new Ot(this.clientId,this.allowTabSynchronization,Date.now());return pn(e).put(Ot.key,t)},e.isAvailable=function(){return tt.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=pn(e);return n.get(Ot.key).next(function(e){return t.isLocalClient(e)?(p(an,"Releasing primary lease."),n.delete(Ot.key)):He.resolve()})},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(g("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return p(an,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return g(an,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){g("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function fn(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){if(!function(e){return e.code===_.FAILED_PRECONDITION&&e.message===un}(e))throw e;return p(an,"Unexpectedly lost primary lease"),[2]})})}function pn(e){return e.store(Ot.store)}function gn(e){return e.store(Kt.store)}var mn,yn,vn=function(){function e(e,t){this.db=e,this.garbageCollector=new on(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,function(e,n){return t(n)})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return bn(e,t)},e.prototype.removeReference=function(e,t){return bn(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return bn(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?He.resolve(!0):function(e,t){var n=!1;return Ye(e).iterateSerial(function(r){return Ge(e,r,t).next(function(e){return e&&(n=!0),He.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(e,function(s,a){if(a<=t){var u=n.isPinned(e,s).next(function(t){if(!t)return r++,n.removeOrphanedDocument(e,s).next(function(e){i+=e})});o.push(u)}}).next(function(){return He.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(e,-i)}).next(function(){return r})},e.prototype.removeOrphanedDocument=function(e,t){var n,r=0,i=this.db.getRemoteDocumentCache();return He.waitFor([dt(e).delete((n=t,[0,ve(n.path)])),i.removeEntry(e,t).next(function(e){r+=e})]).next(function(){return r})},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return bn(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=dt(e),i=oe.INVALID;return r.iterate({index:jt.documentTargetsIndex},function(e,r){var o=e[0],s=(e[1],r.path),a=r.sequenceNumber;0===o?(i!==oe.INVALID&&t(new ce(_e(n)),i),i=a,n=s):i=oe.INVALID}).next(function(){i!==oe.INVALID&&t(new ce(_e(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function bn(e,t){return dt(e).put(function(e,t){return new jt(0,ve(e.path),t)}(t,e.currentSequenceNumber))}!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(mn||(mn={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(yn||(yn={}));var wn=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(yn.Estimate,n);case"previous":return new e(yn.Previous,n);case"none":case void 0:return new e(yn.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},e}(),_n=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return v(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),Q(this.typeOrder,e.typeOrder)},e}(),Cn=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=mn.NullValue,t.internalValue=null,t}return a.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(_n),En=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=mn.BooleanValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Q(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(_n),Sn=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=mn.NumberValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t}(_n);function Tn(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Dn,In=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Tn(this.internalValue,e.internalValue)},t}(Sn),An=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Tn(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Sn),kn=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=mn.StringValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Q(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(_n),Nn=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=mn.TimestampValue,n}return a.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof xn?-1:this.defaultCompareTo(e)},t}(_n),xn=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=mn.TimestampValue,r}return a.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===yn.Estimate?new Nn(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===yn.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Nn?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(_n),On=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=mn.BlobValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(_n),Rn=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=mn.RefValue,r}return a.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:ce.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(_n),Pn=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=mn.GeoPointValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(_n),Mn=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=mn.ObjectValue,n}return a.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,r){t[n]=r.value(e)}),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),s=Q(i.key,o.key)||i.value.compareTo(o.value);if(s)return s}return Q(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(v(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(v(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){v(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t?n.internalValue.get(e):null}),n},t.prototype.fieldMask=function(){var e=new Ae(le.comparator);return this.internalValue.forEach(function(n,r){var i=new le([n]);if(r instanceof t){var o=r.fieldMask().fields;o.isEmpty()?e=e.add(i):o.forEach(function(t){e=e.add(i.child(t))})}else e=e.add(i)}),Ln.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Se(Q)),t}(_n),Fn=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=mn.ArrayValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){if(n[t].isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return Q(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map(function(e){return e.toString()}).join(",")+"]"},t}(_n),Ln=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new Ae(le.comparator);return t.forEach(function(e){return n=n.add(e)}),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach(function(n){n.isPrefixOf(e)&&(t=!0)}),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),Vn=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),Un=function(){return function(e,t){this.version=e,this.transformResults=t}}();!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(Dn||(Dn={}));var Bn=function(){function e(e,t){this.updateTime=e,this.exists=t,v(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof pt&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof pt:(v(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!=t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),jn=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&v(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof pt?e.version:Ee.MIN},e}(),qn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=Dn.Set,i}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new pt(this.key,n,this.value,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=jn.getPostMutationVersion(e);return new pt(this.key,r,this.value,{hasLocalMutations:!0})},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(jn),Hn=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Dn.Patch,o}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new mt(this.key,t.version);var n=this.patchDocument(e);return new pt(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=jn.getPostMutationVersion(e),i=this.patchDocument(e);return new pt(this.key,r,i,{hasLocalMutations:!0})},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof pt?e.data:Mn.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}}),e},t}(jn),zn=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=Dn.Transform,r.precondition=Bn.exists(!0),r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),v(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new mt(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data,r);return new pt(this.key,i,o,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data,i);return new pt(this.key,r.version,o,{hasLocalMutations:!0})},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof pt?e.field(i.field):void 0,s=i.transform.computeBaseValue(o||null);null!=s&&(t=null==t?Mn.EMPTY.set(i.field,s):t.set(i.field,s))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&$(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){v(e instanceof pt,"Unknown MaybeDocument type "+e);var t=e;return v(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];v(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;e instanceof pt&&(s=e.field(i.field)),n.push(o.applyToRemoteDocument(s,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;t instanceof pt&&(u=t.field(s.field)),null===u&&n instanceof pt&&(u=n.field(s.field)),r.push(a.applyToLocalView(u,e))}return r},t.prototype.transformObject=function(e,t){v(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(jn),Gn=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=Dn.Delete,r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by DeleteMutation."),new gt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&v(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new gt(this.key,Ee.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(jn),Kn=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.getDocumentInternal(e,t,r)})},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next(function(e){for(var r=0,i=n;r<i.length;r++){e=i[r].applyToLocalView(t,e)}return e})},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Oe();return t.forEach(function(e,t){for(var i=0,o=n;i<o.length;i++){t=o[i].applyToLocalView(e,t)}r=r.insert(e,t)}),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next(function(t){return n.getLocalViewOfDocuments(e,t)})},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=xe();return i.forEach(function(e,t){t||(t=new gt(e,Ee.forDeletedDoc())),o=o.insert(e,t)}),o})},e.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new ce(t)).next(function(e){var t=Pe();return e instanceof pt&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;v(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,i=Pe();return this.indexManager.getCollectionParents(e,r).next(function(o){return He.forEach(o,function(o){var s=t.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(e,s).next(function(e){e.forEach(function(e,t){i=i.insert(e,t)})})}).next(function(){return i})})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return r=t,i.addMissingBaseDocuments(e,r,n).next(function(e){n=e;for(var t=0,i=r;t<i.length;t++)for(var o=i[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],l=u.key,c=n.get(l),h=u.applyToLocalView(c,c,o.localWriteTime);n=h instanceof pt?n.insert(l,h):n.remove(l)}})}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Ve(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Hn&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.remoteDocumentCache.getEntries(e,r).next(function(e){return e.forEach(function(e,t){null!==t&&t instanceof pt&&(l=l.insert(e,t))}),l})},e}(),Wn=function(){function e(){this.refsByKey=new Ae(Qn.compareByKey),this.refsByTarget=new Ae(Qn.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new Qn(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new Qn(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=ce.EMPTY,r=new Qn(n,e),i=new Qn(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(e){t.removeRef(e),o.push(e.key)}),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=ce.EMPTY,n=new Qn(t,e),r=new Qn(t,e+1),i=Ve();return this.refsByTarget.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new Qn(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Qn=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return ce.comparator(e.key,t.key)||Q(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return Q(e.targetOrBatchId,t.targetOrBatchId)||ce.comparator(e.key,t.key)},e}(),$n=function(){function e(e,t){this.persistence=e,this.localViewReferences=new Wn,this.queryDataByTarget={},v(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new Kn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new Kn(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var i=[],o=[],s=Ve(),a=0,u=r;a<u.length;a++){var l=u[a];i.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var d=h[c];s=s.add(d.key)}}for(var f=0,p=e;f<p.length;f++){l=p[f];o.push(l.batchId);for(var g=0,m=l.mutations;g<m.length;g++){d=m[g];s=s.add(d.key)}}return t.localDocuments.getDocuments(n,s).next(function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}})})})},e.prototype.localWrite=function(e){var t=this,n=Ce.now(),r=e.reduce(function(e,t){return e.add(t.key)},Ve());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return t.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],s=0,a=e;s<a.length;s++){var u=a[s],l=u.extractBaseValue(r.get(u.key));null!=l&&o.push(new Hn(u.key,l,l.fieldMask(),Bn.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next(function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}})})})},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return t.mutationQueue.lookupMutationKeys(n,e).next(function(e){return e?t.localDocuments.getDocuments(n,e):He.resolve(null)})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){return t.applyWriteToRemoteDocuments(n,e,i)}).next(function(){return i.apply(n)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(e){return v(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],s=Ve();D(t.targetChanges,function(r,a){var u=n.queryDataByTarget[r];if(u){a.addedDocuments.forEach(function(e){s=s.add(e)}),a.modifiedDocuments.forEach(function(e){s=s.add(e)}),o.push(n.queryCache.removeMatchingKeys(i,a.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,a.addedDocuments,r)}));var l=a.resumeToken;if(l.length>0){var c=u;u=u.copy({resumeToken:l,snapshotVersion:t.snapshotVersion}),n.queryDataByTarget[r]=u,e.shouldPersistQueryData(c,u,a)&&o.push(n.queryCache.updateQueryData(i,u))}}});var a=xe(),u=Ve();t.documentUpdates.forEach(function(e,t){u=u.add(e)}),o.push(r.getEntries(i,u).next(function(e){t.documentUpdates.forEach(function(u,l){var c=e.get(u);null==c||l.version.isEqual(Ee.MIN)||s.has(l.key)&&!c.hasPendingWrites||l.version.compareTo(c.version)>=0?(r.addEntry(l),a=a.insert(u,l)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version),t.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})}));var l=t.snapshotVersion;if(!l.isEqual(Ee.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(e){return v(l.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+e),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,l)});o.push(c)}return He.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,a)})})},e.shouldPersistQueryData=function(e,t,n){return 0!==t.resumeToken.length&&(0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return He.forEach(e,function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),He.forEach(e.removedKeys,function(e){return t.persistence.referenceDelegate.removeReference(n,e)})})})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(i){return i?(r=i,He.resolve()):t.queryCache.allocateTargetId(n).next(function(i){return r=new Jt(e,i,Wt.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)})}).next(function(){return v(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,r})})},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,e).next(function(i){v(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,s=n.queryDataByTarget[o],a=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?He.resolve():He.forEach(a,function(e){return n.persistence.referenceDelegate.removeReference(r,e)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,s)})})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),s=He.resolve();return o.forEach(function(r){s=s.next(function(){return n.getEntry(e,r)}).next(function(e){var o=e,s=t.docVersions.get(r);v(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(s)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o):v(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))})}),s.next(function(){return r.mutationQueue.removeMutationBatch(e,i)})},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.queryDataByTarget)})},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",function(n){return t.queryCache.getQueryDataForTarget(n,e).next(function(e){return e?e.query:null})})},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return e.remoteDocuments.getNewDocumentChanges(t)})},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),Yn=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new Ae(Qn.compareByKey)}return e.prototype.checkEmpty=function(e){return He.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return v(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,He.resolve()},e.prototype.getLastStreamToken=function(e){return He.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,He.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new je(i,t,n,r);this.mutationQueue.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Qn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return He.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return He.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return v(null!=n,"Failed to find local mutation batch."),He.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return He.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},e.prototype.getAllMutationBatches=function(e){return He.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Qn(t,0),i=new Qn(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(e){v(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);v(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),He.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Ae(Q);return t.forEach(function(e){var t=new Qn(e,0),i=new Qn(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],function(t){v(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)})}),He.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;ce.isDocumentKey(i)||(i=i.child(""));var o=new Qn(new ce(i),0),s=new Ae(Q);return this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.targetOrBatchId)),!0)},o),He.resolve(this.findMutationBatches(s))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;v(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return He.forEach(t.mutations,function(i){var o=new Qn(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)}).next(function(){n.batchesByDocumentKey=r})},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new Qn(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return He.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),He.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return v(n.batchId===e,"If found batch must match"),n},e}(),Jn=function(){function e(e){this.persistence=e,this.queries=new yt(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=Ee.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Wn,this.targetCount=0,this.targetIdGenerator=Ze.forQueryCache()}return e.prototype.getTargetCount=function(e){return He.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach(function(e,n){return t(n)}),He.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return He.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return He.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,He.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),He.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return v(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,He.resolve()},e.prototype.updateQueryData=function(e,t){return v(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),He.resolve()},e.prototype.removeQueryData=function(e,t){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,He.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach(function(s,a){a.sequenceNumber<=t&&!n[a.targetId]&&(r.queries.delete(s),o.push(r.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),He.waitFor(o).next(function(){return i})},e.prototype.getQueryCount=function(e){return He.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return He.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return y("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.addReference(e,t))}),He.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.removeReference(e,t))}),He.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),He.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return He.resolve(n)},e.prototype.containsKey=function(e,t){return He.resolve(this.references.containsKey(t))},e}();var Xn=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Se(ce.comparator),this.newDocumentChanges=Ve(),this.size=0}return e.prototype.addEntries=function(e,t,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.maybeDocument.key;this.docs=this.docs.insert(a,s),this.newDocumentChanges=this.newDocumentChanges.add(a),r.push(this.indexManager.addToCollectionParentIndex(e,a.path.popLast()))}return this.size+=n,He.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=this.docs.get(t);return n?(this.docs=this.docs.remove(t),this.size-=n.size,He.resolve(n.size)):He.resolve(0)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return He.resolve(n?n.maybeDocument:null)},e.prototype.getSizedEntry=function(e,t){return He.resolve(this.docs.get(t))},e.prototype.getEntries=function(e,t){var n=this,r=Oe();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)}),He.resolve(r)},e.prototype.getSizedEntries=function(e,t){var n=this,r=Oe(),i=new Se(ce.comparator);return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null),i=i.insert(e,t?t.size:0)}),He.resolve({maybeDocuments:r,sizeMap:i})},e.prototype.getDocumentsMatchingQuery=function(e,t){v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Pe(),r=new ce(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),s=o.key,a=o.value.maybeDocument;if(!t.path.isPrefixOf(s.path))break;a instanceof pt&&t.matches(a)&&(n=n.insert(a.key,a))}return He.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return He.forEach(this.docs,function(e){return t(e)})},e.prototype.getNewDocumentChanges=function(e){var t=this,n=xe();return this.newDocumentChanges.forEach(function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new gt(e,Ee.forDeletedDoc());n=n.insert(e,i)}),this.newDocumentChanges=Ve(),He.resolve(n)},e.prototype.newChangeBuffer=function(){return new Zn(this.sizer,this)},e.prototype.getSize=function(e){return He.resolve(this.size)},e}(),Zn=function(e){function t(t,n){var r=e.call(this)||this;return r.sizer=t,r.documentCache=n,r}return a.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(e,n){var o=t.documentSizes.get(e);v(void 0!==o,"Attempting to change document "+e.toString()+" without having read it first");var s=t.sizer(n);r+=s-o,i.push({maybeDocument:n,size:s})}),this.documentCache.addEntries(e,i,r)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getSizedEntries(e,t)},t}(vt),er=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new oe(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Jn(this);this.indexManager=new It,this.remoteDocumentCache=new Xn(this.indexManager,function(e){return n.referenceDelegate.documentSize(e)})}return e.createLruPersistence=function(t,n,r){return new e(t,function(e){return new rr(e,new Xt(n),r)})},e.createEagerPersistence=function(t){return new e(t,function(e){return new nr(e)})},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return[2,[this.clientId]]})})},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Yn(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;p("MemoryPersistence","Starting transaction:",e);var i=new tr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(e){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return e})}).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return He.or((n=this.mutationQueues,r=[],I(n,function(e,t){return r.push(t)}),r).map(function(n){return function(){return n.containsKey(e,t)}}));var n,r},e}(),tr=function(){return function(e){this.currentSequenceNumber=e}}(),nr=function(){function e(e){this.persistence=e}return e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),He.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),He.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),He.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.orphanedDocuments.add(e)})}).next(function(){return r.removeQueryData(e,t)})},e.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache();return He.forEach(this.orphanedDocuments,function(r){return t.isReferenced(e,r).next(function(t){return t?He.resolve():n.removeEntry(e,r).next(function(){})})})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next(function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)})},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return He.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return He.resolve(n.inMemoryPins.containsKey(t))}])},e}(),rr=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.orphanedSequenceNumbers=new yt(function(e){return ve(e.path)}),this.garbageCollector=new on(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return He.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,function(e){t++}).next(function(){return t})},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return He.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(e,r,i).next(function(e){return e?He.resolve():t(i)})})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(e,function(o){return n.isPinned(e,o,t).next(function(t){return t?He.resolve():(r++,i.removeEntry(e,o).next())})}).next(function(){return r})},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),He.resolve()},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),He.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),He.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),He.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return He.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return He.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return He.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),ir=Number,or=ir.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),sr=ir.MAX_SAFE_INTEGER||Math.pow(2,53)-1,ar=ir.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function ur(e){return null==e}function lr(e){return ar(e)&&e<=sr&&e>=or}var cr,hr=function(){function e(e,t,n,r,i){this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return t.lastAttemptTime=Date.now(),e()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(cr||(cr={}));var dr,fr,pr=1e3,gr=6e4,mr=1.5,yr=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=cr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new hr(e,t,pr,mr,gr)}return e.prototype.isStarted=function(){return this.state===cr.Starting||this.state===cr.Open||this.state===cr.Backoff},e.prototype.isOpen=function(){return this.state===cr.Open},e.prototype.start=function(){this.state!==cr.Error?(v(this.state===cr.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(cr.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=cr.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return e.handleIdleCloseTimer()}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.isOpen()?[2,this.close(cr.Initial)]:[2]})})},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(e===cr.Error||ur(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==cr.Error?this.backoff.reset():t&&t.code===_.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}})})},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;v(this.state===cr.Initial,"Must be in initial state to auth"),this.state=cr.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(t){e.closeCount===n&&e.startStream(t)},function(n){t(function(){var t=new C(_.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)})})},e.prototype.startStream=function(e){var t=this;v(this.state===cr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return v(t.state===cr.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=cr.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.performBackoff=function(){var e=this;v(this.state===cr.Error,"Should only perform backoff when in Error state"),this.state=cr.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return v(this.state===cr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=cr.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},e.prototype.handleStreamClose=function(e){return v(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+e),this.stream=null,this.close(cr.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget(function(){return t.closeCount===e?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),vr=function(e){function t(t,n,r,i,o){var s=e.call(this,t,Z.ListenStreamConnectionBackoff,Z.ListenStreamIdle,n,r,o)||this;return s.serializer=i,s}return a.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(yr),br=function(e){function t(t,n,r,i,o){var s=e.call(this,t,Z.WriteStreamConnectionBackoff,Z.WriteStreamIdle,n,r,o)||this;return s.serializer=i,s.handshakeComplete_=!1,s}return a.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(v(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return v(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},t}(yr),wr=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new br(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new vr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)})},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=xe();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var i=[];return e.forEach(function(e){var t=r.get(e);v(!!t,"Missing entity in write response for "+e),i.push(t)}),i})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(e,t,r)}).catch(function(e){throw e.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(e,t,r)}).catch(function(e){throw e.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e}(),_r=function(){function e(e){this.datastore=e,this.readVersions=Fe(),this.mutations=[],this.committed=!1,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n=this;return a.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach(function(e){e instanceof gt||e instanceof pt?n.recordVersion(e):y("Document in a transaction was a "+e.constructor.name)}),[2,t]}})})},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new Gn(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach(function(t){e=e.remove(t.key)}),!e.isEmpty())throw new C(_.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e instanceof pt)t=e.version;else{if(!(e instanceof gt))throw y("Document in a transaction was a "+e.constructor.name);t=Ee.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new C(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?Bn.updateTime(t):Bn.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(Ee.forDeletedDoc()))throw new C(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bn.updateTime(t)}return Bn.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){v(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(dr||(dr={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(fr||(fr={}));var Cr,Er=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=dr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(dr.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Z.OnlineStateTimeout,1e4,function(){return e.onlineStateTimer=null,v(e.state===dr.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(dr.Offline),Promise.resolve()}))},e.prototype.handleWatchStreamFailure=function(e){this.state===dr.Online?(this.setAndBroadcast(dr.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(dr.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===dr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(t),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();function Sr(e){switch(e){case _.OK:return y("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return y("Unknown status code: "+e)}}function Tr(e){if(void 0===e)return g("GRPC error has no .code"),_.UNKNOWN;switch(e){case Cr.OK:return _.OK;case Cr.CANCELLED:return _.CANCELLED;case Cr.UNKNOWN:return _.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return _.INTERNAL;case Cr.UNAVAILABLE:return _.UNAVAILABLE;case Cr.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Cr.NOT_FOUND:return _.NOT_FOUND;case Cr.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Cr.ABORTED:return _.ABORTED;case Cr.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Cr.DATA_LOSS:return _.DATA_LOSS;default:return y("Unknown status code: "+e)}}function Dr(e){if(void 0===e)return Cr.OK;switch(e){case _.OK:return Cr.OK;case _.CANCELLED:return Cr.CANCELLED;case _.UNKNOWN:return Cr.UNKNOWN;case _.DEADLINE_EXCEEDED:return Cr.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return Cr.RESOURCE_EXHAUSTED;case _.INTERNAL:return Cr.INTERNAL;case _.UNAVAILABLE:return Cr.UNAVAILABLE;case _.UNAUTHENTICATED:return Cr.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return Cr.INVALID_ARGUMENT;case _.NOT_FOUND:return Cr.NOT_FOUND;case _.ALREADY_EXISTS:return Cr.ALREADY_EXISTS;case _.PERMISSION_DENIED:return Cr.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return Cr.FAILED_PRECONDITION;case _.ABORTED:return Cr.ABORTED;case _.OUT_OF_RANGE:return Cr.OUT_OF_RANGE;case _.UNIMPLEMENTED:return Cr.UNIMPLEMENTED;case _.DATA_LOSS:return Cr.DATA_LOSS;default:return y("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(Cr||(Cr={}));var Ir,Ar,kr=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ce.comparator(t.key,n.key)}:function(e,t){return ce.comparator(e.key,t.key)},this.keyedMap=Pe(),this.sortedSet=new Se(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Ir||(Ir={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(Ar||(Ar={}));var Nr,xr=function(){function e(){this.changeMap=new Se(ce.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Ir.Added&&n.type===Ir.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Ir.Metadata&&n.type!==Ir.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Ir.Modified&&n.type===Ir.Modified?this.changeMap=this.changeMap.insert(t,{type:Ir.Modified,doc:e.doc}):e.type===Ir.Modified&&n.type===Ir.Added?this.changeMap=this.changeMap.insert(t,{type:Ir.Added,doc:e.doc}):e.type===Ir.Removed&&n.type===Ir.Added?this.changeMap=this.changeMap.remove(t):e.type===Ir.Removed&&n.type===Ir.Modified?this.changeMap=this.changeMap.insert(t,{type:Ir.Removed,doc:n.doc}):e.type===Ir.Added&&n.type===Ir.Removed?this.changeMap=this.changeMap.insert(t,{type:Ir.Modified,doc:e.doc}):y("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),Or=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:Ir.Added,doc:e})}),new e(t,n,kr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Rr=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=Pr.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(Ee.MIN,i,Be(),xe(),Ve())},e}(),Pr=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(w(),n,Ve(),Ve(),Ve())},e}(),Mr=function(){return function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r}}(),Fr=function(){return function(e,t){this.targetId=e,this.existenceFilter=t}}();!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Nr||(Nr={}));var Lr=function(){return function(e,t,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}(),Vr=function(){function e(){this.pendingResponses=0,this.documentChanges=jr(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=Ve(),t=Ve(),n=Ve();return this.documentChanges.forEach(function(r,i){switch(i){case Ir.Added:e=e.add(r);break;case Ir.Modified:t=t.add(r);break;case Ir.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}}),new Pr(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=jr()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Ur=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=xe(),this.pendingDocumentTargetMapping=Br(),this.pendingTargetResets=new Ae(Q)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof pt?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof gt&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ensureTargetState(n);switch(e.state){case Nr.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Nr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Nr.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),v(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Nr.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Nr.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:y("Unknown target watch change state: "+e.state)}})},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):D(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ce(i.path);this.removeDocumentFromTarget(t,o,new gt(o,Ee.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};D(this.targetStates,function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var s=new ce(o.query.path);null!==t.pendingDocumentUpdates.get(s)||t.targetContainsDocument(r,s)||t.removeDocumentFromTarget(r,s,new gt(s,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Ve();this.pendingDocumentTargetMapping.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Wt.LimboResolution||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Rr(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=xe(),this.pendingDocumentTargetMapping=Br(),this.pendingTargetResets=new Ae(Q),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Ir.Modified:Ir.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Ir.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Vr),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new Ae(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;v(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Vr,this.metadataProvider.getRemoteKeysForTarget(e).forEach(function(n){t.removeDocumentFromTarget(e,n,null)})},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Br(){return new Se(ce.comparator)}function jr(){return new Se(ce.comparator)}var qr="RemoteStore",Hr=function(){function e(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(e){n.enqueueAndForget(function(){return a.__awaiter(o,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(p(qr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new Er(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(dr.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(dr.Offline),[2]}})})},e.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(p(qr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},e.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return p(qr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(dr.Unknown),[2]}})})},e.prototype.listen=function(e){v(!S(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){v(S(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(dr.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ur(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(t){return D(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},e.prototype.onWatchStreamClose=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return void 0===e&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(dr.Unknown),[2]})})},e.prototype.onWatchStreamChange=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(dr.Online),e instanceof Lr&&e.state===Nr.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Mr?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Fr?this.watchChangeAggregator.handleExistenceFilter(e):(v(e instanceof Lr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(Ee.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.raiseWatchSnapshot=function(e){var t=this;v(!e.isEqual(Ee.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return D(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:e}))}}),n.targetMismatches.forEach(function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.copy({resumeToken:w()}),t.sendUnwatchRequest(e);var r=new Jt(n.query,e,Wt.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;v(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return S(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),r},e.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var e,t;return a.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.writeStream.writeHandshake(),[2]})})},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}).catch(fn)},e.prototype.onMutationResult=function(e,t){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=qe.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(n){return void 0===e&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then(function(){t.shouldStartWriteStream()&&t.startWriteStream()})]):[2]})})},e.prototype.handleHandshakeError=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return Sr(e.code)?(p(qr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(fn)]):[2]})})},e.prototype.handleWriteError=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n=this;return a.__generator(this,function(r){return Sr(i=e.code)&&i!==_.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then(function(){return n.fillWritePipeline()})]):[2];var i})})},e.prototype.createTransaction=function(){return new _r(this.datastore)},e.prototype.restartNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(dr.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}})})},e.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(p(qr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.applyPrimaryState=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(dr.Unknown),t.label=4;case 4:return[2]}})})},e}(),zr=function(){function e(e,t){if(N("GeoPoint",arguments,2),R("GeoPoint","number",1,e),R("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new C(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return Q(this._lat,e._lat)||Q(this._long,e._long)},e}(),Gr=function(){function e(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[ri]:this.memoizedOrderBy=[new ni(e),ri];else{v(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var s=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ei.ASCENDING;this.memoizedOrderBy.push(s===ei.ASCENDING?ri:ii)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){v(null==this.getInequalityFilterField()||!(t instanceof Qr)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){e+=i[r].canonicalId(),e+=","}ur(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),ur(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(e,t);if(0!==s)return s;n=n||o.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!ur(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Qr&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof Qr&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return ce.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):ce.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){v(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),Kr=function(){return function(){}}(),Wr=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),Qr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return a.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===Wr.IN?(v(r instanceof Fn,"Comparing on key with IN, but filter value not an ArrayValue"),v(r.internalValue.every(function(e){return e instanceof Rn}),"Comparing on key with IN, but an array value was not a RefValue"),new Yr(e,r)):(v(r instanceof Rn,"Comparing on key, but filter value not a RefValue"),v(n!==Wr.ARRAY_CONTAINS&&n!==Wr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new $r(e,n,r));if(r.isEqual(Cn.INSTANCE)){if(n!==Wr.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(An.NAN)){if(n!==Wr.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===Wr.ARRAY_CONTAINS?new Jr(e,r):n===Wr.IN?(v(r instanceof Fn,"IN filter has invalid value: "+r.toString()),new Xr(e,r)):n===Wr.ARRAY_CONTAINS_ANY?(v(r instanceof Fn,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Zr(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case Wr.LESS_THAN:return e<0;case Wr.LESS_THAN_OR_EQUAL:return e<=0;case Wr.EQUAL:return 0===e;case Wr.GREATER_THAN:return e>0;case Wr.GREATER_THAN_OR_EQUAL:return e>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[Wr.LESS_THAN,Wr.LESS_THAN_OR_EQUAL,Wr.GREATER_THAN,Wr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(Kr),$r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=ce.comparator(e.key,t.key);return this.matchesComparison(n)},t}(Qr),Yr=function(e){function t(t,n){var r=e.call(this,t,Wr.IN,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some(function(t){return e.key.isEqual(t.key)})},t}(Qr),Jr=function(e){function t(t,n){return e.call(this,t,Wr.ARRAY_CONTAINS,n)||this}return a.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Fn&&t.contains(this.value)},t}(Qr),Xr=function(e){function t(t,n){var r=e.call(this,t,Wr.IN,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(Qr),Zr=function(e){function t(t,n){var r=e.call(this,t,Wr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return a.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Fn&&n.internalValue.some(function(e){return t.value.contains(e)})},t}(Qr),ei=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),ti=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){v(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())v(o instanceof Rn,"Bound has a non-key value where the key path is being used."),n=ce.comparator(o.key,t.key);else{var s=t.field(i.field);v(void 0!==s,"Field should exist since document matched the orderBy already."),n=o.compareTo(s)}if(i.dir===ei.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},e}(),ni=function(){function e(e,t){this.field=e,void 0===t&&(t=ei.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?pt.compareByKey(e,t):pt.compareByField(this.field,e,t);switch(this.dir){case ei.ASCENDING:return n;case ei.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),ri=new ni(le.keyField(),ei.ASCENDING),ii=new ni(le.keyField(),ei.DESCENDING),oi=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new xn(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),si=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=li(e),n=function(e){t.find(function(t){return t.isEqual(e)})||t.push(e)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Fn(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&$(t.elements,this.elements)},e}(),ai=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=li(e),n=function(e){t=t.filter(function(t){return!t.isEqual(e)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Fn(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&$(t.elements,this.elements)},e}(),ui=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof In&&this.operand instanceof In){var r=n.internalValue+this.operand.internalValue;return new In(r)}r=n.internalValue+this.operand.internalValue;return new An(r)},e.prototype.applyToRemoteDocument=function(e,t){return v(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof Sn?e:new In(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function li(e){return e instanceof Fn?e.internalValue.slice():[]}var ci,hi,di=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),fi=((ci={})[ei.ASCENDING.name]="ASCENDING",ci[ei.DESCENDING.name]="DESCENDING",ci),pi=((hi={})[Wr.LESS_THAN.name]="LESS_THAN",hi[Wr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",hi[Wr.GREATER_THAN.name]="GREATER_THAN",hi[Wr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",hi[Wr.EQUAL.name]="EQUAL",hi[Wr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",hi[Wr.IN.name]="IN",hi[Wr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",hi),gi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(e,t){v(!ur(e),t+" is missing")}function yi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):y("can't parse "+e)}var vi=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?_.UNKNOWN:Tr(e.code);return new C(t,e.message||"")},e.prototype.toInt32Value=function(e){return ur(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return ur(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);v(!!e,"Cannot deserialize null or undefined timestamp.");var t=yi(e.seconds||"0"),n=e.nanos||0;return new Ce(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=gi.exec(e);if(v(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new Ce(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ee.fromBase64String(e)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ee.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return v(!!e,"Trying to deserialize version that isn't set"),Ee.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=ae.fromString(e);return v(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return v(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),v(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new ce(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?ae.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new ae(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new ae(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return v(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Cn)return{nullValue:"NULL_VALUE"};if(e instanceof En)return{booleanValue:e.value()};if(e instanceof In)return{integerValue:""+e.value()};if(e instanceof An){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof kn?{stringValue:e.value()}:e instanceof Mn?{mapValue:this.toMapValue(e)}:e instanceof Fn?{arrayValue:this.toArrayValue(e)}:e instanceof Nn?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Pn?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof On?{bytesValue:this.toBytes(e.value())}:e instanceof Rn?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:y("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Cn.INSTANCE;if("booleanValue"in e)return En.of(e.booleanValue);if("integerValue"in e)return new In(yi(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return An.NAN;if("Infinity"===e.doubleValue)return An.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return An.NEGATIVE_INFINITY}return new An(e.doubleValue)}if("stringValue"in e)return new kn(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){mi(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Fn(n.map(function(e){return t.fromValue(e)}))}if("timestampValue"in e)return mi(e.timestampValue,"timestampValue"),new Nn(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){mi(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new Pn(new zr(r,i))}if("bytesValue"in e){mi(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new On(o)}if("referenceValue"in e){mi(e.referenceValue,"referenceValue");var s=this.fromResourceName(e.referenceValue),a=new ie(s.get(1),s.get(3)),u=new ce(this.extractLocalPathFromResourceName(s));return new Rn(a,u)}return y("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return v(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){return new pt(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasCommittedMutations:!!t})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},e.prototype.fromFields=function(e){var t=this,n=e,r=Mn.EMPTY;return I(n,function(e,n){r=r.set(new le([e]),t.fromValue(n))}),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){v(!!e.found,"Tried to deserialize a found document from a missing document."),mi(e.found.name,"doc.found.name"),mi(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),r=this.fromFields(e.found.fields||{});return new pt(t,n,r,{},e.found)},e.prototype.fromMissing=function(e){v(!!e.missing,"Tried to deserialize a missing document from a found document."),v(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new gt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):y("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Nr.Added:return"ADD";case Nr.Current:return"CURRENT";case Nr.NoChange:return"NO_CHANGE";case Nr.Removed:return"REMOVE";case Nr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof Fr)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Mr){if(e.newDoc instanceof pt){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof gt){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Lr){var n=void 0;return e.cause&&(n={code:Dr(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t;if("targetChange"in e){mi(e.targetChange,"targetChange");var n=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=e.targetChange.resumeToken||this.emptyByteString(),o=e.targetChange.cause,s=o&&this.fromRpcStatus(o);t=new Lr(n,r,i,s||null)}else if("documentChange"in e){mi(e.documentChange,"documentChange"),mi(e.documentChange.document,"documentChange.name"),mi(e.documentChange.document.name,"documentChange.document.name"),mi(e.documentChange.document.updateTime,"documentChange.document.updateTime");var a=e.documentChange,u=this.fromName(a.document.name),l=this.fromVersion(a.document.updateTime),c=this.fromFields(a.document.fields||{}),h=new pt(u,l,c,{},a.document),d=a.targetIds||[],f=a.removedTargetIds||[];t=new Mr(d,f,h.key,h)}else if("documentDelete"in e){mi(e.documentDelete,"documentDelete"),mi(e.documentDelete.document,"documentDelete.document");var p=e.documentDelete;u=this.fromName(p.document),l=p.readTime?this.fromVersion(p.readTime):Ee.forDeletedDoc(),h=new gt(u,l),f=p.removedTargetIds||[];t=new Mr([],f,h.key,h)}else if("documentRemove"in e){mi(e.documentRemove,"documentRemove"),mi(e.documentRemove.document,"documentRemove");var g=e.documentRemove;u=this.fromName(g.document),f=g.removedTargetIds||[];t=new Mr([],f,u,null)}else{if(!("filter"in e))return y("Unknown change type "+JSON.stringify(e));mi(e.filter,"filter"),mi(e.filter.targetId,"filter.targetId");var m=e.filter,v=m.count||0,b=new di(v),w=m.targetId;t=new Fr(w,b)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Nr.NoChange:"ADD"===e?Nr.Added:"REMOVE"===e?Nr.Removed:"CURRENT"===e?Nr.Current:"RESET"===e?Nr.Reset:y("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return Ee.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ee.MIN:t.readTime?this.fromVersion(t.readTime):Ee.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof qn)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Gn)t={delete:this.toName(e.key)};else if(e instanceof Hn)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof zn))return y("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):Bn.NONE;if(e.update){mi(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new Hn(r,i,o,n)}return new qn(r,i,n)}if(e.delete){r=this.fromName(e.delete);return new Gn(r,n)}if(e.transform){r=this.fromName(e.transform.document);var s=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new zn(r,s)}return y("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return v(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?Bn.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?Bn.exists(e.exists):Bn.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map(function(e){return n.fromValue(e)})),new Un(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(v(void 0!==t,"Received a write result without a commit time"),e.map(function(e){return n.fromWriteResult(e,t)})):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof oi)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof si)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof ai)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof ui)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)v("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=oi.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new si(r.map(function(e){return t.fromValue(e)}))}else if("removeAllFromArray"in e){r=e.removeAllFromArray.values||[];n=new ai(r.map(function(e){return t.fromValue(e)}))}else if("increment"in e){var i=this.fromValue(e.increment);v(i instanceof Sn,"NUMERIC_ADD transform requires a NumberValue"),n=new ui(i)}else y("Unknown transform proto: "+JSON.stringify(e));var o=le.fromServerFormat(e.fieldPath);return new Vn(o,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;v(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Gr.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Gr(t,i,a,s,u,l,c)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case Wt.Listen:return null;case Wt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Wt.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof Qr?t.toUnaryOrFieldFilter(e):y("Unrecognized filter: "+JSON.stringify(e))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):y("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new ti(r,n)},e.prototype.toDirection=function(e){return fi[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return ei.ASCENDING;case"DESCENDING":return ei.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return pi[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Wr.EQUAL;case"GREATER_THAN":return Wr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Wr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Wr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Wr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Wr.ARRAY_CONTAINS;case"IN":return Wr.IN;case"ARRAY_CONTAINS_ANY":return Wr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return le.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new ni(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return Qr.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Wr.EQUAL){if(e.value.isEqual(An.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(Cn.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return Qr.create(t,Wr.EQUAL,An.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return Qr.create(n,Wr.EQUAL,Cn.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map(function(e){return le.fromServerFormat(e)});return Ln.fromArray(t)},e}(),bi=function(){return function(){this.listeners=[]}}(),wi=function(){function e(e){this.syncEngine=e,this.queries=new yt(function(e){return e.canonicalId()}),this.onlineState=dr.Unknown,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new bi,this.queries.set(t,r)),r.listeners.push(e),e.applyOnlineStateChange(this.onlineState),r.viewSnap&&e.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(t).then(function(e){return r.targetId=e,e}):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return a.__generator(this,function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},e.prototype.onWatchChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r.query,o=this.queries.get(i);if(o){for(var s=0,a=o.listeners;s<a.length;s++){a[s].onViewSnapshot(r)}o.viewSnap=r}}},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e,this.queries.forEach(function(t,n){for(var r=0,i=n.listeners;r<i.length;r++){i[r].applyOnlineStateChange(e)}})},e}(),_i=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=dr.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(v(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Ir.Metadata&&t.push(i)}e=new Or(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==dr.Offline;return this.options.waitForSyncWhenOnline&&n?(v(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===dr.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Or.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),Ci=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=Ve(),i=Ve(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case Ir.Added:r=r.add(a.doc.key);break;case Ir.Removed:i=i.add(a.doc.key)}}return new e(t,r,i)},e}(),Ei=function(){return function(e){this.key=e}}(),Si=function(){return function(e){this.key=e}}(),Ti=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Ve(),this.mutatedKeys=Ve(),this.documentSet=new kr(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new xr,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),c=t instanceof pt?t:null;c&&(v(e.isEqual(c.key),"Mismatching keys found in document changes: "+e+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!l&&n.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;l&&c?l.data.isEqual(c.data)?h!==d&&(r.track({type:Ir.Metadata,doc:c}),f=!0):n.shouldWaitForSyncedDocument(l,c)||(r.track({type:Ir.Modified,doc:c}),f=!0,u&&n.query.docComparator(c,u)>0&&(a=!0)):!l&&c?(r.track({type:Ir.Added,doc:c}),f=!0):l&&!c&&(r.track({type:Ir.Removed,doc:l}),f=!0,u&&(a=!0));f&&(c?(s=s.add(c),o=d?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))}),this.query.hasLimit())for(;s.size>this.query.limit;){var l=s.last();s=s.delete(l.key),o=o.delete(l.key),r.track({type:Ir.Removed,doc:l})}return v(!a||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:a,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;v(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case Ir.Added:return 1;case Ir.Modified:case Ir.Metadata:return 2;case Ir.Removed:return 0;default:return y("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)}),this.applyTargetChange(n);var s=t?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Ar.Synced:Ar.Local,u=a!==this.syncState;return this.syncState=a,0!==o.length||u?{snapshot:new Or(this.query,e.documentSet,i,o,e.mutatedKeys,a===Ar.Local,u,!1),limboChanges:s}:{limboChanges:s}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===dr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new xr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.add(e)}),e.modifiedDocuments.forEach(function(e){return v(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")}),e.removedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)}),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Ve(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new Si(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new Ei(e))}),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=Ve();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return Or.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ar.Local)},e}();var Di=function(){return function(e,t,n){this.query=e,this.targetId=t,this.view=n}}(),Ii=function(){return function(e){this.key=e}}(),Ai=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new yt(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Se(ce.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Wn,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Ze.forSyncEngine(),this.isPrimary=void 0,this.onlineState=dr.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){v(null!==e,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o;return a.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=s.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=s.sent(),this.isPrimary&&this.remoteStore.listen(i),s.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}})})},e.prototype.initializeViewAndComputeSnapshot=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,l,c;return a.__generator(this,function(a){switch(a.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n)];case 1:return r=a.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return i=a.sent(),o=new Ti(n,i),s=o.computeDocChanges(r),u=Pr.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==dr.Offline),v(0===(l=o.applyChanges(s,!0===this.isPrimary,u)).limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!l.snapshot,"applyChanges for new view should always return a snapshot"),c=new Di(n,e.targetId,o),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[e.targetId]=c,[2,l.snapshot]}})})},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n,r;return a.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=i.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=i.sent(),r=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,r.limboChanges),[2,r]}})})},e.prototype.unlisten=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then(function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)}).catch(fn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},e.prototype.write=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},e.prototype.runTransaction=function(e,t){return void 0===t&&(t=5),a.__awaiter(this,void 0,void 0,function(){var n,r,i,o;return a.__generator(this,function(s){switch(s.label){case 0:if(v(t>=0,"Got negative number of retries for transaction."),n=this.remoteStore.createTransaction(),ur(r=e(n))||!r.catch||!r.then)return[2,Promise.reject(Error("Transaction callback must return a Promise"))];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r];case 2:return i=s.sent(),[4,n.commit()];case 3:return s.sent(),[2,i];case 4:return o=s.sent(),t>0&&this.isRetryableTransactionError(o)?[2,this.runTransaction(e,t-1)]:[2,Promise.reject(o)];case 5:return[2]}})})},e.prototype.applyRemoteEvent=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n=this;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),I(e.targetChanges,function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(v(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?v(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(v(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===fr.RemoteStore||!this.isPrimary&&t===fr.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(t,r){var i=r.view.applyOnlineStateChange(e);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,l=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new Se(ce.comparator)).insert(r,new gt(r,Ee.forDeletedDoc())),o=Ve().add(r),s=new Rr(Ee.MIN,{},new Ae(Q),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return v(!!(u=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return l.removeAndCleanupQuery(u)}).catch(fn)];case 2:a.sent(),this.syncEngineListener.onWatchError(u.query,t),a.label=3;case 3:return[2]}})})},e.prototype.applyBatchState=function(e,t,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):y("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},e.prototype.applySuccessfulWrite=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},e.prototype.rejectFailedWrite=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Se(Q)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(v(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach(function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)})}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i instanceof Ei)this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i);else if(i instanceof Si){p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else y("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){p("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=Gr.atPath(t.path);this.limboResolutionsByTarget[n]=new Ii(t),this.remoteStore.listen(new Jt(r,n,Wt.LimboResolution,oe.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return a.__generator(this,function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(s,a){i.push(Promise.resolve().then(function(){var t=a.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(a.query).then(function(e){return a.view.computeDocChanges(e,t)}):t}).then(function(e){var i=t&&t.targetChanges[a.targetId],s=a.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(a.targetId,s.limboChanges),s.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=Ci.fromSnapshot(a.targetId,s.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return s.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return s.sent(),[2]}})})},e.prototype.assertSubscribed=function(e){v(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n;return a.__generator(this,function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?[4,this.localStore.handleUserChange(e)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},e.prototype.applyPrimaryState=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,s,u,l=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],u=Promise.resolve(),D(this.queryViewsByTarget,function(e,t){l.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return l.unlisten(t.query)}),l.remoteStore.unlisten(t.targetId)}),[4,u]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},e.prototype.resetLimboDocuments=function(){var e=this;D(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Se(ce.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,s,u,l,c;return a.__generator(this,function(a){switch(a.label){case 0:t=[],n=[],r=0,i=e,a.label=1;case 1:return r<i.length?(o=i[r],s=void 0,(u=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(u.query,!0)]:[3,5]):[3,11];case 2:return a.sent(),[4,this.localStore.allocateQuery(u.query)];case 3:return s=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(u)];case 4:return(l=a.sent()).snapshot&&n.push(l.snapshot),[3,9];case 5:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return v(!!(c=a.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return s=a.sent(),[4,this.initializeViewAndComputeSnapshot(s,!1)];case 8:a.sent(),a.label=9;case 9:t.push(s),a.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}})})},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Sr(t)}return!1},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return a.__awaiter(this,void 0,void 0,function(){var r,i,o,s,u;return a.__generator(this,function(a){switch(a.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return a.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=a.sent(),i=Rr.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return a.sent(),[3,11];case 4:return o=a.sent(),(l=o).code!==_.DATA_LOSS||l.message!==bt?[3,6]:(s=[],D(this.queryViewsByTarget,function(e){return s.push(e)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)]);case 5:return a.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return u=this.queryViewsByTarget[e],this.removeAndCleanupQuery(u),[4,this.localStore.releaseQuery(u.query,!0)];case 9:return a.sent(),this.syncEngineListener.onWatchError(u.query,n),[3,11];case 10:y("Unexpected target state: "+t),a.label=11;case 11:return[2]}var l})})},e.prototype.applyActiveTargetsChange=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,l,c,h,d=this;return a.__generator(this,function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,f.label=1;case 1:return n<r.length?(h=r[n],v(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(i=f.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=f.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:f.sent(),this.remoteStore.listen(o),f.label=5;case 5:return n++,[3,1];case 6:s=function(e){var t;return a.__generator(this,function(n){switch(n.label){case 0:return(t=u.queryViewsByTarget[e])?[4,u.localStore.releaseQuery(t.query,!1).then(function(){d.remoteStore.unlisten(e),d.removeAndCleanupQuery(t)}).catch(fn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,l=0,c=t,f.label=7;case 7:return l<c.length?(h=c[l],[5,s(h)]):[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Ve().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Ve()},e}(),ki=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Ni="SharedClientState",xi="firestore_clients",Oi="firestore_mutations",Ri="firestore_targets",Pi="firestore_online_state",Mi="firestore_sequence_number",Fi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,v(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new C(i.error.code,i.error.message)),o?new e(t,n,i.state,s):(g(Ni,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Li=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,v(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new C(r.error.code,r.error.message)),i?new e(t,r.state,o):(g(Ni,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Vi=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Be(),s=0;i&&s<r.activeTargetIds.length;++s)i=lr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(g(Ni,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Ui=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&n.onlineState in dr&&"string"==typeof n.clientId?new e(n.clientId,dr[n.onlineState]):(g(Ni,"Failed to parse online state: "+t),null)},e}(),Bi=function(){function e(){this.activeTargetIds=Be()}return e.prototype.addQueryTarget=function(e){v(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),ji=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Mi+"_"+r,this.activeClients[this.localClientId]=new Bi,this.clientStateKeyRe=new RegExp("^"+xi+"_"+s+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Oi+"_"+s+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ri+"_"+s+"_(\\d+)$"),this.onlineStateKey=Pi+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var e,t,n,r,i,o,s,u,l,c,h,d=this;return a.__generator(this,function(a){switch(a.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Vi.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),l=0,c=this.earlyEvents;l<c.length;l++)h=c[l],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return d.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=Be();return I(this.activeClients,function(t,n){e=e.unionWith(n.activeTargetIds)}),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Li.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.removeMutationState(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return p(Ni,"READ",e,t),t},e.prototype.setItem=function(e,t){p(Ni,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){p(Ni,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(p(Ni,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(t,void 0,void 0,function(){var t,n,r,i,o,s;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(e){var t=oe.INVALID;if(null!=e)try{var n=JSON.parse(e);v("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(r){g(Ni,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==oe.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Fi(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:dr[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new Li(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return v(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),xi+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return Ri+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Oi+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return v(null!==n,"Cannot parse client state key '"+e+"'"),Vi.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);v(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Fi.fromWebStorageEntry(new ki(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);v(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Li.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Ui.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return e.user.uid!==this.currentUser.uid?(p(Ni,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach(function(e){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){return r.has(e)||o.push(e),[2]})})}),r.forEach(function(e){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){return i.has(e)||s.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,s)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var qi=function(){function e(){this.localState=new Bi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new Bi,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Hi=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return nn.withCacheSize(this.cacheSizeBytes)},e}(),zi=function(){return function(){}}(),Gi=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=W.newId(),this._clientShutdown=!1}return e.prototype.start=function(e){var t=this;this.verifyNotShutdown();var n=new he,r=new he,i=!1;return this.credentials.setChangeListener(function(o){i?t.asyncQueue.enqueueAndForget(function(){return t.handleCredentialChange(o)}):(i=!0,t.initializePersistence(e,r,o).then(function(e){return t.initializeRest(o,e)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.syncEngine.enableNetwork()})},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Hi?this.startIndexedDbPersistence(n,e).then(function(e){return t.resolve(),e}).catch(function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof C?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotShutdown=function(){if(this._clientShutdown)throw new C(_.FAILED_PRECONDITION,"The client has already been shutdown.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=dn.buildStoragePrefix(this.databaseInfo),i=new vi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,o;return a.__generator(this,function(s){switch(s.label){case 0:if(t.synchronizeTabs&&!ji.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=t.lruParams(),t.synchronizeTabs?(this.sharedClientState=new ji(this.asyncQueue,this.platform,r,this.clientId,e),[4,dn.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=s.sent(),[3,4];case 2:return this.sharedClientState=new qi,[4,dn.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=s.sent(),s.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},e.prototype.startMemoryPersistence=function(){return this.persistence=er.createEagerPersistence(this.clientId),this.sharedClientState=new qi,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return p("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return a.__awaiter(n,void 0,void 0,function(){var n,i,o,s,u,l=this;return a.__generator(this,function(c){switch(c.label){case 0:return this.localStore=new $n(this.persistence,e),t&&(this.lruScheduler=new rn(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new wr(this.asyncQueue,r,this.credentials,i),s=function(e){return l.syncEngine.applyOnlineStateChange(e,fr.RemoteStore)},u=function(e){return l.syncEngine.applyOnlineStateChange(e,fr.SharedClientState)},this.remoteStore=new Hr(this.localStore,o,this.asyncQueue,s,n),this.syncEngine=new Ai(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new wi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return a.__awaiter(l,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}})})})];case 3:return c.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return a.__awaiter(l,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.shutdown()];case 1:return e.sent(),[2]}})})})];case 4:return c.sent(),[2]}})})})},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return e.syncEngine.disableNetwork()})},e.prototype.shutdown=function(){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this._clientShutdown?[3,4]:(this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()]);case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:e.sent(),this.credentials.removeChangeListener(),this._clientShutdown=!0,e.label=4;case 4:return[2]}})})})},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotShutdown();var i=new _i(e,t,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},e.prototype.unlisten=function(e){var t=this;this.verifyNotShutdown(),this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.unlisten(e)})},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof pt)return e;if(e instanceof gt)return null;throw new C(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=Ve(),r=new Ti(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot})},e.prototype.write=function(e){var t=this;this.verifyNotShutdown();var n=new he;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},Object.defineProperty(e.prototype,"clientShutdown",{get:function(){return this._clientShutdown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;return this.verifyNotShutdown(),this.asyncQueue.enqueue(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(e){return[2]})})}).then(function(){return t.syncEngine.runTransaction(e)})},e}(),Ki=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),Wi=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+K(r,"element")+".")}("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(R("FieldPath","string",n,e[n]),0===e[n].length)throw new C(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(le.keyField().canonicalString()),e}(),Qi=new RegExp("[~\\*/\\[\\]]");var $i=function(){return function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}}}(),Yi=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(ki.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Ji=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(e.tokenCounter!==t)throw new C(_.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new $i(n.accessToken,e.currentUser)):null})},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return v(null===e||"string"==typeof e,"Received invalid UID: "+e),new ki(e)},e}(),Xi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ki.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),Zi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new Xi(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(ki.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function eo(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e,["next","error","complete"])}var to,no=function(){function e(e){this._methodName=e}return e.delete=function(){return k("FieldValue.delete",arguments),ro.instance},e.serverTimestamp=function(){return k("FieldValue.serverTimestamp",arguments),io.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return x("FieldValue.arrayUnion",arguments,1),new oo(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return x("FieldValue.arrayRemove",arguments,1),new so(e)},e.increment=function(e){return R("FieldValue.increment","number",1,e),N("FieldValue.increment",arguments,1),new ao(e)},e.prototype.isEqual=function(e){return this===e},e}(),ro=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return a.__extends(t,e),t.instance=new t,t}(no),io=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(t,e),t.instance=new t,t}(no),oo=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return a.__extends(t,e),t}(no),so=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return a.__extends(t,e),t}(no),ao=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return a.__extends(t,e),t}(no),uo=E(no,"Use FieldValue.<field>() instead."),lo=/^__.*__$/,co=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Hn(e,this.data,this.fieldMask,t)):n.push(new qn(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new zn(e,this.fieldTransforms)),n},e}(),ho=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new Hn(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new zn(e,this.fieldTransforms)),n},e}();function fo(e){switch(e){case to.Set:case to.MergeSet:case to.Update:return!0;case to.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument"}(to||(to={}));var po=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(fo(this.dataSource)&&lo.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),go=function(){return function(e,t){this.databaseId=e,this.key=t}}(),mo=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new po(to.Set,e,le.EMPTY_PATH);vo("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new co(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new po(to.MergeSet,e,le.EMPTY_PATH);vo("Data must be an object, but it was:",r,t);var i,o,s=this.parseData(t,r);if(n){for(var a=new Ae(le.comparator),u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof Wi)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=wo(e,c)}if(!r.contains(h))throw new C(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=Ln.fromSet(a),o=r.fieldTransforms.filter(function(e){return i.covers(e.field)})}else i=Ln.fromArray(r.fieldMask),o=r.fieldTransforms;return new co(s,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new po(to.Update,e,le.EMPTY_PATH);vo("Data must be an object, but it was:",r,t);var i=new Ae(le.comparator),o=Mn.EMPTY;I(t,function(t,s){var a=wo(e,t),u=r.childContextForFieldPath(a);if((s=n.runPreConverter(s,u))instanceof ro)i=i.add(a);else{var l=n.parseData(s,u);null!=l&&(i=i.add(a),o=o.set(a,l))}});var s=Ln.fromSet(i);return new ho(o,s,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new po(to.Update,e,le.EMPTY_PATH),o=[bo(e,t)],s=[n];if(r.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(bo(e,r[a])),s.push(r[a+1]);var u=new Ae(le.comparator),l=Mn.EMPTY;for(a=0;a<o.length;++a){var c=o[a],h=i.childContextForFieldPath(c),d=this.runPreConverter(s[a],h);if(d instanceof ro)u=u.add(c);else{var f=this.parseData(d,h);null!=f&&(u=u.add(c),l=l.set(c,f))}}var p=Ln.fromSet(u);return new ho(l,p,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new po(to.Argument,e,le.EMPTY_PATH),r=this.parseData(t,n);return v(null!=r,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=_o(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(yo(e=this.runPreConverter(e,t)))return vo("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof no)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Se(Q);return A(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):I(e,function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))}),new Mn(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=o[i],a=this.parseData(s,t.childContextForArray(r));null==a&&(a=Cn.INSTANCE),n.push(a),r++}return new Fn(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!fo(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof ro){if(t.dataSource!==to.MergeSet)throw t.dataSource===to.Update?(v(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof io)t.fieldTransforms.push(new Vn(t.path,oi.instance));else if(e instanceof oo){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new si(n);t.fieldTransforms.push(new Vn(t.path,r))}else if(e instanceof so){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new ai(n);t.fieldTransforms.push(new Vn(t.path,i))}else if(e instanceof ao){var o=this.parseQueryValue("FieldValue.increment",e._operand),s=new ui(o);t.fieldTransforms.push(new Vn(t.path,s))}else y("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return Cn.INSTANCE;if("number"==typeof e)return lr(e)?new In(e):new An(e);if("boolean"==typeof e)return En.of(e);if("string"==typeof e)return new kn(e);if(e instanceof Date)return new Nn(Ce.fromDate(e));if(e instanceof Ce)return new Nn(new Ce(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof zr)return new Pn(e);if(e instanceof ee)return new On(e);if(e instanceof go)return new Rn(e.databaseId,e.key);throw t.createError("Unsupported field value: "+j(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map(function(t,r){var i=new po(to.Argument,e,le.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))})},e}();function yo(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ce||e instanceof zr||e instanceof ee||e instanceof go||e instanceof no)}function vo(e,t,n){if(!yo(n)||!B(n)){var r=j(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function bo(e,t){if(t instanceof Wi)return t._internalPath;if("string"==typeof t)return wo(e,t);throw new C(_.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function wo(e,t){try{return function(e){if(e.search(Qi)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Wi.bind.apply(Wi,[void 0].concat(e.split("."))))}catch(t){throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=_o(r);throw new C(_.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function _o(e){return e instanceof Error?e.message:e.toString()}var Co="firestore.googleapis.com",Eo=!0,So=!0,To=!1,Do=nn.COLLECTION_DISABLED,Io=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new C(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Co,this.ssl=Eo}else M("settings","non-empty string","host",e.host),this.host=e.host,F("settings","boolean","ssl",e.ssl),this.ssl=T(e.ssl,Eo);if(H("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),F("settings","object","credentials",e.credentials),this.credentials=e.credentials,F("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=T(e.timestampsInSnapshots,So),F("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=nn.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Do&&e.cacheSizeBytes<nn.MINIMUM_CACHE_SIZE_BYTES)throw new C(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+nn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}F("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?To:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),Ao=function(){return function(){}}(),ko=function(){function e(t){var n=this;this._queue=new fe,this.INTERNAL={delete:function(){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.shutdown()];case 1:return e.sent(),[2]}})})}};var r=new Ao;if("object"==typeof t.options){var i=t;r.firebaseApp=i,r.databaseId=e.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Ji(i)}else{var o=t;if(!o.projectId)throw new C(_.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new ie(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Yi}r.settings=new Io({}),this._config=r,this._databaseId=r.databaseId}return e.prototype.settings=function(e){if(N("Firestore.settings",arguments,1),R("Firestore.settings","object",1,e),S(e,"persistence"))throw new C(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Io(e);if(this._firestoreClient&&!this._config.settings.isEqual(t))throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=t,void 0!==t.credentials&&(this._config.credentials=function(e){if(!e)return new Yi;switch(e.type){case"gapi":var t=e.client;return v(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Zi(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new C(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=T(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Hi(this._config.settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=dn.buildStoragePrefix(this.makeDatabaseInfo()),n=new he;return this._queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e;return a.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientShutdown)throw new C(_.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,dn.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new zi),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new ne(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl,this._config.settings.forceLongPolling)},e.prototype.configureClient=function(e){var t=this;v(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),v(!this._firestoreClient,"configureClient() called multiple times");var n=this.makeDatabaseInfo();return this._dataConverter=new mo(function(e){if(e instanceof Oo){var n=t._config.databaseId,r=e.firestore._config.databaseId;if(!r.isEqual(n))throw new C(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new go(t._config.databaseId,e._key)}return e}),this._firestoreClient=new Gi(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!S(t,"projectId"))throw new C(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new C(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ie(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new C(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return N("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Vo(ae.fromString(e),this)},e.prototype.doc=function(e){return N("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Oo.forPath(ae.fromString(e),this)},e.prototype.collectionGroup=function(e){if(N("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Fo(new Gr(ae.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return N("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new No(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new xo(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(d()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(N("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":f(i.DEBUG);break;case"error":f(i.ERROR);break;case"silent":f(i.SILENT);break;default:throw new C(_.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},e}(),No=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;N("Transaction.get",arguments,1);var n=qo("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return y("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof gt)return new Po(t._firestore,n._key,null,!1,!1);if(r instanceof pt)return new Po(t._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},e.prototype.set=function(e,t,n){O("Transaction.set",arguments,2,3);var r=qo("Transaction.set",e,this._firestore),i=(n=Uo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof t||t instanceof Wi?(x("Transaction.update",arguments,3),r=qo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(N("Transaction.update",arguments,2),r=qo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){N("Transaction.delete",arguments,1);var t=qo("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),xo=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){O("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=qo("WriteBatch.set",e,this._firestore),i=(n=Uo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,Bn.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.verifyNotCommitted(),"string"==typeof t||t instanceof Wi?(x("WriteBatch.update",arguments,3),r=qo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(N("WriteBatch.update",arguments,2),r=qo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,Bn.exists(!0))),this},e.prototype.delete=function(e){N("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=qo("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Gn(t._key,Bn.NONE)),this},e.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Oo=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new ce(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(N("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,e),!e)throw new C(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=ae.fromString(e);return new Vo(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){O("DocumentReference.set",arguments,1,2);var n=(t=Uo("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,Bn.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof Wi?(x("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(N("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,Bn.exists(!0)))},e.prototype.delete=function(){return N("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Gn(this._key,Bn.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];O("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||eo(e[i])||(H("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return eo(e[i])?n=e[i]:(R("DocumentReference.onSnapshot","function",i,e[i]),P("DocumentReference.onSnapshot","function",i+1,e[i+1]),P("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Ki({next:function(e){if(t.next){v(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Po(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Gr.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return O("DocumentReference.get",arguments,0,1),jo("DocumentReference.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new Po(t.firestore,t._key,e,!0,e instanceof pt&&e.hasLocalMutations))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new C(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new C(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),Ro=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Po=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return O("DocumentSnapshot.data",arguments,0,1),e=Bo("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data,wn.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(O("DocumentSnapshot.get",arguments,1,2),t=Bo("DocumentSnapshot.get",t),this._document){var n=this._document.data.field(bo("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,wn.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Oo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Ro(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach(function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertValue=function(e,t){if(e instanceof Mn)return this.convertObject(e,t);if(e instanceof Fn)return this.convertArray(e,t);if(e instanceof Rn){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||g("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Oo(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},e}(),Mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return v("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(Po),Fo=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){if(N("Query.where",arguments,3),q("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){!function(e,t,n,r){if(!t.some(function(e){return e===r}))throw new C(_.INVALID_ARGUMENT,"Invalid value "+j(r)+" provided to function "+e+"() for its "+G(n)+" argument. Acceptable values: "+t.join(", "))}("Query.where",["<","<=","==",">=",">","array-contains"],2,n)}var i,o=bo("Query.where",t),s=Wr.fromString(n);if(o.isKeyField()){if(s===Wr.ARRAY_CONTAINS||s===Wr.ARRAY_CONTAINS_ANY)throw new C(_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===Wr.IN){this.validateDisjunctiveFilterElements(r,s);for(var a=[],u=0,l=r;u<l.length;u++){var c=l[u];a.push(this.parseDocumentIdValue(c))}i=new Fn(a)}else i=this.parseDocumentIdValue(r)}else s!==Wr.IN&&s!==Wr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,s),i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var h=Qr.create(o,s,i);return this.validateNewFilter(h),new e(this._query.addFilter(h),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(O("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=ei.ASCENDING;else{if("desc"!==n)throw new C(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=ei.DESCENDING}if(null!==this._query.startAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=bo("Query.orderBy",t),o=new ni(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(N("Query.limit",arguments,1),R("Query.limit","number",1,t),t<=0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(q(e,1,t),t instanceof Po){if(n.length>0)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new C(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var s=o[i];if(s.field.isKeyField())r.push(new Rn(this.firestore._databaseId,t.key));else{var a=t.field(s.field);if(a instanceof xn)throw new C(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=s.field.canonicalString();throw new C(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new ti(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var s=t[o];if(r[o].field.isKeyField()){if("string"!=typeof s)throw new C(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof s);if(!this._query.isCollectionGroupQuery()&&-1!==s.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this._query.path.child(ae.fromString(s));if(!ce.isDocumentKey(a))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new ce(a);i.push(new Rn(this.firestore._databaseId,u))}else{var l=this.firestore._dataConverter.parseQueryValue(e,s);i.push(l)}}return new ti(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];O("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||eo(e[i])||(H("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),eo(e[i])?n=e[i]:(R("Query.onSnapshot","function",i,e[i]),P("Query.onSnapshot","function",i+1,e[i+1]),P("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Ki({next:function(e){t.next&&t.next(new Lo(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),s=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(s)}},e.prototype.get=function(e){var t=this;return O("Query.get",arguments,0,1),jo("Query.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new Lo(t.firestore,t._query,e))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new C(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(ae.fromString(e));if(!ce.isDocumentKey(t))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Rn(this.firestore._databaseId,new ce(t))}if(e instanceof Oo){var n=e;return new Rn(this.firestore._databaseId,n._key)}throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+j(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new C(_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter(function(e){return Number.isNaN(e)}).length>0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof Qr){var t=[Wr.ARRAY_CONTAINS,Wr.ARRAY_CONTAINS_ANY],n=[Wr.IN,Wr.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new C(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var s=this._query.getFirstOrderByField();null!==s&&this.validateOrderByAndInequalityMatch(e.field,s)}else if(i||r){var a=null;if(i&&(a=this._query.findFilterOperator(n)),null===a&&r&&(a=this._query.findFilterOperator(t)),null!=a)throw a===e.op?new C(_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new C(_.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new C(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Lo=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ro(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;O("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(e.prototype,"query",{get:function(){return new Fo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(H("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new C(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(t){var o=new Mo(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return v(t.type===Ir.Added,"Invalid event type for first snapshot"),v(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(e){return t||e.type!==Ir.Metadata}).map(function(t){var r=new Mo(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,s=-1;return t.type!==Ir.Added&&(v((i=o.indexOf(t.doc.key))>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Ir.Removed&&(o=o.add(t.doc),s=o.indexOf(t.doc.key)),{type:Ho(t.type),doc:r,oldIndex:i,newIndex:s}})}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw z("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Mo(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(e){try{Object.defineProperty(Lo.prototype.docChanges,e,{get:function(){return function(){throw new C(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var Vo=function(e){function t(t,n){var r=e.call(this,Gr.atPath(t),n)||this;if(t.length%2!=1)throw new C(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return a.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Oo(new ce(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(O("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=W.newId()),R("CollectionReference.doc","non-empty string",1,e),""===e)throw new C(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=ae.fromString(e);return Oo.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){N("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(Fo);function Uo(e,t){if(void 0===t)return{merge:!1};if(H(e,t,["merge","mergeFields"]),F(e,"boolean","merge",t.merge),L(e,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return"string"==typeof e||e instanceof Wi}),void 0!==t.mergeFields&&void 0!==t.merge)throw new C(_.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Bo(e,t){return void 0===t?{}:(H(e,t,["serverTimestamps"]),V(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function jo(e,t){P(e,"object",1,t),t&&(H(e,t,["source"]),V(e,0,"source",t.source,["default","server","cache"]))}function qo(e,t,n){if(t instanceof Oo){if(t.firestore!==n)throw new C(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw z(e,"DocumentReference",1,t)}function Ho(e){switch(e){case Ir.Added:return"added";case Ir.Modified:case Ir.Metadata:return"modified";case Ir.Removed:return"removed";default:return y("Unknown change type: "+e)}}var zo=E(ko,"Use firebase.firestore() instead."),Go=E(No,"Use firebase.firestore().runTransaction() instead."),Ko=E(xo,"Use firebase.firestore().batch() instead."),Wo=E(Oo,"Use firebase.firestore().doc() instead."),Qo=E(Po),$o=E(Mo),Yo=E(Fo),Jo=E(Lo),Xo=E(Vo,"Use firebase.firestore().collection() instead."),Zo={Firestore:zo,GeoPoint:zr,Timestamp:Ce,Blob:te,Transaction:Go,WriteBatch:Ko,DocumentReference:Wo,DocumentSnapshot:Qo,Query:Yo,QueryDocumentSnapshot:$o,QuerySnapshot:Jo,CollectionReference:Xo,FieldPath:Wi,FieldValue:uo,setLogLevel:ko.setLogLevel,CACHE_SIZE_UNLIMITED:Do};function es(e){e.INTERNAL.registerService("firestore",function(e){return new ko(e)},function(e){v(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(Zo))}var ts=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),ns=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),rs=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),is="Connection",os={BatchGetDocuments:"batchGet",Commit:"commit"},ss="gl-js/ fire/"+c,as=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=ss},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise(function(o,s){var a=new l.XhrIo;a.listenOnce(l.EventType.COMPLETE,function(){try{switch(a.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var t=a.getResponseJson();p(is,"XHR received:",JSON.stringify(t)),o(t);break;case l.ErrorCode.TIMEOUT:p(is,'RPC "'+e+'" timed out'),s(new C(_.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(p(is,'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=(u=r.status,c=u.toLowerCase().replace("_","-"),Object.values(_).indexOf(c)>=0?c:_.UNKNOWN);s(new C(i,r.message))}else s(new C(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else p(is,'RPC "'+e+'" failed'),s(new C(_.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+e+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{p(is,'RPC "'+e+'" completed.')}var u,c});var u=JSON.stringify(t);p(is,"XHR sending: ",i+" "+u);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),a.send(i,"POST",u,c,15)})},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=l.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p(is,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),a=!1,c=!1,h=new rs({sendFn:function(e){c?p(is,"Not sending because WebChannel is closed:",e):(a||(p(is,"Opening WebChannel transport."),s.open(),a=!0),p(is,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}}),d=function(e,t){s.listen(e,function(e){try{t(e)}catch(n){setTimeout(function(){throw n},0)}})};return d(l.WebChannel.EventType.OPEN,function(){c||p(is,"WebChannel transport opened.")}),d(l.WebChannel.EventType.CLOSE,function(){c||(c=!0,p(is,"WebChannel transport closed"),h.callOnClose())}),d(l.WebChannel.EventType.ERROR,function(e){c||(c=!0,p(is,"WebChannel transport errored:",e),h.callOnClose(new C(_.UNAVAILABLE,"The operation could not be completed")))}),d(l.WebChannel.EventType.MESSAGE,function(e){if(!c){var t=e.data[0];v(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){p(is,"WebChannel received error:",r);var i=r.status,o=function(e){var t=Cr[e];if(void 0!==t)return Tr(t)}(i),a=r.message;void 0===o&&(o=_.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,h.callOnClose(new C(o,a)),s.close()}else p(is,"WebChannel received:",t),h.callOnMessage(t)}}),setTimeout(function(){h.callOnOpen()},0),h},e.prototype.makeUrl=function(e){var t=os[e];v(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),us=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new as(e))},e.prototype.newConnectivityMonitor=function(){return ns.isAvailable()?new ns:new ts},e.prototype.newSerializer=function(e){return new vi(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();function ls(e){es(e)}b.setPlatform(new us),ls(o),t.registerFirestore=ls},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=i},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return s}),n.d(t,"__decorate",function(){return a}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return l}),n.d(t,"__awaiter",function(){return c}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return d}),n.d(t,"__values",function(){return f}),n.d(t,"__read",function(){return p}),n.d(t,"__spread",function(){return g}),n.d(t,"__spreadArrays",function(){return m}),n.d(t,"__await",function(){return y}),n.d(t,"__asyncGenerator",function(){return v}),n.d(t,"__asyncDelegator",function(){return b}),n.d(t,"__asyncValues",function(){return w}),n.d(t,"__makeTemplateObject",function(){return _}),n.d(t,"__importStar",function(){return C}),n.d(t,"__importDefault",function(){return E});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(e){a("next",e)}function l(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},"q/0M":function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",function(){return r}),n.d(t,"Logger",function(){return a}),n.d(t,"setLogLevel",function(){return u});var r,i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,s=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},a=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=s,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}();function u(e){i.forEach(function(t){t.logLevel=e})}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["duplicate-service"]="Firebase service named '{$appName}' already registered",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",a),l="[DEFAULT]",c=[],h=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){c.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){c=c.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,s=Object.keys(e.services_[i]);o<s.length;o++){var a=s[o];t.push(e.services_[i][a])}return Promise.all(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=l),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==l?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=l),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(c.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),c=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d="6.3.4";var f=new s.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var p=self.firebase.SDK_VERSION;p&&p.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){if(void 0===r&&(r={}),"object"!=typeof r||null===r){var s=r;r={name:s}}var a=r;void 0===a.name&&(a.name=l);var h=a.name;if("string"!=typeof h||!h)throw u.create("bad-app-name",{appName:String(h)});if(o.contains(t,h))throw u.create("duplicate-app",{appName:h});var d=new e(n,a,i);return t[h]=d,c(d,"create"),d},app:s,apps:null,SDK_VERSION:d,INTERNAL:{registerService:function(t,l,c,h,d){if(void 0===d&&(d=!1),n[t])throw u.create("duplicate-service",{appName:t});function f(e){if(void 0===e&&(e=s()),"function"!=typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}return n[t]=l,h&&(r[t]=h,a().forEach(function(e){h("create",e)})),void 0!==c&&o.deepExtend(f,c),i[t]=f,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,d?e:[])},f},removeApp:function(e){c(t[e],"delete"),delete t[e]},factories:n,useAsService:h}};function s(e){if(e=e||l,!o.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function a(){return Object.keys(t).map(function(e){return t[e]})}function c(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var s=h(0,o[i]);if(null===s)return;r[s]&&r[s](t,e)}}function h(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:a}),s.App=e,i}(h);return t.INTERNAL=i.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),m=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,e)};var y=g;t.default=y,t.firebase=y},x7I3:function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",function(){return lr}),n.d(t,"EventType",function(){return cr}),n.d(t,"WebChannel",function(){return hr}),n.d(t,"XhrIo",function(){return dr}),n.d(t,"createWebChannelTransport",function(){return ur});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(e){return"string"==typeof e}function u(e){return"number"==typeof e}function l(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function c(){}function h(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function d(e){return"array"==h(e)}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now||function(){return+new Date};function C(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[g]||(this[g]=++m)},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(a(e))return a(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=a(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function D(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var k,N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function x(e,t){return-1!=e.indexOf(t)}function O(e,t){return e<t?-1:e>t?1:0}e:{var R=s.navigator;if(R){var P=R.userAgent;if(P){k=P;break e}}k=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function F(e){var t,n={};for(t in e)n[t]=e[t];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function U(e){return U[" "](e),e}U[" "]=c;var B,j,q=x(k,"Opera"),H=x(k,"Trident")||x(k,"MSIE"),z=x(k,"Edge"),G=z||H,K=x(k,"Gecko")&&!(x(k.toLowerCase(),"webkit")&&!x(k,"Edge"))&&!(x(k,"Trident")||x(k,"MSIE"))&&!x(k,"Edge"),W=x(k.toLowerCase(),"webkit")&&!x(k,"Edge");function Q(){var e=s.document;return e?e.documentMode:void 0}e:{var $="",Y=(j=k,K?/rv:([^\);]+)(\)|;)/.exec(j):z?/Edge\/([\d\.]+)/.exec(j):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):W?/WebKit\/(\S+)/.exec(j):q?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(Y&&($=Y?Y[1]:""),H){var J=Q();if(null!=J&&J>parseFloat($)){B=String(J);break e}}B=$}var X,Z={};function ee(e){return function(e,t){var n=Z;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=N(String(B)).split("."),r=N(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=O(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||O(0==s[2].length,0==a[2].length)||O(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t})}var te=s.document;X=te&&H?Q()||("CSS1Compat"==te.compatMode?parseInt(B,10):5):void 0;var ne=!H||9<=Number(X),re=H&&!ee("9"),ie=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",c,t),s.removeEventListener("test",c,t)}catch(n){}return e}();function oe(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function se(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(K){e:{try{U(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=a(e.pointerType)?e.pointerType:ae[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}oe.prototype.b=function(){this.Ja=!1},C(se,oe);var ae={2:"touch",3:"pen",4:"mouse"};se.prototype.b=function(){se.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ue="closure_listenable_"+(1e6*Math.random()|0),le=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++le,this.X=this.Z=!1}function he(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function de(e){this.src=e,this.a={},this.b=0}function fe(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=S(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(he(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}de.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=pe(e,t,r,i);return-1<s?(t=e[s],n||(t.Z=!1)):((t=new ce(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var ge="closure_lm_"+(1e6*Math.random()|0),me={};function ye(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(d(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}r=Te(r);return t&&t[ue]?t.Ba(n,r,p(i)?!!i.capture:!!i,o):ve(t,n,r,!0,i,o)}(e,t,n,r,i);if(d(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=Te(n),e&&e[ue]?e.Aa(t,n,p(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!ne)return null;var a=Ee(e);if(a||(e[ge]=a=new de(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Ce,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(e){if(!u(e)&&e&&!e.X){var t=e.src;if(t&&t[ue])fe(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(fe(n,e),0==n.b&&(n.src=null,t[ge]=null)):he(e)}}}function we(e){return e in me?me[e]:me[e]="on"+e}function _e(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&be(e),n.call(r,t)}function Ce(e,t){return!!e.X||(ne?_e(e,new se(t,this)):_e(e,t=new se(t||l("window.event"),this)))}function Ee(e){return(e=e[ge])instanceof de?e:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"==h(e)?e:(e[Se]||(e[Se]=function(t){return e.handleEvent(t)}),e[Se])}function De(){E.call(this),this.c=new de(this),this.J=this,this.B=null}function Ie(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.X&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&fe(e.c,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ja}C(De,E),De.prototype[ue]=!0,(r=De.prototype).addEventListener=function(e,t,n,r){ye(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(d(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else i=p(i)?!!i.capture:!!i,r=Te(r),t&&t[ue]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=pe(s=t.a[n],r,i,o))&&(he(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.a[n],t.b--))):t&&(t=Ee(t))&&(n=t.a[n.toString()],t=-1,n&&(t=pe(n,r,i,o)),(r=-1<t?n[t]:null)&&be(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(a(e))e=new oe(e,n);else if(e instanceof oe)e.target=e.target||n;else{var i=e;V(e=new oe(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.a=t[o];i=Ie(s,r,!0,e)&&i}if(i=Ie(s=e.a=n,r,!0,e)&&i,i=Ie(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ie(s=e.a=t[o],r,!1,e)&&i;return i},r.G=function(){if(De.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)he(n[r]);delete t.a[e],t.b--}}this.B=null},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ae=s.JSON.stringify;function ke(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ne(){this.b=this.a=null}ke.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var xe,Oe=new ke(function(){return new Pe},function(e){e.reset()});function Re(){var e=Ve,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Pe(){this.next=this.b=this.a=null}function Me(e){s.setTimeout(function(){throw e},0)}function Fe(e,t){xe||function(){var e=s.Promise.resolve(void 0);xe=function(){e.then(Ue)}}(),Le||(xe(),Le=!0),Ve.add(e,t)}Ne.prototype.add=function(e,t){var n=Oe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Pe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Pe.prototype.reset=function(){this.next=this.b=this.a=null};var Le=!1,Ve=new Ne;function Ue(){for(var e;e=Re();){try{e.a.call(e.b)}catch(n){Me(n)}var t=Oe;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Le=!1}function Be(e,t){De.call(this),this.b=e||1,this.a=t||s,this.f=b(this.gb,this),this.g=_()}function je(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function qe(e,t,n){if("function"==h(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function He(e,t,n){E.call(this),this.f=null!=n?b(e,n):e,this.c=t,this.b=b(this.ab,this),this.a=[]}function ze(e){e.U=qe(e.b,e.c),e.f.apply(null,e.a)}function Ge(e){E.call(this),this.b=e,this.a={}}C(Be,De),(r=Be.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var e=_()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(je(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){Be.N.G.call(this),je(this),delete this.a},C(He,E),(r=He.prototype).ea=!1,r.U=null,r.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ze(this)},r.G=function(){He.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,ze(this))},C(Ge,E);var Ke=[];function We(e,t,n,r){d(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var o=ye(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Qe(e){M(e.a,function(e,t){this.a.hasOwnProperty(t)&&be(e)},e),e.a={}}function $e(){}Ge.prototype.G=function(){Ge.N.G.call(this),Qe(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=new De;function Je(e){oe.call(this,"serverreachability",e)}function Xe(e){Ye.dispatchEvent(new Je(Ye,e))}function Ze(e){oe.call(this,"statevent",e)}function et(e){Ye.dispatchEvent(new Ze(Ye,e))}function tt(e){oe.call(this,"timingevent",e)}function nt(e,t){if("function"!=h(e))throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}C(Je,oe),C(Ze,oe),C(tt,oe);var rt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},it={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ot(){}function st(e){var t;return(t=e.a)||(t=e.a={}),t}function at(){}ot.prototype.a=null;var ut,lt={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ct(){oe.call(this,"d")}function ht(){oe.call(this,"c")}function dt(){}function ft(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new Ge(this),this.O=pt,e=G?125:void 0,this.P=new Be(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(ct,oe),C(ht,oe),C(dt,ot),ut=new dt;var pt=45e3,gt={},mt={};function yt(e,t,n){e.F=1,e.f=qt(Mt(t)),e.l=n,e.H=!0,bt(e,null)}function vt(e,t,n,r){e.F=1,e.f=qt(Mt(t)),e.l=null,e.H=n,bt(e,r)}function bt(e,t){e.v=_(),Ct(e),e.D=Mt(e.f),jt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new He(b(e.Ka,e,e.a),e.J)),We(e.I,e.a,"readystatechange",e.eb),t=e.h?F(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),Xe(1)}function wt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=_t(e,n);if(i==mt){4==t&&(e.c=4,et(14),r=!1);break}if(i==gt){e.c=4,et(15),r=!1;break}It(e,i)}4==t&&0==n.length&&(e.c=1,et(16),r=!1),e.b=e.b&&r,r||(Dt(e),Tt(e))}function _t(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?mt:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1)+n>t.length?mt:(t=t.substr(r,n),e.A=r+n,t))}function Ct(e){e.R=_()+e.O,Et(e,e.O)}function Et(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=nt(b(e.bb,e),t)}function St(e){e.i&&(s.clearTimeout(e.i),e.i=null)}function Tt(e){e.g.Da()||e.m||e.g.na(e)}function Dt(e){St(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,je(e.P),Qe(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function It(e,t){try{e.g.Ga(e,t),Xe(4)}catch(n){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||a(e))T(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(f(e)||a(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(a(e))return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function kt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof kt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nt(e,t){Ot(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&xt(e))}function xt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ot(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ot(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ft.prototype).setTimeout=function(e){this.O=e},r.eb=function(e){e=e.target;var t=this.B;t&&3==Mn(e)?t.Ua():this.Ka(e)},r.Ka=function(e){try{if(e==this.a)e:{var t=Mn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!G&&!this.a.aa())){this.m||4!=t||7==n||Xe(8==n||0>=r?3:2),St(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var s=Fn(this.a,"X-HTTP-Initial-Response");if(s&&!A(s)){var a=s;break t}}a=null}if(!a){this.b=!1,this.c=3,et(12),Dt(this),Tt(this);break e}this.s=!0,It(this,a)}this.H?(wt(this,t,o),G&&this.b&&3==t&&(We(this.I,this.P,"tick",this.cb),this.P.start())):It(this,o),4==t&&Dt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,Ct(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,et(12)):(this.c=0,et(13)),Dt(this),Tt(this)}}}catch(u){}},r.cb=function(){if(this.a){var e=Mn(this.a),t=this.a.aa();this.A<t.length&&(St(this),wt(this,e,t),this.b&&4!=e&&Ct(this))}},r.cancel=function(){this.m=!0,Dt(this)},r.bb=function(){this.i=null;var e=_();0<=e-this.R?(2!=this.F&&(Xe(3),et(17)),Dt(this),this.c=2,Tt(this)):Et(this,this.R-e)},(r=kt.prototype).C=function(){xt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return xt(this),this.a.concat()},r.get=function(e,t){return Ot(this.b,e)?this.b[e]:t},r.set=function(e,t){Ot(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Pt?(this.h=void 0!==t?t:e.h,Ft(this,e.f),this.j=e.j,Lt(this,e.b),Vt(this,e.i),this.a=e.a,Ut(this,nn(e.c)),this.g=e.g):e&&(n=String(e).match(Rt))?(this.h=!!t,Ft(this,n[1]||"",!0),this.j=Ht(n[2]||""),Lt(this,n[3]||"",!0),Vt(this,n[4]),this.a=Ht(n[5]||"",!0),Ut(this,n[6]||"",!0),this.g=Ht(n[7]||"")):(this.h=!!t,this.c=new Jt(null,this.h))}function Mt(e){return new Pt(e)}function Ft(e,t,n){e.f=n?Ht(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Lt(e,t,n){e.b=n?Ht(t,!0):t}function Vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Ut(e,t,n){t instanceof Jt?(e.c=t,function(e,t){t&&!e.f&&(Xt(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Zt(this,t),tn(this,n,e))},e)),e.f=t}(e.c,e.h)):(n||(t=zt(t,$t)),e.c=new Jt(t,e.h))}function Bt(e,t,n){e.c.set(t,n)}function jt(e,t,n){d(n)||(n=[String(n)]),tn(e.c,t,n)}function qt(e){return Bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function Ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zt(e,t,n){return a(e)?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(zt(t,Kt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(zt(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(zt(n,"/"==n.charAt(0)?Qt:Wt,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",zt(n,Yt)),e.join("")},Pt.prototype.resolve=function(e){var t=Mt(this),n=!!e.f;n?Ft(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Lt(t,e.b):n=null!=e.i;var r=e.a;if(n)Vt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(x(i,"./")||x(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?Ut(t,nn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Kt=/[#\/\?@]/g,Wt=/[#\?:]/g,Qt=/[#\?]/g,$t=/[#\?@]/g,Yt=/#/g;function Jt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Xt(e){e.a||(e.a=new kt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Zt(e,t){Xt(e),t=rn(e,t),Ot(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Nt(e.a,t))}function en(e,t){return Xt(e),t=rn(e,t),Ot(e.a.b,t)}function tn(e,t,n){Zt(e,t),0<n.length&&(e.c=null,e.a.set(rn(e,t),I(n)),e.b+=n.length)}function nn(e){var t=new Jt;return t.c=e.c,e.a&&(t.a=new kt(e.a),t.b=e.b),t}function rn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function on(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function sn(e){var t=e.a.F.a;if(null!=t)et(4),t?(et(10),Qn(e.a,e,!1)):(et(11),Qn(e.a,e,!0));else{e.b=new ft(e,void 0,void 0),e.b.h=e.h,t=Zn(t=e.a,t.Y()?e.f:null,e.i),et(4),jt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Bt(t,n,r),vt(e.b,t,!1,e.f)}}function an(){this.a=this.b=null}function un(){this.a=new kt}function ln(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[g]||(e[g]=++m)):t.charAt(0)+e}function cn(e,t){this.b=e,this.a=t}function hn(e){this.g=e||dn,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.ka&&s.ka.Ea&&s.ka.Ea()&&s.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new un),this.b=null,this.c=[]}(r=Jt.prototype).add=function(e,t){Xt(this),this.c=null,e=rn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){Xt(this),this.a.forEach(function(n,r){T(n,function(n){e.call(t,n,r,this)},this)},this)},r.K=function(){Xt(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.C=function(e){Xt(this);var t=[];if(a(e))en(this,e)&&(t=D(t,this.a.get(rn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=D(t,e[n])}return t},r.set=function(e,t){return Xt(this),this.c=null,en(this,e=rn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")},C(function(){},function(){}),(r=on.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Fn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Fn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(i){return(t=this.a).m=this.c,void Jn(t,2)}this.f=r[0]}else(t=this.a).m=this.c,Jn(t,2)}else 1==this.M&&(this.g?et(6):"11111"==t?(et(5),this.g=!0,(!H||10<=Number(X))&&(this.c=200,this.b.cancel(),et(11),Qn(this.a,this,!0))):(et(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,sn(this)):1==this.M&&(this.g?(et(11),Qn(this.a,this,!0)):(et(10),Qn(this.a,this,!1)));else{0==this.M?et(8):1==this.M&&et(9);var e=this.a;e.m=this.c,Jn(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},un.prototype.add=function(e){this.a.set(ln(e),e)},un.prototype.C=function(){return this.a.C()};var dn=10;function fn(e,t){!e.a&&(x(t,"spdy")||x(t,"quic")||x(t,"h2"))&&(e.f=e.g,e.a=new un,e.b&&(yn(e,e.b),e.b=null))}function pn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function gn(e){return e.b?1:e.a?e.a.a.c:0}function mn(e,t){return e.b?e=e.b==t:e.a?(t=ln(t),e=Ot(e.a.a.b,t)):e=!1,e}function yn(e,t){e.a?e.a.add(t):e.b=t}function vn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=ln(t),n=Ot(e.a.a.b,n)),n&&Nt(e.a.a,ln(t)))}function bn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return T(e.a.C(),function(e){t=t.concat(e.j)}),t}return I(e.c)}function wn(){}function _n(){this.a=new wn}function Cn(e,t,n){var r=n||"";try{At(e,function(e,n){var i=e;p(e)&&(i=Ae(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function En(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}hn.prototype.cancel=function(){var e;this.c=bn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),function(e){e.cancel()}),(e=this.a.a).b={},e.a.length=0,e.c=0)},wn.prototype.stringify=function(e){return s.JSON.stringify(e,void 0)},wn.prototype.parse=function(e){return s.JSON.parse(e,void 0)};var Sn=s.JSON.parse;function Tn(e){De.call(this),this.headers=new kt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Dn,this.D=this.F=!1}C(Tn,De);var Dn="",In=/^https?$/i,An=["POST","PUT"];function kn(e){return"content-type"==e.toLowerCase()}function Nn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,xn(e),Rn(e)}function xn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function On(e){if(e.b&&void 0!==o&&(!e.s[1]||4!=Mn(e)||2!=e.T()))if(e.l&&4==Mn(e))qe(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Mn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.A).match(Rt)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!In.test(a?a.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",xn(e))}finally{Rn(e)}}}function Rn(e,t){if(e.a){Pn(e);var n=e.a,r=e.s[0]?c:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(s.clearTimeout(e.m),e.m=null)}function Mn(e){return e.a?e.a.readyState:0}function Fn(e,t){return e.a?e.a.getResponseHeader(t):null}function Ln(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return M(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),a(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Bt(e,t,n),e}function Vn(e){this.f=[],this.F=new an,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!l("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=l("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=l("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=l("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=l("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new hn(e&&e.concurrentRequestLimit),this.ja=new _n,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Un(e){if(Bn(e),3==e.u){var t=e.P++,n=Mt(e.B);Bt(n,"SID",e.H),Bt(n,"RID",t),Bt(n,"TYPE","terminate"),zn(e,n),(t=new ft(e,t,void 0)).F=2,t.f=qt(Mt(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(t.f.toString(),"")),!n&&s.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=_(),Ct(t)}Xn(e)}function Bn(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(s.clearTimeout(e.l),e.l=null),$n(e),e.b.cancel(),e.h&&(u(e.h)&&s.clearTimeout(e.h),e.h=null)}function jn(e,t){e.f.push(new cn(e.Ra++,t)),3==e.u&&qn(e)}function qn(e){pn(e.b)||e.h||(e.h=!0,Fe(e.Ia,e),e.A=0)}function Hn(e,t){var n;n=t?t.W:e.P++;var r=Mt(e.B);Bt(r,"SID",e.H),Bt(r,"RID",n),Bt(r,"AID",e.O),zn(e,r),e.g&&e.i&&Ln(r,e.g,e.i),n=new ft(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=Gn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),yn(e.b,n),yt(n,r,t)}function zn(e,t){e.c&&At({},function(e,n){Bt(t,n,e)})}function Gn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?b(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Cn(c,s,"req"+l+"_")}catch(h){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function Kn(e){e.a||e.l||(e.S=1,Fe(e.Ha,e),e.v=0)}function Wn(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=nt(b(e.Ha,e),Yn(e,e.v)),e.v++,!0)}function Qn(e,t,n){var r=t.l;r&&fn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Zn(e,null,e.ha),qn(e)}function $n(e){null!=e.s&&(s.clearTimeout(e.s),e.s=null)}function Yn(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function Jn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=b(e.fb,e);n||(n=new Pt("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Ft(n,"https"),qt(n)),function(e,t){var n=new $e;if(s.Image){var r=new Image;r.onload=w(En,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(En,n,r,"TestLoadImage: error",!1,t),r.onabort=w(En,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(En,n,r,"TestLoadImage: timeout",!1,t),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else et(2);e.u=0,e.c&&e.c.ta(t),Xn(e),Bn(e)}function Xn(e){e.u=0,e.m=-1,e.c&&(0==bn(e.b).length&&0==e.f.length||(e.b.c.length=0,I(e.f),e.f.length=0),e.c.sa())}function Zn(e,t,n){var r=function(e){return e instanceof Pt?Mt(e):new Pt(e,void 0)}(n);if(""!=r.b)t&&Lt(r,t+"."+r.b),Vt(r,r.i);else{var i,o=s.location;i=t?t+"."+o.hostname:o.hostname,r=function(e,t,n,r){var i=new Pt(null,void 0);return e&&Ft(i,e),t&&Lt(i,t),n&&Vt(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return e.V&&M(e.V,function(e,t){Bt(r,t,e)}),t=e.j,n=e.I,t&&n&&Bt(r,t,n),Bt(r,"VER",e.wa),zn(e,r),r}function er(){}function tr(){if(H&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function nr(e,t){De.call(this),this.a=new Vn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?t=i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new or(this)}function rr(e){ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function ir(){ht.call(this),this.status=1}function or(e){this.a=e}(r=Tn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?st(this.H):st(ut),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void Nn(this,o)}e=n||"";var i=new kt(this.headers);r&&At(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=kn,n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:a(e)?e.charAt(t):e[t]}(i.K()),n=s.FormData&&e instanceof s.FormData,!(0<=S(An,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(e){return H&&ee(9)&&u(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=qe(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Nn(this,o)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Rn(this,!0)),Tn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?On(this):this.$a())},r.$a=function(){On(this)},r.T=function(){try{return 2<Mn(this)?this.a.status:-1}catch(j){return-1}},r.za=function(){try{return 2<Mn(this)?this.a.statusText:""}catch(j){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},r.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sn(t)}},r.ya=function(){return this.h},r.Ya=function(){return a(this.f)?this.f:String(this.f)},(r=Vn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new ft(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=F(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Gn(this,n,t),Bt(i=Mt(this.B),"RID",e),Bt(i,"CVER",22),this.o&&this.j&&Bt(i,"X-HTTP-Session-Id",this.j),zn(this,i),this.g&&r&&Ln(i,this.g,r),yn(this.b,n),this.W?(Bt(i,"$req",t),Bt(i,"SID","null"),n.S=!0,yt(n,i,null)):yt(n,i,t),this.u=2}}else 3==this.u&&(e?Hn(this,e):0==this.f.length||pn(this.b)||Hn(this))},r.Ha=function(){this.l=null,this.a=new ft(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Mt(this.pa);Bt(e,"RID","rpc"),Bt(e,"SID",this.H),Bt(e,"CI",this.ia?"0":"1"),Bt(e,"AID",this.O),zn(this,e),Bt(e,"TYPE","xmlhttp"),this.g&&this.i&&Ln(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),vt(this.a,e,!0,this.ga)},r.Ga=function(e,t){if(0!=this.u&&(this.a==e||mn(this.b,e)))if(this.m=e.o,!e.s&&mn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;$n(this),this.a.cancel(),this.a=null}Wn(this),et(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=nt(b(this.Za,this),6e3));if(1>=gn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Jn(this,11)}else if((e.s||this.a==e)&&$n(this),!A(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=Fn(r,"X-Client-Wire-Protocol"))&&fn(this.b,i),this.j&&(r=Fn(r,"X-HTTP-Session-Id")))&&(this.I=r,Bt(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(vn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(St(r),Ct(r)),this.a=r):Kn(this),0<this.f.length&&qn(this)}else"stop"!=r[0]&&"close"!=r[0]||Jn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Jn(this,7):Un(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Wn(this),et(19))},r.na=function(e){var t=null;if(this.a==e){$n(this),this.a=null;var n=2}else{if(!mn(this.b,e))return;t=e.j,vn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=_()-e.v,Ye.dispatchEvent(new tt(Ye,e.l?e.l.length:0,t,this.A)),qn(this)):Kn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(gn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.f=t.j.concat(e.f),0):1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa)||(e.h=nt(b(e.Ia,e,t),Yn(e,e.A)),e.A++,0)))}(this,e)||2==n&&Wn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:Jn(this,5);break;case 4:Jn(this,10);break;case 3:Jn(this,6);break;default:Jn(this,2)}}},r.fb=function(e){et(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tn(this.La)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=er.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},tr.prototype.a=function(e,t){return new nr(e,t)},C(nr,De),(r=nr.prototype).addEventListener=function(e,t,n,r){nr.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){nr.N.removeEventListener.call(this,e,t,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;et(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new on(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Ln(t,e.g,e.i)),(e=e.w).i=n,t=Zn(e.a,null,e.i),et(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,sn(e)):(jt(t,"MODE","init"),!e.a.o&&e.a.j&&jt(t,"X-HTTP-Session-Id",e.a.j),e.b=new ft(e,void 0,void 0),e.b.h=e.h,vt(e.b,t,!1,null),e.M=0)},r.close=function(){Un(this.a)},r.Xa=function(e){if(a(e)){var t={};t.__data__=e,jn(this.a,t)}else this.h?((t={}).__data__=Ae(e),jn(this.a,t)):jn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Un(this.a),delete this.a,nr.N.G.call(this)},C(rr,ct),C(ir,ht),C(or,er),or.prototype.va=function(){this.a.dispatchEvent("a")},or.prototype.ua=function(e){this.a.dispatchEvent(new rr(e))},or.prototype.ta=function(e){this.a.dispatchEvent(new ir(e))},or.prototype.sa=function(){this.a.dispatchEvent("b")};var sr=w(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},tr);tr.prototype.createWebChannel=tr.prototype.a,nr.prototype.send=nr.prototype.Xa,nr.prototype.open=nr.prototype.Wa,nr.prototype.close=nr.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,it.COMPLETE="complete",at.EventType=lt,lt.OPEN="a",lt.CLOSE="b",lt.ERROR="c",lt.MESSAGE="d",De.prototype.listen=De.prototype.Aa,Tn.prototype.listenOnce=Tn.prototype.Ba,Tn.prototype.getLastError=Tn.prototype.Ya,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.T,Tn.prototype.getStatusText=Tn.prototype.za,Tn.prototype.getResponseJson=Tn.prototype.Va,Tn.prototype.getResponseText=Tn.prototype.aa,Tn.prototype.send=Tn.prototype.ca;var ar={createWebChannelTransport:sr,ErrorCode:rt,EventType:it,WebChannel:at,XhrIo:Tn},ur=ar.createWebChannelTransport,lr=ar.ErrorCode,cr=ar.EventType,hr=ar.WebChannel,dr=ar.XhrIo;t.default=ar},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function s(e){setTimeout(()=>{throw e})}const a={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},u=Array.isArray||(e=>e&&"number"==typeof e.length);function l(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const h=c;class d{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:o,_subscriptions:s}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,c=i?i.length:0;for(;n;)n.remove(this),n=++a<c&&i[a]||null;if(r(o))try{o.call(this)}catch(d){t=!0,e=d instanceof h?f(d.errors):[d]}if(u(s))for(a=-1,c=s.length;++a<c;){const n=s[a];if(l(n))try{n.unsubscribe()}catch(d){t=!0,e=e||[],d instanceof h?e=e.concat(f(d.errors)):e.push(d)}}if(t)throw new h(e)}add(e){let t=e;switch(typeof e){case"function":t=new d(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof d)){const e=t;(t=new d)._subscriptions=[e]}break;default:if(!e)return d.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(t._addParent(this)){const e=this._subscriptions;e?e.push(t):this._subscriptions=[t]}return t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}function f(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}d.EMPTY=function(e){return e.closed=!0,e}(new d);const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[p](){return this}static create(e,t,n){const r=new g(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class m extends g{constructor(e,t,n,i){let o;super(),this._parentSubscriber=e;let s=this;r(t)?o=t:t&&(o=t.next,n=t.error,i=t.complete,t!==a&&(r((s=Object.create(t)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function b(...e){return w(e)}function w(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:v}class _{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const t=new _;return t.source=this,t.operator=e,t}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[p])return e[p]()}return e||t||n?new g(e,t,n):new g(a)}(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof g?n:null}return!0}(e)?console.warn(t):e.error(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[y](){return this}pipe(...e){return 0===e.length?this:w(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}function C(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function E(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}_.create=(e=>new _(e)),E.prototype=Object.create(Error.prototype);const S=E;class T extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class D extends g{constructor(e){super(e),this.destination=e}}class I extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new D(this)}lift(e){const t=new A(this,this);return t.operator=e,t}next(e){if(this.closed)throw new S;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new S;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new T(this,e))}asObservable(){const e=new _;return e.source=this,e}}I.create=((e,t)=>new A(e,t));class A extends I{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function k(e){return e&&"function"==typeof e.schedule}class N extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const x=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},O=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",P=e=>t=>{const n=e[R]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},M=e=>t=>{const n=e[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},F=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function L(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const V=e=>{if(e instanceof _)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[y])return M(e);if(F(e))return x(e);if(L(e))return O(e);if(e&&"function"==typeof e[R])return P(e);{const t=l(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function U(e,t,n,r,i=new N(e,n,r)){if(!i.closed)return V(t)(i)}class B extends g{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function j(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(e,t))}}class q{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new H(e,this.project,this.thisArg))}}class H extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function z(e,t){return new _(t?n=>{const r=new d;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:x(e))}function G(e,t){if(!t)return e instanceof _?e:new _(V(e));if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new _(t?n=>{const r=new d;return r.add(t.schedule(()=>{const i=e[y]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:M(e))}(e,t);if(L(e))return function(e,t){return new _(t?n=>{const r=new d;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:O(e))}(e,t);if(F(e))return z(e,t);if(function(e){return e&&"function"==typeof e[R]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new _(t?n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[R](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const o=i.next();e=o.value,t=o.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r}:P(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function K(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(K((n,r)=>G(e(n,r)).pipe(j((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new W(e,n)))}class W{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Q(e,this.project,this.concurrent))}}class Q extends B{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new N(this,void 0,void 0);this.destination.add(r),U(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $(e){return e}function Y(e=Number.POSITIVE_INFINITY){return K($,e)}function J(){return function(e){return e.lift(new X(e))}}class X{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new Z(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Z extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const ee=class extends _{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new ne(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}refCount(){return J()(this)}}.prototype,te={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ee._subscribe},_isComplete:{value:ee._isComplete,writable:!0},getSubject:{value:ee.getSubject},connect:{value:ee.connect},refCount:{value:ee.refCount}};class ne extends D{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class re{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}function ie(){return new I}function oe(){return e=>J()(function(e,t){return function(n){let r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new re(r,t));const i=Object.create(n,te);return i.source=n,i.subjectFactory=r,i}}(ie)(e))}const se="__annotations__",ae="__parameters__",ue="__prop__metadata__";function le(e,t,n,r,i){const o=ce(t);function s(...e){if(this instanceof s)return o.call(this,...e),this;const t=new s(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(se)?n[se]:Object.defineProperty(n,se,{value:[]})[se]).push(t),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}function ce(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function he(e,t,n){const r=ce(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(ae)?e[ae]:Object.defineProperty(e,ae,{value:[]})[ae];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function de(e,t,n,r){const i=ce(t);function o(...e){if(this instanceof o)return i.apply(this,e),this;const t=new o(...e);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(ue)?o[ue]:Object.defineProperty(o,ue,{value:{}})[ue];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(t),r&&r(n,i,...e)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}const fe=he("Inject",e=>({token:e})),pe=he("Optional"),ge=he("Self"),me=he("SkipSelf"),ye=he("Host"),ve=he("Attribute",e=>({attributeName:e}));var be;function we(e){for(let t in e)if(e[t]===we)return t;throw Error("Could not find renamed property on target object.")}function _e(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ce(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(be||(be={}));function Ee(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function Se(e){return e&&e.hasOwnProperty(De)?e[De]:null}function Te(e){return e&&e.hasOwnProperty(Ie)?e[Ie]:null}const De=we({ngInjectableDef:we}),Ie=we({ngInjectorDef:we});function Ae(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Ae).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ke=we({__forward_ref__:we});function Ne(e){return e.__forward_ref__=Ne,e.toString=function(){return Ae(this())},e}function xe(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ke)&&t.__forward_ref__===Ne?t():e}const Oe=function(){const e="undefined"!=typeof globalThis&&globalThis,t="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,r="undefined"!=typeof global&&global;return e||r||t||n}();var Re;!function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute"}(Re||(Re={}));let Pe,Me=void 0;function Fe(e){const t=Me;return Me=e,t}function Le(e){const t=Pe;return Pe=e,t}function Ve(e,t=be.Default){return(Pe||function(e,t=be.Default){if(void 0===Me)throw new Error("inject() must be called from an injection context");return null===Me?Ue(e,void 0,t):Me.get(e,t&be.Optional?null:void 0,t)})(e,t)}function Ue(e,t,n){const r=Se(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&be.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${Ae(e)}]`)}function Be(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=be.Default;for(let t=0;t<r.length;t++){const i=r[t];i instanceof pe||"Optional"===i.ngMetadataName?n|=be.Optional:i instanceof me||"SkipSelf"===i.ngMetadataName?n|=be.SkipSelf:i instanceof ge||"Self"===i.ngMetadataName?n|=be.Self:e=i instanceof fe?i.token:i}t.push(Ve(e,n))}else t.push(Ve(r))}return t}const je=Function;function qe(e){return"function"==typeof e}const He=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,ze=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ge=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ke=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class We{constructor(e){this._reflect=e||Oe.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=void 0===e?new Array(t.length):new Array(e.length);for(let r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){const n=e.toString();if(He.exec(n)||Ke.exec(n)||ze.exec(n)&&!Ge.exec(n))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&Qe(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(ae)&&e[ae],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return o||i?this._zipTypesAndAnnotations(o,i):new Array(e.length).fill(void 0)}parameters(e){if(!qe(e))return[];const t=$e(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Qe(e.decorators):e.hasOwnProperty(se)?e[se]:null}annotations(e){if(!qe(e))return[];const t=$e(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Qe(t[e])}),n}return e.hasOwnProperty(ue)?e[ue]:null}propMetadata(e){if(!qe(e))return{};const t=$e(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return qe(e)&&this._ownPropMetadata(e,$e(e))||{}}hasLifecycleHook(e,t){return e instanceof je&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${Ae(e)}`}resourceUri(e){return`./${Ae(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Qe(e){return e?e.map(e=>{return new(0,e.type.annotationCls)(...e.args?e.args:[])}):[]}function $e(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}we({provide:String,useValue:we});const Ye=we({provide:String,useValue:we}),Je=[];function Xe(e,t){if(!t){const t=(new We).parameters(e);return()=>new e(...Be(t))}if(Ye in t){const e=t;return()=>e.useValue}if(t.useExisting){const e=t;return()=>Ve(e.useExisting)}if(t.useFactory){const e=t;return()=>e.useFactory(...Be(e.deps||Je))}if(t.useClass){const n=t;let r=t.deps;if(!r){const t=new We;r=t.parameters(e)}return()=>new n.useClass(...Be(r))}{let n=t.deps;if(!n){const t=new We;n=t.parameters(e)}return()=>new e(...Be(n))}}const Ze=le("Injectable",void 0,void 0,void 0,(e,t)=>et(e,t));const et=function(e,t){t&&void 0!==t.providedIn&&!Se(e)&&(e.ngInjectableDef=Ce({providedIn:t.providedIn,factory:Xe(e,t)}))};class tt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=Ce({providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nt="__source",rt=new Object,it=rt,ot=new tt("INJECTOR",-1);class st{get(e,t=rt){if(t===rt){const t=new Error(`NullInjectorError: No provider for ${Ae(e)}!`);throw t.name="NullInjectorError",t}return t}}class at{static create(e,t){return Array.isArray(e)?new yt(e,t):new yt(e.providers,e.parent,e.name||null)}}at.THROW_IF_NOT_FOUND=rt,at.NULL=new st,at.ngInjectableDef=Ce({providedIn:"any",factory:()=>Ve(ot)}),at.__NG_ELEMENT_ID__=-1;const ut=function(e){return e},lt=[],ct=ut,ht=function(){return Array.prototype.slice.call(arguments)},dt=we({provide:String,useValue:we}),ft="ngTokenPath",pt="ngTempTokenPath",gt=/\n/gm,mt="\u0275";class yt{constructor(e,t=at.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(at,{token:at,fn:ut,deps:lt,value:this,useNew:!1}),r.set(ot,{token:ot,fn:ut,deps:lt,value:this,useNew:!1}),function e(t,n){if(n)if((n=xe(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Ct("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ct("Unexpected provider",n);{let e=xe(n.provide);const r=function(e){const t=function(e){let t=lt;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=xe(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof pe||n==pe?r|=1:n instanceof me||n==me?r&=-3:n instanceof ge||n==ge?r&=-5:i=n instanceof fe?n.token:xe(n)}t.push({token:i,options:r})}}else if(e.useExisting){const n=xe(e.useExisting);t=[{token:n,options:6}]}else if(!(n||dt in e))throw Ct("'deps' required",e);return t}(e);let n=ut,r=lt,i=!1,o=xe(e.provide);if(dt in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=xe(e.useClass);else{if("function"!=typeof o)throw Ct("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==ht)throw vt(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:ht,value:lt});e=n,r.deps.push({token:e,options:6})}const i=t.get(e);if(i&&i.fn==ht)throw vt(e);t.set(e,r)}}}(r,e)}get(e,t,n=be.Default){const r=this._records.get(e);try{return bt(e,r,this._records,this.parent,t,n)}catch(i){return wt(i,e,"StaticInjectorError",this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(Ae(n))),`StaticInjector[${e.join(", ")}]`}}function vt(e){return Ct("Cannot mix multi providers and regular providers",e)}function bt(e,t,n,r,i,o){try{return function(e,t,n,r,i,o){let s;if(!t||o&be.SkipSelf)o&be.Self||(s=r.get(e,i,be.Default));else{if((s=t.value)==ct)throw Error(mt+"Circular dependency");if(s===lt){t.value=ct;let e=void 0,i=t.useNew,o=t.fn,a=t.deps,u=lt;if(a.length){u=[];for(let e=0;e<a.length;e++){const t=a[e],i=t.options,o=2&i?n.get(t.token):void 0;u.push(bt(t.token,o,n,o||4&i?r:at.NULL,1&i?null:at.THROW_IF_NOT_FOUND,be.Default))}}t.value=s=i?new o(...u):o.apply(e,u)}}return s}(e,t,n,r,i,o)}catch(s){throw s instanceof Error||(s=new Error(s)),(s[pt]=s[pt]||[]).unshift(e),t&&t.value==ct&&(t.value=lt),s}}function wt(e,t,n,r){const i=e[pt];throw t[nt]&&i.unshift(t[nt]),e.message=_t("\n"+e.message,i,n,r),e[ft]=i,e[pt]=null,e}function _t(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==mt?e.substr(2):e;let i=Ae(t);if(t instanceof Array)i=t.map(Ae).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):Ae(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(gt,"\n  ")}`}function Ct(e,t){return new Error(_t(e,t,"StaticInjectorError"))}const Et="ngDebugContext",St="ngOriginalError",Tt="ngErrorLogger";function Dt(e){if(e.length>1){return" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>Ae(e.token)).join(" -> ")+")"}return""}function It(e,t,n,r){const i=[t],o=n(i),s=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r[St]=t,r}(o,r):Error(o);return s.addKey=At,s.keys=i,s.injectors=[e],s.constructResolvingMessage=n,s[St]=r,s}function At(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function kt(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];e&&0!=e.length?n.push(e.map(Ae).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+Ae(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Ae(e)+"' is decorated with Injectable.")}class Nt{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=Ae(this.token)}static get(e){return xt.get(xe(e))}static get numberOfKeys(){return xt.numberOfKeys}}const xt=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof Nt)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new Nt(e,Nt.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}};const Ot=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new We);class Rt{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new Rt(e,!1,null)}}const Pt=[];class Mt{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class Ft{constructor(e,t){this.factory=e,this.dependencies=t}}function Lt(e){let t,n;if(e.useClass){const r=xe(e.useClass);t=Ot.factory(r),n=Bt(r)}else e.useExisting?(t=(e=>e),n=[Rt.fromKey(Nt.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>jt(e,t,n))}return Bt(e)}(e.useFactory,e.deps)):(t=(()=>e.useValue),n=Pt);return new Ft(t,n)}function Vt(e){return new Mt(Nt.get(e.provide),[Lt(e)],e.multi||!1)}function Ut(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new Mt(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(function e(t,n){t.forEach(t=>{if(t instanceof je)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw function(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(t);e(t,n)}});return n}(e,[]).map(Vt),new Map);return Array.from(t.values())}function Bt(e){const t=Ot.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw kt(e,t);return t.map(n=>jt(e,n,t))}function jt(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return qt(t instanceof fe?t.token:t,i,null);let o=null;for(let s=0;s<t.length;++s){const e=t[s];e instanceof je?r=e:e instanceof fe?r=e.token:e instanceof pe?i=!0:e instanceof ge||e instanceof me?o=e:e instanceof tt&&(r=e)}if(null!=(r=xe(r)))return qt(r,i,o);throw kt(e,n)}function qt(e,t,n){return new Rt(Nt.get(e),t,n)}const Ht=new Object;class zt{static resolve(e){return Ut(e)}static resolveAndCreate(e,t){const n=zt.resolve(e);return zt.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Gt(e,t)}}class Gt{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=Ht}get(e,t=it){return this._getByKey(Nt.get(e),null,t)}resolveAndCreateChild(e){const t=zt.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Gt(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(zt.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw t=this,n=e.key,It(t,n,function(e){return`Cannot instantiate cyclic dependency!${Dt(e)}`});var t,n;return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(u){throw u.addKey&&u.addKey(this,e.key),u}try{i=n(...r)}catch(u){throw o=this,s=u,u.stack,a=e.key,It(o,a,function(e){const t=Ae(e[0].token);return`${s.message}: Error during instantiation of ${t}!${Dt(e)}.`},s)}var o,s,a;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:it)}_getByKey(e,t,n){return e===Gt.INJECTOR_KEY?this:t instanceof ge?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Ht&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Ht}_throwOrNull(e,t){if(t!==it)return t;throw function(e,t){return It(e,t,function(e){return`No provider for ${Ae(e[0].token)}!${Dt(e)}`})}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==Ht?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let r;for(r=n instanceof me?this.parent:this;r instanceof Gt;){const t=r,n=t._getObjByKeyId(e.id);if(n!==Ht)return n;r=t.parent}return null!==r?r.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}Gt.INJECTOR_KEY=Nt.get(at);const Kt=new tt("AnalyzeForEntryComponents");class Wt{}const Qt=de("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),Wt),$t=(de("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Wt),de("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),Wt),de("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Wt),{OnPush:0,Default:1});$t[$t.OnPush]="OnPush",$t[$t.Default]="Default";const Yt={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};Yt[Yt.CheckOnce]="CheckOnce",Yt[Yt.Checked]="Checked",Yt[Yt.CheckAlways]="CheckAlways",Yt[Yt.Detached]="Detached",Yt[Yt.Errored]="Errored",Yt[Yt.Destroyed]="Destroyed";new Map;new Set;const Jt={Emulated:0,Native:1,None:2,ShadowDom:3};function Xt(e){return""+{toString:e}}Jt[Jt.Emulated]="Emulated",Jt[Jt.Native]="Native",Jt[Jt.None]="None",Jt[Jt.ShadowDom]="ShadowDom";const Zt={},en=[];const tn=we({ngComponentDef:we}),nn=we({ngDirectiveDef:we}),rn=we({ngPipeDef:we}),on=we({ngModuleDef:we}),sn=(we({ngBaseDef:we}),we({__NG_ELEMENT_ID__:we}));let an=0;function un(e){const t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===$t.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Jt.Emulated,id:"c",styles:e.styles||en,_:null,setInput:null,schemas:e.schemas||null};return i._=Xt(()=>{const n=e.directives,o=e.features,s=e.pipes;i.id+=an++,i.inputs=pn(e.inputs,r),i.outputs=pn(e.outputs),o&&o.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(cn):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(hn):null,t.hasOwnProperty(De)||(t[De]=Ce({factory:e.factory}))}),i}function ln(e,t,n){const r=e.ngComponentDef;r.directiveDefs=(()=>t.map(cn)),r.pipeDefs=(()=>n.map(hn))}function cn(e){const t=vn(e)||bn(e);return t}function hn(e){const t=wn(e);return t}function dn(e){return{type:e.type,bootstrap:e.bootstrap||en,declarations:e.declarations||en,imports:e.imports||en,exports:e.exports||en,transitiveCompileScopes:null,schemas:e.schemas||null}}function fn(e,t){return Xt(()=>{const n=_n(e,!0);n.declarations=t.declarations||en,n.imports=t.imports||en,n.exports=t.exports||en})}function pn(e,t){if(null==e)return Zt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function gn(e){const t={};return{inputs:pn(e.inputs,t),declaredInputs:t,outputs:pn(e.outputs),viewQuery:e.viewQuery||null,contentQueries:e.contentQueries||null}}const mn=un;function yn(e){return{name:e.name,factory:e.factory,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function vn(e){return e[tn]||null}function bn(e){return e[nn]||null}function wn(e){return e[rn]||null}function _n(e,t){const n=e[on]||null;if(!n&&!0===t)throw new Error(`Type ${Ae(e)} does not have 'ngModuleDef' property.`);return n}function Cn(e){return"function"==typeof e?e.name||e:"string"==typeof e?e:null==e?"":""+e}function En(e){return"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type:Cn(e)}const Sn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))();function Tn(e){return{name:"window",target:e.ownerDocument.defaultView}}function Dn(e){return{name:"document",target:e.ownerDocument}}function In(e){return{name:"body",target:e.ownerDocument.body}}const An="\ufffd";function kn(e,t,n){e<=t&&Nn(n)}function Nn(e){throw new Error(`ASSERTION ERROR: ${e}`)}const xn=0,On=1,Rn=2,Pn=3,Mn=4,Fn=5,Ln=6,Vn=7,Un=8,Bn=9,jn=10,qn=11,Hn=12,zn=13,Gn=14,Kn=15,Wn=16,Qn=17,$n=18,Yn=20,Jn=1,Xn=2,Zn=7,er=8,tr="__ngContext__";function nr(e){for(;Array.isArray(e);)e=e[xn];return e}function rr(e){return Array.isArray(e)&&"object"==typeof e[Jn]}function ir(e){return Array.isArray(e)&&!0===e[Jn]}function or(e,t){return nr(t[e+Yn])}function sr(e,t){return nr(t[e.index])}function ar(e,t){return t[On].data[e+Yn]}function ur(e,t){return e[t+Yn]}function lr(e,t){const n=t[e];return rr(n)?n:n[xn]}function cr(e){return 1==(1&e.flags)}function hr(e){return null!==e.template}function dr(e){return 0!=(512&e[Rn])}function fr(e){return e[tr]}function pr(e){const t=fr(e);return t?Array.isArray(t)?t:t.lView:null}function gr(e){return ir(e[Pn])}function mr(e){e[$n]=0}const yr=8,vr=8,br=9,wr=-1;class _r{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Cr(e,t,n,r,i,o){const{onChanges:s,onInit:a,doCheck:u}=t;i>=0&&(!n.preOrderHooks||i===n.preOrderHooks.length)&&(s||a||u)&&(n.preOrderHooks||(n.preOrderHooks=[])).push(r),o>=0&&(!n.preOrderCheckHooks||o===n.preOrderCheckHooks.length)&&(s||u)&&(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,a),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u))}function Er(e,t){if(e.firstTemplatePass)for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}}function Sr(e,t,n,r){n||Tr(e,t.preOrderHooks,t.preOrderCheckHooks,n,0,void 0!==r?r:null)}function Tr(e,t,n,r,i,o){if(r)return;const s=(3&e[Rn])===i?t:n;s&&function(e,t,n,r){const i=void 0!==r?65535&e[$n]:0,o=null!=r?r:-1;let s=0;for(let a=i;a<t.length;a++){const i=t[a+1];if("number"==typeof i){if(s=t[a],null!=r&&s>=r)break}else{const r=t[a]<0;r&&(e[$n]+=65536),(s<o||-1==o)&&(Dr(e,n,t,a),e[$n]=(4294901760&e[$n])+a+2),a++}}}(e,s,i,o),null==o&&(3&e[Rn])===i&&3!==i&&(e[Rn]&=1023,e[Rn]+=1)}function Dr(e,t,n,r){const i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];if(i){e[Rn]>>10<e[$n]>>16&&(3&e[Rn])===t&&(e[Rn]+=1024,o.call(s))}else o.call(s)}let Ir,Ar=null;function kr(e){Ar=e}let Nr,xr=null;function Or(e){xr=e}function Rr(){Nr=!0}function Pr(){Nr=!1}function Mr(){return Ur}const Fr=1;let Lr,Vr,Ur,Br=Fr,jr=0,qr=0;function Hr(e=null){fi!==e&&(gi(null==e?-1:e),Br=Fr,jr=0,qr=0)}function zr(){Br+=1+qr,jr=0,qr=0}function Gr(e){jr+=e,qr=Math.max(qr,jr)}function Kr(e){Zr=e}function Wr(){return Lr}function Qr(e){Lr=e}function $r(e,t){Lr=e,Ur=t}function Yr(){return Vr}function Jr(e){Vr=e}function Xr(e=Ur){return 4==(4&e[Rn])}let Zr=null;function ei(){return Zr}let ti=!1;function ni(){return ti}function ri(e){ti=e}let ii=-1;function oi(){return ii}function si(e){ii=e}let ai=0;function ui(){return ai}function li(e){ai=e}function ci(e,t){const n=Ur;if(e){const t=e[On];ii=t.bindingStartIndex}return Lr=t,Vr=!0,Ur=Zr=e,n}function hi(e=1){return(Zr=function(e,t){for(;e>0;)t=t[Qn],e--;return t}(e,Zr))[Bn]}function di(e){const t=Ur[On];if(Xr(Ur))Ur[Rn]&=-5;else try{mr(Ur),Tr(Ur,t.viewHooks,t.viewCheckHooks,ti,2,void 0)}finally{Ur[Rn]&=-73,Ur[Vn]=t.bindingStartIndex}kr(null),ci(e,null)}let fi=-1;function pi(){return fi}function gi(e){fi=e,kr(null)}let mi=null;function yi(){mi="http://www.w3.org/2000/svg"}function vi(){mi="http://www.w3.org/1998/MathML/"}function bi(){mi=null}const wi={Important:1,DashCase:2};function _i(e){return!!e.listen}wi[wi.Important]="Important",wi[wi.DashCase]="DashCase";const Ci={createRenderer:(e,t)=>document};function Ei(e,t){e[tr]=t}class Si{constructor(){this._players=[]}flushPlayers(){for(let e=0;e<this._players.length;e++){const t=this._players[e];t.parent||0!==t.state||t.play()}this._players.length=0}queuePlayer(e){this._players.push(e)}}const Ti=0,Di="@";function Ii(e,t,n,r){const i=[e||null,0,[],n||[null,null],r||[null,null],[0,0],[0],[0],null,null];return Ai(i,Ti),i}function Ai(e,t,n=-1,r){const i=e[2],o=2*t,s=o+2;for(let u=i.length;u<s;u+=2)i.push(-1,null);const a=o+0;n>=0&&-1===i[a]&&(i[a]=n,i[o+1]=r||null)}function ki(e,t){let n=e,r=t[n],i=t;for(;Array.isArray(r);)i=r,r=r[xn];if(o=i,Array.isArray(o)&&"number"==typeof o[Jn])return i;{const o=ar(e-Yn,t).stylingTemplate;return i!==t&&(n=xn),i[n]=o?function(e,t){const n=t.slice();for(let r=0;r<10;r++){const e=t[r];Array.isArray(e)&&(n[r]=e.slice())}return n[0]=e,n[1]|=16,n}(r,o):Ii(r)}var o}function Ni(e){return e[0]===Di}function xi(e){return 0!=(8&e.flags)}function Oi(e){return 0!=(16&e.flags)}function Ri(e,t,n,r,i,o){if(o=o||n,i?e[i]=r:e.push(r),r){return r.addEventListener(200,()=>{const t=e.indexOf(r),n=e[0];t&&(t<n?e[t]=null:e.splice(t,1)),r.destroy()}),(t.playerHandler||(t.playerHandler=new Si)).queuePlayer(r,o),!0}return!1}function Pi(e){return e[9]}function Mi(e){return e[9]=[5,null,null,null,null]}function Fi(e,t){const n=Mr()[Hn],r=_i(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const s=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=t[++i];Ni(s)?r&&n.setProperty(e,s,a):r?n.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Li(e,t){for(let n=t;n<e.length;n++){const t=e[n];if(1===t||2===t)return n}return-1}function Vi(e){return 3===e||4===e}function Ui(e){return e!==wr}function Bi(e){return 32767&e}function ji(e){return e>>16}function qi(e,t){let n=ji(e),r=t;for(;n>0;)r=r[Qn],n--;return r}function Hi(e){const t=e[Pn];return ir(t)?t[Pn]:t}function zi(e){let t=e[Ln];for(;t&&2===t.type;)t=(e=e[Qn])[Ln];return e}function Gi(e){const t=function(e){let t=rr(e)?e:pr(e);for(;t&&!(512&t[Rn]);)t=Hi(t);return t}(e);return t[Bn]}let Ki=!0;function Wi(e){const t=Ki;return Ki=e,t}const Qi=255;let $i=0;function Yi(e,t){const n=Xi(e,t);if(-1!==n)return n;const r=t[On];r.firstTemplatePass&&(e.injectorIndex=t.length,Ji(r.data,e),Ji(t,null),Ji(r.blueprint,null));const i=Zi(e,t),o=Bi(i),s=qi(i,t),a=e.injectorIndex;if(Ui(i)){const e=s[On].data;for(let n=0;n<8;n++)t[a+n]=s[o+n]|e[o+n]}return t[a+vr]=i,a}function Ji(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Xi(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+vr]?-1:e.injectorIndex}function Zi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[Ln],r=1;for(;n&&-1===n.injectorIndex;)n=(t=t[Qn])?t[Ln]:null,r++;return n?n.injectorIndex|r<<16:-1}function eo(e,t,n){!function(e,t,n){let r="string"!=typeof n?n[sn]:n.charCodeAt(0)||0;null==r&&(r=n[sn]=$i++);const i=r&Qi,o=1<<i,s=128&i,a=64&i,u=32&i,l=t.data;s?a?u?l[e+7]|=o:l[e+6]|=o:u?l[e+5]|=o:l[e+4]|=o:a?u?l[e+3]|=o:l[e+2]|=o:u?l[e+1]|=o:l[e]|=o}(e,t[On],n)}function to(e,t,n,r=be.Default,i){if(e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[sn];return"number"==typeof t&&t>0?t&Qi:t}(n);if("function"==typeof i){const o=Wr(),s=Mr();$r(e,t);try{const e=i();if(null!=e||r&be.Optional)return e;throw new Error(`No provider for ${En(n)}!`)}finally{$r(o,s)}}else if("number"==typeof i){if(-1===i)return new uo(e,t);let o=null,s=Xi(e,t),a=wr,u=r&be.Host?zi(t)[Ln]:null;for((-1===s||r&be.SkipSelf)&&(a=-1===s?Zi(e,t):t[s+vr],ao(r,!1)?(o=t[On],s=Bi(a),t=qi(a,t)):s=-1);-1!==s;){a=t[s+vr];const e=t[On];if(so(i,s,e.data)){const e=ro(s,t,n,o,r,u);if(e!==no)return e}ao(r,t[On].data[s+yr]===u)&&so(i,s,t)?(o=e,s=Bi(a),t=qi(a,t)):s=-1}}}if(r&be.Optional&&void 0===i&&(i=null),0==(r&(be.Self|be.Host))){const e=t[jn],o=Le(void 0);try{return e?e.get(n,i,r&be.Optional):Ue(n,i,r&be.Optional)}finally{Le(o)}}if(r&be.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${En(n)}]`)}const no={};function ro(e,t,n,r,i,o){const s=t[On],a=s.data[e+yr],u=io(a,t,n,null==r?cr(a)&&Ki:r!=s&&3===a.type,i&be.Host&&o===a);return null!==u?oo(s.data,t,u,a):no}function io(e,t,n,r,i){const o=t[On],s=e.providerIndexes,a=o.data,u=65535&s,l=e.directiveStart,c=e.directiveEnd,h=s>>16,d=i?u+h:c;for(let f=r?u:u+h;f<d;f++){const e=a[f];if(f<l&&n===e||f>=l&&e.type===n)return f}if(i){const e=a[l];if(e&&hr(e)&&e.type===n)return l}return null}function oo(e,t,n,r){let i=t[n];if(null!==(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==_r.prototype){const o=i;if(o.resolving)throw new Error(`Circular dep for ${En(e[n])}`);const s=Wi(o.canSeeViewProviders);let a;o.resolving=!0,o.injectImpl&&(a=Le(o.injectImpl));const u=Wr(),l=Mr();$r(r,t);try{i=t[n]=o.factory(null,e,t,r)}finally{o.injectImpl&&Le(a),Wi(s),o.resolving=!1,$r(u,l)}}var o;return i}function so(e,t,n){const r=1<<e,i=64&e,o=32&e;let s;return!!((s=128&e?i?o?n[t+7]:n[t+6]:o?n[t+5]:n[t+4]:i?o?n[t+3]:n[t+2]:o?n[t+1]:n[t])&r)}function ao(e,t){return!(e&be.Self||e&be.Host&&t)}class uo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return to(this._tNode,this._lView,e,void 0,t)}}function lo(e){const t=e,n=vn(t)||bn(t)||wn(t)||Se(t)||Te(t);return n&&void 0!==n.factory?n.factory:null}function co(e){const t=lo(Object.getPrototypeOf(e.prototype).constructor);return null!==t?t:e=>new e}function ho(e){return e[Et]}function fo(e){return e[St]}function po(e,...t){e.error(...t)}class go{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[Tt]||po}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?ho(e)?ho(e):this._findContext(fo(e)):null}_findOriginalError(e){let t=fo(e);for(;t&&fo(t);)t=fo(t);return t}}const mo="__SANITIZER_TRUSTED_BRAND__";function yo(e,t){return e instanceof String&&e[mo]===t}let vo=!0,bo=!1;function wo(){return bo=!0,vo}class _o{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const n=(new window.DOMParser).parseFromString(e,"text/html").body;return n.removeChild(n.firstChild),n}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Co=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Eo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function So(e){return(e=String(e)).match(Co)||e.match(Eo)?e:(wo()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function To(e){return(e=String(e)).split(",").map(e=>So(e.trim())).join(", ")}function Do(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Io(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Ao=Do("area,br,col,hr,img,wbr"),ko=Do("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),No=Do("rp,rt"),xo=Io(No,ko),Oo=Io(ko,Do("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ro=Io(No,Do("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Po=Io(Ao,Oo,Ro,xo),Mo=Do("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fo=Do("srcset"),Lo=Do("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vo=Do("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Uo=Io(Mo,Fo,Lo,Vo),Bo=Do("script,style,template");class jo{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Po.hasOwnProperty(t))return this.sanitizedSomething=!0,!Bo.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Uo.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;Mo[i]&&(o=So(o)),Fo[i]&&(o=To(o)),this.buf.push(" ",t,'="',zo(o),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Po.hasOwnProperty(t)&&!Ao.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zo(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const qo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ho=/([^\#-~ |!])/g;function zo(e){return e.replace(/&/g,"&amp;").replace(qo,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ho,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Go;function Ko(e,t){let n=null;try{Go=Go||new _o(e);let r=t?String(t):"";n=Go.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Go.getInertBodyElement(r)}while(r!==o);const s=new jo,a=s.sanitizeChildren(Wo(n)||n);return wo()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Wo(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Wo(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Qo={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};Qo[Qo.NONE]="NONE",Qo[Qo.HTML]="HTML",Qo[Qo.STYLE]="STYLE",Qo[Qo.SCRIPT]="SCRIPT",Qo[Qo.URL]="URL",Qo[Qo.RESOURCE_URL]="RESOURCE_URL";class $o{}const Yo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Jo=/^url\(([^)]+)\)$/;function Xo(e){if(!(e=String(e).trim()))return"";const t=e.match(Jo);return t&&So(t[1])===t[1]||e.match(Yo)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(wo()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}function Zo(e){const t=ss();return t?t.sanitize(Qo.HTML,e)||"":yo(e,"Html")?e.toString():Ko(document,Cn(e))}function es(e){const t=ss();return t?t.sanitize(Qo.STYLE,e)||"":yo(e,"Style")?e.toString():Xo(Cn(e))}function ts(e){const t=ss();return t?t.sanitize(Qo.URL,e)||"":yo(e,"Url")?e.toString():So(Cn(e))}function ns(e){const t=ss();if(t)return t.sanitize(Qo.RESOURCE_URL,e)||"";if(yo(e,"ResourceUrl"))return e.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function rs(e){const t=ss();if(t)return t.sanitize(Qo.SCRIPT,e)||"";if(yo(e,"Script"))return e.toString();throw new Error("unsafe value used in a script context")}function is(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ns:ts}(t,n)(e)}const os=function(e,t){return void 0===t?"background-image"===e||"background"===e||"border-image"===e||"filter"===e||"list-style"===e||"list-style-image"===e:es(t)};function ss(){const e=Mr();return e&&e[zn]}function as(e){var t;return t=e.replace(/[$@]/g,"_"),`ng-reflect-${e=t.replace(us,(...e)=>"-"+e[1].toLowerCase())}`}const us=/([A-Z])/g;function ls(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}const cs={marker:"element"},hs={marker:"comment"};function ds(e){throw new Error(`Multiple components match node with tagname ${e.tagName}`)}const fs={};function ps(e,t,n,r){const i=e[8],o=function(e,t){for(let n=1;n<e.length;n+=3){const r=e[n+0];if(r>t)return n}return e.length}(i,t);i.splice(o,0,t,n,r)}class gs{constructor(e,t){this.fn=e,this.value=t}}function ms(e,t,n=0){const r=Ii();return ys(r,e,t,n),r}function ys(e,t,n,r){if(16&e[1])return;Ai(e,r);let i=null,o=null,s=-1;for(let a=n;a<t.length;a++){const n=t[a];"number"==typeof n?s=n:1==s?vs(i=i||e[4],n,!0,r):2==s&&vs(o=o||e[3],n,t[++a],r)}}function vs(e,t,n,r){for(let i=2;i<e.length;i+=3){if(e[i+0]===t){return void(la(e[i+1],n,e[i+2],r)&&ga(i,e,t,n,r))}}ga(null,e,t,n,r)}function bs(e,t,n,r){const i=t[4];let o=r||2;for(;o<i.length;){i[o+1]&&Ns(e,i[o+0],!0,n,null),o+=3}return o}function ws(e,t,n,r){const i=t[3];let o=r||2;for(;o<i.length;){const t=i[o+1];t&&ks(e,i[o+0],t,n,null),o+=3}return o}function _s(e,t,n,r,i){if(16&e[1])return;if(!function(e,t,n,r){const i=e[2],o=2*t,s=o+0;if(o<i.length&&i[s]>=0)return!1;const a=n?-1:e[5].length;return Ai(e,t,a,r),!0}(e,t,!1,i))return;r&&(r=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(fa(e[n]));return t}(r));const o=e[5],s=o[1],a=o[0],u=e[6],l=e[7],c=4*a;let h=10+c,d=h+4*s,f=d+c;const p=o.length;o.push(r?r.length:0,n?n.length:0);let g=0;const m=[];if(r&&r.length)for(let A=0;A<r.length;A++){const t=r[A];let n=Cs(e,t,10,h);-1==n&&(n=h+g,g+=4,m.push(t)),o.push(n)}const y=[];if(n&&n.length)for(let A=0;A<n.length;A++){const t=n[A];let r=Cs(e,t,h,d);-1==r?(r=d+g,g+=4,y.push(t)):r+=4*m.length,o.push(r)}let v=2;if(m.length)for(;v<p;){const e=o[v+0],t=o[v+1];if(t){const n=v+2+e;for(let e=n;e<n+t;e++)o[e]+=4*m.length}v+=2+(e+t)}const b=y.length+m.length;for(let A=10;A<e.length;A+=4){const t=A>=d,n=A>=(t?f:h),r=Qs(e,A),i=Ls(r);let o=Vs(r);Ws(e,A,Ms(r,i,o+=t?n?4*m.length:0:4*b+4*(n?m.length:0)))}for(let A=0;A<4*m.length;A++)e.splice(f,0,null),e.splice(h,0,null),h++,d++,f+=2;for(let A=0;A<4*y.length;A++)e.splice(d,0,null),e.push(null),d++,f++;const w=e[4],_=e[3];for(let A=0;A<b;A++){const n=A>=m.length,r=n?A-m.length:A,o=n?y[r]:m[r];let u,l;n?(u=f+4*(s+r),l=h+4*(s+r)):(u=d+4*(a+r),l=10+4*(a+r));let c=n?w:_,p=aa(c,o);-1===p?p=ga(null,c,o,!n&&null,t)+1:p+=1;const g=na(e,o,n,i||null);Ws(e,l,Ms(g,p,u)),Bs(e,l,o),js(e,l,null),zs(e,l,0,t),Ws(e,u,Ms(g,p,l)),Bs(e,u,o),js(e,u,null),zs(e,u,0,t)}o[1]=s+y.length,o[0]=a+m.length,u[0]+=y.length,l[0]+=m.length;const C=4*m.length,E=4*y.length,S=d+4*a,T=l.length;pa(e,t,!1,S,m.length);for(let A=1;A<T;A+=4)l[A+1]+=E+C;const D=f+4*s,I=u.length;pa(e,t,!0,D,y.length);for(let A=1;A<I;A+=4)u[A+1]+=2*C+E;Ws(e,1,Ms(0,0,d))}function Cs(e,t,n,r){for(let i=n;i<r;i+=4)if(Ys(e,i)===t)return i;return-1}function Es(e,t,n,r=0){n=n||null;const i=da(e,!0,r,t=t||null),o=da(e,!1,r,n);if(i&&o)return;t=t===fs?ha(e,!0,r):t,n=n===fs?ha(e,!1,r):n;const s=e[0],a=t instanceof gs?new oa(t,s,1):null,u=n instanceof gs?new oa(n,s,2):null,l=a?t.value:t,c=u?n.value:n;let h=en,d=!1,f=!1;const p=a?1:0;qs(e,a,1)&&(Hs(e,a,1),f=!0);const g=u?3:0;qs(e,u,3)&&(Hs(e,u,3),f=!0),i||("string"==typeof l?(h=l.split(/\s+/),d=!0):h=l?Object.keys(l):en);const m=Us(e);let y=function(e){return e[6][2]}(e),v=e.length;if(!o){const t=Ss(e,r,g,m,y,c?Object.keys(c):en,c||Zt,n,!1);t&&(y+=4*t,v+=4*t)}if(!i){const n=l||Zt;Ss(e,r,p,y,v,h,d||n,t,!0)}f&&Xs(e,!0)}function Ss(e,t,n,r,i,o,s,a,u){let l=!1;const c=1+4*t,h=e[u?6:7],d=h[c+1],f=h[c+2],p=h[c+3];let g=1===h[c+0]||!(f||!a),m=0,y=0;const v=!0===s;let b=r,w=o.length;for(;b<d;){const r=Ys(e,b);if(w)for(let i=0;i<o.length;i++){const a=o[i],c=a?u?a:fa(a):null;if(c&&r===c){const r=$s(e,b),a=sa(e,b),u=!!v||s[c],h=Qs(e,b);ia(h,r,u)&&la(r,u,a,t)&&(js(e,b,u),zs(e,b,n,t),ra(e,h,u)&&(xs(e,b,!0),l=!0)),o[i]=null,w--;break}}b+=4}if(w){const r=u?null:ua(e,t);e:for(let a=0;a<o.length;a++){const c=o[a];if(!c)continue;const h=!!v||s[c],f=u?c:fa(c),p=b>=d;for(let r=b;r<i;r+=4){if(Ys(e,r)===f){const i=sa(e,r),o=Gs(e,r),s=$s(e,r),a=Qs(e,r);la(s,h,i,t)&&(p&&(Zs(e,b,r),m++),ia(a,s,h)&&((null===h||void 0===h&&h!==s)&&(g=!0),js(e,b,h),(null!==s||ra(e,a,h))&&(xs(e,b,!0),l=!0)),i===t&&n===o||zs(e,b,n,t)),b+=4;continue e}}if(null!=h){g=!0,m++,ea(e,p?b:d+4*y,u,f,1|na(e,f,u,r),h,t,n),y++,i+=4,b+=4,l=!0}}}for(;b<i;){g=!0;const r=$s(e,b),i=Qs(e,b);sa(e,b);null!=r&&(g=!0),ia(i,r,null)&&(js(e,b,null),ra(e,i,r)&&(xs(e,b,!0),l=!0),zs(e,b,n,t)),b+=4}return function(e,t,n,r,i,o,s,a){const u=e[n?6:7],l=1+4*t;if(a){const e=i+4*s;for(let t=l+4;t<u.length;t+=4)u[t+1]=e,u[t+0]=1}u[l+0]=0,u[l+1]=i,u[l+2]=r,u[l+3]=s;let c=s;for(let h=1;h<l;h+=4)c+=u[h+3];if(!n){const t=e[6],n=t[2],r=o-n;for(let e=1;e<t.length;e+=4)t[e+1]+=r}u[0]=c}(e,t,u,a,d,i,m,g=g||p!==m),l&&Js(e,!0),y}function Ts(e,t,n,r=0,i){Is(e,t,n,!0,r,i)}function Ds(e,t,n,r=0,i){Is(e,t,n,!1,r,i)}function Is(e,t,n,r,i,o){const s=function(e,t,n,r){const i=e[2][2*t+0],o=e[5],s=i+2+(r?o[i+0]:0)+n;return o[s]}(e,i,t,r),a=$s(e,s),u=Qs(e,s),l=sa(e,s),c=n instanceof gs?n.value:n;if(ia(u,a,c)&&(o||la(a,c,l,i))){const t=2==(2&u),r=e[0],o=n instanceof gs?new oa(n,r,t?1:2):null,a=o?n.value:n,c=Gs(e,s);let h=!1,d=o?c:0;if(qs(e,o,c)){const t=Hs(e,o,c);d=o?t:0,h=!0}if((h||l!==i)&&zs(e,s,d,i),l!==i){const t=Ys(e,s),n=ua(e,i);!function(e,t,n){n?e[t]|=4:e[t]&=-5}(e,s,!(!n||!n(t)))}js(e,s,a);const f=Vs(u),p=$s(e,f);if(!p||ia(u,p,a)){let n=!1,r=!0;!ta(a,t)&&ta(p,t)&&(n=!0,r=!1),xs(e,f,n),xs(e,s,r),Js(e,!0)}h&&Xs(e,!0)}}function As(e,t,n,r,i,o,s=0){let a=0;if(function(e,t){const n=e[8];return!n||n[0]===t}(e,s)&&(function(e){const t=e[8];if(t){for(let e=1;e<t.length;e+=3){const n=t[e+1],r=t[e+2];n.apply(this,r)}t.length=1}}(e),function(e){return Os(e,1)}(e))){const s=e[0],u=8&e[1],l=Us(e);for(let n=10;n<e.length;n+=4)if(Os(e,n)){const a=Qs(e,n),u=sa(e,n),c=Ys(e,n),h=$s(e,n),d=4&a?ua(e,u):null,f=Ks(e,n),p=!!(2&a);let g=h;if(n<l&&!ta(g,p)){g=$s(e,Vs(a))}ta(g,p)||(g=Fs(e,a)),t&&(!r||g)&&(p?Ns(s,c,!!g,t,i,f):ks(s,c,g,t,d,o,f)),xs(e,n,!1)}if(u){const t=Array.isArray(n)?Gi(n):n,i=Pi(e),o=i[0];for(let e=1;e<o;e+=2){const n=i[e],o=e+1,u=i[o];if(n){const e=n.buildPlayer(u,r);if(void 0!==e){if(null!=e){Ri(i,t,s,e,o)&&a++}u&&u.destroy()}}else u&&u.destroy()}Xs(e,!1)}Js(e,!1)}return a}function ks(e,t,n,r,i,o,s){n=i&&n?i(t,n):n,o||s?(o&&o.setValue(t,n),s&&s.setValue(t,n)):n?(n=n.toString(),_i(r)?r.setStyle(e,t,n,wi.DashCase):e.style.setProperty(t,n)):_i(r)?r.removeStyle(e,t,wi.DashCase):e.style.removeProperty(t)}function Ns(e,t,n,r,i,o){i||o?(i&&i.setValue(t,n),o&&o.setValue(t,n)):""!==t&&(n?_i(r)?r.addClass(e,t):e.classList.add(t):_i(r)?r.removeClass(e,t):e.classList.remove(t))}function xs(e,t,n){const r=t>=10?t+0:t;n?e[r]|=1:e[r]&=-2}function Os(e,t){return 1==(1&e[t>=10?t+0:t])}function Rs(e,t){return 2==(2&e[t>=10?t+0:t])}function Ps(e,t){return 4==(4&e[t>=10?t+0:t])}function Ms(e,t,n){return 31&e|t<<5|n<<19}function Fs(e,t){const n=Ls(t);return(2&t?e[4]:e[3])[n]}function Ls(e){return e>>5&16383}function Vs(e){const t=e>>19&16383;return t>=10?t:-1}function Us(e){return e[7][2]}function Bs(e,t,n){e[t+1]=n}function js(e,t,n){e[t+2]=n}function qs(e,t,n){const r=e[9];if(t){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==t}function Hs(e,t,n){let r=e[9]||Mi(e);return n>0?r[n]=t:(n=r[0],r.splice(n,0,t,null),r[0]+=2),n}function zs(e,t,n,r){const i=function(e,t){return t<<16|e}(r,n);e[t+3]=i}function Gs(e,t){return e[t+3]>>16&65535}function Ks(e,t){const n=Gs(e,t);if(n){const t=e[9];if(t)return t[n]}return null}function Ws(e,t,n){e[1===t?t:t+0]=n}function Qs(e,t){return e[1===t?t:t+0]}function $s(e,t){return e[t+2]}function Ys(e,t){return e[t+1]}function Js(e,t){xs(e,1,t)}function Xs(e,t){t?e[1]|=8:e[1]&=-9}function Zs(e,t,n){if(t===n)return;const r=$s(e,t),i=Ys(e,t),o=Qs(e,t),s=Gs(e,t),a=sa(e,t);let u=o,l=Qs(e,n);const c=Vs(u);if(c>=0){const t=Qs(e,c);Ws(e,c,Ms(t,Ls(t),n))}const h=Vs(l);if(h>=0){const n=Qs(e,h);Ws(e,h,Ms(n,Ls(n),t))}js(e,t,$s(e,n)),Bs(e,t,Ys(e,n)),Ws(e,t,Qs(e,n)),zs(e,t,Gs(e,n),sa(e,n)),js(e,n,r),Bs(e,n,i),Ws(e,n,o),zs(e,n,s,a)}function ea(e,t,n,r,i,o,s,a){const u=t<e.length;e.splice(t,0,1|i|(n?2:0),r,o,0),zs(e,t,a,s),u&&function(e,t){for(let n=t;n<e.length;n+=4){const t=Vs(Qs(e,n));if(t>0){const r=Ls(Qs(e,t));Ws(e,t,Ms((Os(e,t)?1:0)|(Rs(e,t)?2:0)|(Ps(e,t)?4:0),r,n))}}}(e,t+4)}function ta(e,t){return null!==e}function na(e,t,n,r){let i,o=r&&r(t)?4:0;return n?(o|=2,i=aa(e[4],t)):i=aa(e[3],t),Ms(o,i=i>0?i+1:0,0)}function ra(e,t,n){const r=Fs(e,t);return!r||ia(t,r,n)}function ia(e,t,n){return!(2&e)&&(t&&n)&&4&e?t.toString()!==n.toString():t!==n}class oa{constructor(e,t,n){this._element=t,this._type=n,this._values={},this._dirty=!1,this._factory=e}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._dirty=!0)}buildPlayer(e,t){if(this._dirty){const n=this._factory.fn(this._element,this._type,this._values,t,e||null);return this._values={},this._dirty=!1,n}}}function sa(e,t){return 65535&e[t+3]}function aa(e,t){for(let n=2;n<e.length;n+=3)if(e[n]===t)return n;return-1}function ua(e,t){const n=e[2];return n[2*t+1]||n[1]||null}function la(e,t,n,r){return null==e||(null!=t?r<=n:n===r)}function ca(e){const t=e[4];let n=t[1];if(null===n){n="";for(let e=2;e<t.length;e+=3){t[e+1]&&(n+=(n.length?" ":"")+t[e])}t[1]=n}return n}function ha(e,t,n){return e[t?6:7][1+4*n+2]||null}function da(e,t,n,r){return!e[t?6:7][1+4*n+0]&&(r===fs||ha(e,t,n)===r)}function fa(e){return e.replace(/[a-z][A-Z]/g,e=>`${e.charAt(0)}-${e.charAt(1).toLowerCase()}`)}function pa(e,t,n,r,i=0){const o=e[n?6:7];if(t>0){const e=1+4*t;for(;o.length<e;)o.push(0,r,null,0)}o.push(0,r,null,i)}function ga(e,t,n,r,i){return null===e&&(e=t.length,t.push(null,null,null),t[e+0]=n),t[e+1]=r,t[e+2]=i,e}const ma="ng-template";function ya(e,t){const n=e.length,r=e.indexOf(t),i=r+t.length;return!(-1===r||r>0&&" "!==e[r-1]||i<n&&" "!==e[i])}function va(e,t,n){return t===(0!==e.type||n?e.tagName:ma)}function ba(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++){const n=e[t];if(Vi(n))return t}return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!va(e,u,n)||""===u&&1===t.length){if(wa(r))return!1;s=!0}}else{const l=8&r?u:t[++a];if(8&r&&e.stylingTemplate){if(!ya(_a(e),l)){if(wa(r))return!1;s=!0}continue}const c=Ca(8&r?"class":u,i,0==e.type&&e.tagName!==ma,n);if(-1===c){if(wa(r))return!1;s=!0;continue}if(""!==l){let e;e=c>o?"":i[c+1];const t=8&r?e:null;if(t&&!ya(t,l)||2&r&&l!==e){if(wa(r))return!1;s=!0}}}}else{if(!s&&!wa(r)&&!wa(u))return!1;if(s&&wa(u))continue;s=!1,r=u|1&r}}return wa(r)||s}function wa(e){return 0==(1&e)}function _a(e){return e.stylingTemplate?ca(e.stylingTemplate):""}function Ca(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r)n=!0;else{if(1===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function Ea(e,t,n=!1){for(let r=0;r<t.length;r++)if(ba(e,t[r],n))return!0;return!1}function Sa(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}const Ta=(()=>Promise.resolve(null))();function Da(e){const t=e[On],n=Xr(e);if(t.firstTemplatePass=!1,e[Vn]=t.bindingStartIndex,!n){const n=ni();Sr(e,t,n,void 0),function(e){for(let t=e[Gn];null!==t;t=t[Mn])if(t.length<Yn&&-1===t[Xn]){const e=t;for(let t=0;t<e[er].length;t++){const n=e[er][t];Oa(n,n[On],n[Bn])}}}(e),Ia(t,e),mr(e),Tr(e,t.contentHooks,t.contentCheckHooks,n,1,void 0),function(e,t){const n=pi();try{if(e.expandoInstructions){let n=t[Vn]=e.expandoStartIndex;si(n);let r=-1,i=-1;for(let o=0;o<e.expandoInstructions.length;o++){const s=e.expandoInstructions[o];if("number"==typeof s){if(s<=0){Hr(i=-s);const t=e.expandoInstructions[++o];r=n+=br+t}else n+=s;si(n)}else{if(null!==s){t[Vn]=n;const e=nr(t[r]);s(2,e,i),zr()}r++}}}}finally{Hr(n)}}(t,e)}n&&t.staticContentQueries&&Ia(t,e),function(e){if(null!=e)for(let t=0;t<e.length;t++)nu(e[t])}(t.components)}function Ia(e,t){if(null!=e.contentQueries){li(0);for(let n=0;n<e.contentQueries.length;n++){const r=e.contentQueries[n],i=e.data[r];i.contentQueries(2,t[r],r)}}}function Aa(e,t){let n;const r=t||Mr()[Hn],i=mi;return n=_i(r)?r.createElement(e,i):null===i?r.createElement(e):r.createElementNS(i,e)}function ka(e,t,n,r,i,o,s,a,u,l){const c=t.blueprint.slice();return c[xn]=i,c[Rn]=140|r,mr(c),c[Pn]=c[Qn]=e,c[Bn]=n,c[qn]=s||e&&e[qn],c[Hn]=a||e&&e[Hn],c[zn]=u||e&&e[zn]||null,c[jn]=l||e&&e[jn]||null,c[Ln]=o,c}function Na(e,t,n,r,i){const o=Mr(),s=o[On],a=e+Yn;o[a]=n;const u=Wr(),l=Yr();let c=s.data[a];if(null==c){const e=l?u:u&&u.parent,n=e&&e!==o[Ln]?e:null;c=s.data[a]=qa(n,t,a,r,i)}return u&&(!l||null!=u.child||null===c.parent&&2!==u.type?l||(u.next=c):u.child=c),null==s.firstChild&&(s.firstChild=c),Qr(c),Jr(!0),c}function xa(e,t,n,r){let i=e.node;return null==i&&(e.node=i=qa(t,2,n,null,null)),r[Ln]=i}function Oa(e,t,n){const r=Yr(),i=Wr();let o;if(512&e[Rn])su(Gi(e));else try{Jr(!0),Qr(null),o=ci(e,e[Ln]),mr(e),Pa(t.template,Ma(e),n),e[On].firstTemplatePass=!1,Da(e)}finally{di(o),Jr(r),Qr(i)}}function Ra(e,t,n){const r=e[qn],i=ci(e,e[Ln]),o=!ni(),s=Xr(e);try{o&&!s&&r.begin&&r.begin(),s&&(n&&Pa(n,1,t),Da(e),e[Rn]&=-5),mr(e),n&&Pa(n,2,t),Da(e)}finally{o&&!s&&r.end&&r.end(),di(i)}}function Pa(e,t,n){bi();const r=pi();try{Hr(null),e(t,n)}finally{gi(r)}}function Ma(e){return Xr(e)?1:2}function Fa(e,t,n,r){if(e.firstTemplatePass&&!t.stylingTemplate){const e=Li(n,r);e>=0&&(t.stylingTemplate=ms(n,e))}}function La(e,t,n){if(function(e){return 0!=(4&e.flags)}(t)){const r=t.directiveStart,i=t.directiveEnd;for(let t=r;t<i;t++){const r=e.data[t];r.contentQueries&&r.contentQueries(1,n[t],t)}}}function Va(e,t,n,r=sr){if(!Nr)return;const i=Wr();e.firstTemplatePass&&function(e,t,n,r,i){const o=i?{"":-1}:null;if(n){Xa(r,e.data.length,n.length);for(let e=0;e<n.length;e++){const t=n[e];t.providersResolver&&t.providersResolver(t)}Wa(e,r,n.length);const i=e.preOrderHooks&&e.preOrderHooks.length||0,s=e.preOrderCheckHooks&&e.preOrderCheckHooks.length||0,a=r.index-Yn;for(let r=0;r<n.length;r++){const u=n[r],l=e.data.length;Za(e,t,u,u.factory),Ja(e.data.length-1,u,o),Cr(l,u,e,a,i,s)}}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new Error(`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(r,i,o)}(e,t,function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const e=r[o];Ea(n,e.selectors,!1)&&(i||(i=[]),eo(Yi(Wr(),t),t,e.type),hr(e)?(1&n.flags&&ds(n),n.flags=1,i.unshift(e)):i.push(e))}return i}(e,t,i),i,n||null),function(e,t,n){const r=n.directiveStart,i=n.directiveEnd;!e.firstTemplatePass&&r<i&&Yi(n,t);for(let o=r;o<i;o++){const r=e.data[o];hr(r)&&eu(t,n,r);const i=oo(e.data,t,o,n);Qa(t,i,r,o)}}(e,t,i),function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,s=e.firstTemplatePass,a=n.index-Yn,u=pi();try{Hr(a);for(let a=r;a<i;a++){const r=e.data[a],i=t[a];r.hostBindings?(Ka(r,o,i,n,s),zr()):s&&o.push(null)}}finally{Hr(u)}}(e,t,i),function(e,t,n){const r=t.localNames;if(r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}(t,i,r)}function Ua(e,t,n,r,i,o,s){return e.ngPrivateData||(e.ngPrivateData=Ba(-1,e,t,n,r,i,o,s))}function Ba(e,t,n,r,i,o,s,a){const u=Yn+n,l=u+r,c=function(e,t){const n=new Array(t).fill(null,0,e).fill(fs,e);return n[Vn]=e,n}(u,l);return c[On]={id:e,blueprint:c,template:t,viewQuery:s,node:null,data:c.slice().fill(null,u),bindingStartIndex:u,viewQueryStartIndex:l,expandoStartIndex:l,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:a}}function ja(e,t){const n=e.createRenderer(null,null),r="string"==typeof t?_i(n)?n.selectRootElement(t):n.querySelector(t):t;return r}function qa(e,t,n,r,i){return{type:t,index:n,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:r,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:e,stylingTemplate:null,projection:null,onElementCreationFns:null}}function Ha(e,t){const n=Mr()[On];let r=null;const i=e.directiveStart,o=e.directiveEnd;if(o>i){const e=0===t,s=n.data;for(let t=i;t<o;t++){const n=s[t],i=e?n.inputs:n.outputs;for(let e in i)if(i.hasOwnProperty(e)){r=r||{};const n=i[e];r.hasOwnProperty(e)?r[e].push(t,e,n):r[e]=[t,e,n]}}}return r}const za={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};function Ga(e,t,n,r,i,o){if(n===fs)return;const s=Mr(),a=or(e,s),u=ar(e,s);let l,c;if(!i&&(l=fu(u))&&(c=l[t]))vu(s,c,n),cr(u)&&function(e,t){const n=lr(t,e);16&n[Rn]||(n[Rn]|=64)}(s,e+Yn);else if(3===u.type){(function(e,t,n,r,i){const o=t[Vn]-1,s=r[o];s[0]==An&&(r[o]=n+s,i||(-1==e.propertyMetadataStartIndex&&(e.propertyMetadataStartIndex=o),e.propertyMetadataEndIndex=o+1))})(u,s,t=za[t]||t,s[On].data,i);const e=o?o(u,s):s[Hn];n=null!=r?r(n,u.tagName||"",t):n,_i(e)?e.setProperty(a,t,n):Ni(t)||(a.setProperty?a.setProperty(t,n):a[t]=n)}else u.type}function Ka(e,t,n,r,i){const o=t.length;Or(e);const s=r.index-Yn;e.hostBindings(1,n,s),Or(null),o===t.length&&i&&t.push(e.hostBindings)}function Wa(e,t,n){const r=-(t.index-Yn),i=65535&t.providerIndexes,o=e.data.length-i;(e.expandoInstructions||(e.expandoInstructions=[])).push(r,o,n)}function Qa(e,t,n,r){const i=Wr();if($a(e,i,t),i&&i.attrs&&function(e,t,n,r){let i=r.initialInputs;(void 0===i||e>=i.length)&&(i=function(e,t,n){const r=n.initialInputs||(n.initialInputs=[]);r[e]=null;const i=n.attrs;let o=0;for(;o<i.length;){const n=i[o];if(0===n){o+=4;continue}if(5===n){o+=2;continue}if("number"==typeof n)break;const s=t[n],a=i[o+1];if(void 0!==s){const t=r[e]||(r[e]=[]);t.push(n,s,a)}o+=2}return r}(e,n.inputs,r));const o=i[e];if(o){const e=n.setInput;for(let r=0;r<o.length;){const i=o[r++],s=o[r++],a=o[r++];e?n.setInput(t,a,i,s):t[s]=a}}}(r,t,n,i),e[On].firstTemplatePass&&n.contentQueries&&(i.flags|=4),hr(n)){lr(i.index,e)[Bn]=t}}function $a(e,t,n){const r=sr(t,e);Ei(n,e),r&&Ei(r,e)}function Ya(e){const t=Mr()[On];(t.components||(t.components=[])).push(e.index)}function Ja(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;t.template&&(n[""]=e)}}function Xa(e,t,n){const r=e.flags;e.flags=1&r,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Za(e,t,n,r){e.data.push(n);const i=new _r(r,hr(n),null);e.blueprint.push(i),t.push(i)}function eu(e,t,n){const r=sr(t,e),i=Ua(n.template,n.consts,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas),o=e[qn],s=ru(e,ka(e,i,null,n.onPush?64:16,e[t.index],t,o,e[qn].createRenderer(r,n)));s[Ln]=t,e[t.index]=s,e[On].firstTemplatePass&&Ya(t)}function tu(e,t,n,r,i){const o=[e,!0,i?-1:0,t,null,null,r,n,[]];return o}function nu(e){const t=Mr(),n=lr(e,t);(128==(128&n[Rn])||Xr(t))&&80&n[Rn]&&(!function(e){const t=e[On];for(let n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),lu(n,n[Bn]))}function ru(e,t){return e[Gn]?e[Kn][Mn]=t:e[Gn]=t,e[Kn]=t,t}function iu(e){for(;e;){e[Rn]|=64;const t=Hi(e);if(dr(e)&&!t)return e;e=t}return null}function ou(e,t){const n=0===e.flags;if(e.flags|=t,n&&e.clean==Ta){let t;e.clean=new Promise(e=>t=e),e.scheduler(()=>{if(1&e.flags&&(e.flags&=-2,su(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=Ta,t(null)})}}function su(e){for(let t=0;t<e.components.length;t++){const n=e.components[t];Ra(pr(n),n)}}function au(e,t){const n=e[qn];n.begin&&n.begin();try{Xr(e)&&lu(e,t),lu(e,t)}catch(r){throw yu(e,r),r}finally{n.end&&n.end()}}function uu(e){su(e[Bn])}function lu(e,t){const n=e[On],r=ci(e,e[Ln]),i=n.template,o=Xr(e);try{mr(e),o&&cu(1,n,t),Pa(i,Ma(e),t),Da(e),o&&!n.staticViewQueries||cu(2,n,t)}finally{di(r)}}function cu(e,t,n){const r=t.viewQuery;r&&(li(t.viewQueryStartIndex),r(e,n))}function hu(e,t="",n=""){const r=e[On].data,i=e[Vn]-1,o=An+t+An+n;return null==r[i]?r[i]=o:null}const du=Ta;function fu(e){return e?(void 0===e.inputs&&(e.inputs=Ha(e,0)),e.inputs):null}function pu(e){return e[Un]||(e[Un]=[])}function gu(e){return e[On].cleanup||(e[On].cleanup=[])}function mu(e,t){return t[e.index][Hn]}function yu(e,t){const n=e[jn],r=n?n.get(go,null):null;r&&r.handleError(t)}function vu(e,t,n){const r=e[On];for(let i=0;i<t.length;){const o=t[i++],s=t[i++],a=t[i++],u=e[o],l=r.data[o];l.setInput?l.setInput(u,n,s,a):u[a]=n}}function bu(e){let t;if(t=e.onElementCreationFns){for(let e=0;e<t.length;e++)t[e]();e.onElementCreationFns=null}}function wu(e){const t=Mr(),n=t[On];n.firstTemplatePass&&(function(e,t,n){const r=e.expandoInstructions,i=r.length;i>=2&&r[i-2]===t.hostBindings?r[i-1]=r[i-1]+n:r.push(t.hostBindings,n)}(n,xr,e),function(e,t,n){for(let r=0;r<n;r++)t.push(fs),e.blueprint.push(fs),e.data.push(null)}(n,t,e))}function _u(e,t){const n=t[Pn];return-1===e.index?ir(n)?n:null:n}function Cu(e,t){const n=_u(e,t);return n?Lu(t[Hn],n[Zn]):null}const Eu=[];function Su(e,t,n,r,i){const o=e[On].node;let s=-1,a=e,u=o.child;for(;u;){let e=null;if(3===u.type||4===u.type){Tu(t,n,r,sr(u,a),u,i);const o=a[u.index];ir(o)&&(Tu(t,n,r,o[Zn],u,i),o[er].length&&(e=(a=o[er][0])[On].node,i=o[Zn]))}else if(0===u.type){const o=a[u.index];Tu(t,n,r,o[Zn],u,i),o[er].length&&(e=(a=o[er][0])[On].node,i=o[Zn])}else if(1===u.type){const o=zi(a),l=o[Ln].projection[u.projection];if(Array.isArray(l))for(let e of l)Tu(t,n,r,e,u,i);else Eu[++s]=u,Eu[++s]=a,l&&(e=(a=o[Pn])[On].data[l.index])}else e=u.child;if(null===e)for(null===u.projectionNext&&2&u.flags&&(a=Eu[s--],u=Eu[s--]),e=2&u.flags?u.projectionNext:4===u.type&&u.child||u.next;!e;){if(null===(u=u.parent||a[Ln])||u===o)return;if(0===u.type&&(i=(a=Hi(a))[u.index][Zn]),2===u.type){for(;!a[Mn]&&a[Pn]&&(!u.parent||!u.parent.next);){if(u===o)return;if(ir(a=a[Pn])){u=a[Ln],i=(a=a[Pn])[u.index][Zn];break}u=a[Ln]}e=a[Mn]?(a=a[Mn])[Ln]:4===u.type&&u.child||u.next}else e=u.next}u=e}}function Tu(e,t,n,r,i,o){0===e?Mu(t,n,r,o||null):1===e?Bu(t,r,cr(i)):2===e&&t.destroyNode(r)}function Du(e,t){return _i(t)?t.createText(Cn(e)):t.createTextNode(Cn(e))}function Iu(e,t,n){const r=Cu(e[On].node,e);if(r){Su(e,t?0:1,e[Hn],r,n)}}function Au(e,t,n){const r=t[er];n>0&&(r[n-1][Mn]=e),n<r.length?(e[Mn]=r[n],r.splice(n,0,e)):(r.push(e),e[Mn]=null),e[Pn]=t,e[Fn]&&e[Fn].insertView(n),e[Rn]|=128}function ku(e,t){const n=e[er],r=n[t];return r&&(t>0&&(n[t-1][Mn]=r[Mn]),n.splice(t,1),Iu(r,!1),128&r[Rn]&&!(256&r[Rn])&&r[Fn]&&r[Fn].removeView(),r[Pn]=null,r[Mn]=null,r[Rn]&=-129),r}function Nu(e,t){const n=e[er][t];n&&(ku(e,t),xu(n))}function xu(e){if(!(256&e[Rn])){const t=e[Hn];_i(t)&&t.destroyNode&&Su(e,2,t,null),function(e){let t=e[Gn];if(!t)return Ru(e);for(;t;){let n=null;if(rr(t))n=t[Gn];else{const e=t[er];e.length>0&&(n=e[0])}if(!n){for(;t&&!t[Mn]&&t!==e;)Ru(t),t=Ou(t,e);Ru(t||e),n=t&&t[Mn]}t=n}}(e)}}function Ou(e,t){let n;return rr(e)&&(n=e[Ln])&&2===n.type?_u(n,e):e[Pn]===t?null:e[Pn]}function Ru(e){if(rr(e)&&!(256&e[Rn])){e[Rn]&=-129,e[Rn]|=256,function(e){const t=e[On];let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof _r||n[r+1].call(t)}}(e),function(e){const t=e[On].cleanup;if(null!=t){const n=e[Un];for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const i=t[r+1],o="function"==typeof i?i(e):nr(e[i]),s=n[t[r+2]],a=t[r+3];"boolean"==typeof a?o.removeEventListener(t[r],s,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else{const e=n[t[r+1]];t[r].call(e)}e[Un]=null}}(e);const t=e[Ln];t&&3===t.type&&_i(e[Hn])&&e[Hn].destroy(),gr(e)&&e[Fn]&&e[Fn].removeView()}}function Pu(e,t){if(dr(t))return Lu(t[Hn],sr(e,t));const n=function(e){for(;null!=e.parent&&(4===e.parent.type||5===e.parent.type);)e=e.parent;return e}(e).parent;if(null==n){const e=t[Ln];return 2===e.type?Cu(e,t):function(e){const t=e[Ln];return t&&3===t.type?sr(t,Hi(e)):null}(t)}if(1&n.flags){const e=t[On].data,r=e[e[n.index].directiveStart].encapsulation;if(r!==Jt.ShadowDom&&r!==Jt.Native)return null}return sr(n,t)}function Mu(e,t,n,r){_i(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Fu(e,t,n,r){r?Mu(e,t,n,r):function(e,t,n){_i(e)?e.appendChild(t,n):t.appendChild(n)}(e,t,n)}function Lu(e,t){return _i(e)?e.parentNode(t):t.parentNode}function Vu(e,t,n){const r=Pu(t,n);if(null!=r){const i=n[Hn],o=function(e,t){if(2===e.type){const n=_u(e,t),r=n[er];return Uu(r.indexOf(t),r,n[Zn])}return 4===e.type||5===e.type?sr(e,t):null}(t.parent||n[Ln],n);if(Array.isArray(e))for(let t of e)Fu(i,r,t,o);else Fu(i,r,e,o)}}function Uu(e,t,n){if(e+1<t.length){const r=t[e+1],i=r[Ln];return i.child?sr(i.child,r):n}return n}function Bu(e,t,n){const r=Lu(e,t);r&&function(e,t,n,r){_i(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ju(e,t,n,r){const i=sr(e,r);Vu(i,t,n),Ei(i,r);const o=r[e.index];if(0===e.type){const e=o[er];for(let t=0;t<e.length;t++)Iu(e[t],!0,o[Zn])}else{if(4===e.type){let i=e.child;for(;i;)ju(i,t,n,r),i=i.next}ir(o)&&Vu(o[Zn],t,n)}}function qu(e){const t=Wu(e,null,null),n=Mr();n[On].firstTemplatePass&&(t.tViews=[]),Ku(n,t),Jr(!1)}function Hu(e,t,n,r,i,o,s,a){const u=Mr(),l=u[On],c=Wu(e,i||null,o||null);l.firstTemplatePass&&(c.tViews=Ba(-1,t,n,r,l.directiveRegistry,l.pipeRegistry,null,null)),Va(l,u,s,a),Ku(u,c),Ei(sr(c,u),u),Er(l,c),Jr(!1)}function zu(e){const t=Mr(),n=t[On];let r=ur(n.data,e);Qr(r),Jr(!0),t[e+Yn][Xn]=0,Sr(t,n,ni(),void 0)}function Gu(){let e=Wr();Yr()?Jr(!1):Qr(e=e.parent);const t=Mr()[e.index],n=t[Xn];for(;n<t[er].length;)Nu(t,n)}function Ku(e,t){const n=e[Fn];if(n){const r=e[t.index];r[Fn]?n.insertNodeBeforeViews(t):(n.addNode(t),r[Fn]=n.container())}}function Wu(e,t,n){const r=Mr(),i=e+Yn,o=r[Hn].createComment(""),s=Na(e,0,o,t,n),a=r[i]=tu(r[i],r,o,s);return Vu(o,s,r),ru(r,a),s}function Qu(e,t){const n=Mr(),r=n[On],i=e+Yn;i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=t}function $u(e){return ur(ei(),e)}function Yu(e){return ur(Mr(),e)}function Ju(e,t=be.Default){e=xe(e);const n=Mr();return null==n?Ve(e,t):to(Wr(),n,e,t)}function Xu(e){return function(e,t){const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Vi(i))break;if(0===i)r+=2;else if("number"==typeof i){if(r++,1===i&&"class"===t){let t="";for(;r<e&&"string"==typeof n[r];)t+=" "+n[r++];return t.trim()}if(2===i&&"style"===t){let t="";for(;r<e&&"string"==typeof n[r];)t+=`${n[r++]}: ${n[r++]}; `;return t.trim()}for(;r<e&&"string"==typeof n[r];)r++}else{if(i===t)return n[r+1];r+=2}}}return null}(Wr(),e)}function Zu(e,t,n){const r=Wr();r.stylingTemplate||(r.stylingTemplate=Ii()),tl(r,e,t,n,Ti)}function el(e,t,n){const r=Wr();r.stylingTemplate||(r.stylingTemplate=Ii());const i=fl();Ai(r.stylingTemplate,i),(r.onElementCreationFns=r.onElementCreationFns||[]).push(()=>{tl(r,e,t,n,i),function(e,t){let n=e[8];n||(n=e[8]=[Ti]),n[0]=t}(r.stylingTemplate,i)})}function tl(e,t,n,r,i){_s(e.stylingTemplate,i,t,n,r)}function nl(e,t,n,r,i){const o=il(n,r);Ds(pl(e,Mr()),t,o,Ti,i)}function rl(e,t,n,r){const i=fl(),o=pl(pi(),Mr());ps(o,i,Ds,[o,e,il(t,n),i,r])}function il(e,t){let n=null;return null!==e&&(n=t?Cn(e)+t:e),n}function ol(e,t,n,r){const i=n instanceof gs?n:al(n);Ts(pl(e,Mr()),t,i,Ti,r)}function sl(e,t,n){const r=fl(),i=pl(pi(),Mr());ps(i,r,Ts,[i,e,t instanceof gs?t:al(t),r,n])}function al(e){return"boolean"==typeof e?e:!!e||null}function ul(e,t,n){const r=Mr(),i=pl(e,r),o=ar(e,r);if(xi(o)&&t!==fs){const e=ca(i),n=(e.length?e+" ":"")+function(e){return e&&"string"!=typeof e&&(e=Object.keys(e).join(" ")),e||""}(t);vu(r,o.inputs.class,n),t=fs}if(Oi(o)&&n!==fs){const e=ca(i),t=(e.length?e+" ":"")+function(e){let t="";if(e){const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];t+=(r?";":"")+`${i}:${e[i]}`}}return t}(n);vu(r,o.inputs.style,t),n=fs}Es(i,t,n)}function ll(e,t){const n=fl(),r=pl(pi(),Mr());ps(r,n,Es,[r,e,t,n])}function cl(e){dl(Ti,e)}function hl(){dl(fl(),pi())}function dl(e,t){const n=Mr(),r=3===ar(t,n).type?n[Hn]:null,i=0!=(8&n[Rn]);if(As(pl(t,n),r,n,i,null,null,e)>0){ou(Gi(n),2)}kr(null)}function fl(){return Br+jr}function pl(e,t){let n=Ar;return n||kr(n=ki(e+Yn,t)),n}function gl(e,t,n,r){const i=Mr(),o=i[On],s=Aa(t),a=i[Hn],u=Na(e,3,s,t,n||null);let l=0,c=0;if(n){Fa(o,u,n,Fi(s,n)),u.stylingTemplate&&(l=ws(s,u.stylingTemplate,a),c=bs(s,u.stylingTemplate,a))}if(Vu(s,u,i),Va(o,i,r),0===Ir&&Ei(s,i),Ir++,o.firstTemplatePass){const e=fu(u);e&&e.hasOwnProperty("class")&&(u.flags|=8),e&&e.hasOwnProperty("style")&&(u.flags|=16)}u.stylingTemplate&&(bs(s,u.stylingTemplate,a,c),ws(s,u.stylingTemplate,a,l));const h=i[Fn];h&&(h.addNode(u),i[Fn]=h.clone()),La(o,u,i)}function ml(){let e=Wr();Yr()?Jr(!1):Qr(e=e.parent),e.onElementCreationFns&&bu(e);const t=Mr(),n=t[Fn];n&&(t[Fn]=n.parent),Er(Mr()[On],e),Ir--;let r=null;xi(e)&&(r=ki(e.index,t),vu(t,e.inputs.class,ca(r))),Oi(e)&&(r=r||ki(e.index,t),vu(t,e.inputs.style,function(e){const t=e[3];let n=t[1];if(null===n){n="";for(let e=2;e<t.length;e+=3){const r=t[e+1];null!==r&&(n+=(n.length?";":"")+`${t[e]}:${r}`)}t[1]=n}return n}(r)))}function yl(e,t,n,r){gl(e,t,n,r),ml()}function vl(e,t,n,r,i){if(n!==fs){const o=Mr(),s=o[Hn],a=or(e,o);if(null==n)_i(s)?s.removeAttribute(a,t,i):a.removeAttribute(t);else{const u=ar(e,o),l=null==r?Cn(n):r(n,u.tagName||"",t);_i(s)?s.setAttribute(a,t,l,i):i?a.setAttributeNS(i,t,l):a.setAttribute(t,l)}}}function bl(e){const t=pi(),n=Mr(),r=ar(t,n);if(3===r.type){const t=Li(e,Fi(sr(r,n),e));if(t>=0){const n=fl();r.stylingTemplate?ys(r.stylingTemplate,e,t,n):r.stylingTemplate=ms(e,t,n)}}}function wl(e,t,n){const r=Mr(),i=r[On],o=r[Hn].createComment(""),s=Na(e,4,o,"ng-container",t||null);t&&Fa(i,s,t,0),Vu(o,s,r),Va(i,r,n),Ei(o,r);const a=r[Fn];a&&(a.addNode(s),r[Fn]=a.clone()),La(i,s,r)}function _l(){let e=Wr();const t=Mr(),n=t[On];Yr()?Jr(!1):Qr(e=e.parent);const r=t[Fn];r&&(t[Fn]=r.parent),e.onElementCreationFns&&bu(e),Er(n,e)}function Cl(e,t,n){const r=Mr(),i=Wr(),o=2===i.type?i.parent:i,s=r[o.index];let a=function(e,t,n){const r=e[er];for(let i=t;i<r.length;i++){const t=r[i][On].id;if(t===n)return r[i];if(!(t<n))break;Nu(e,i)}return null}(s,s[Xn],e);if(a)Jr(!0),ci(a,a[On].node);else{a=ka(r,function(e,t,n,r){const i=Mr()[On];const o=r.tViews;(e>=o.length||null==o[e])&&(o[e]=Ba(e,null,t,n,i.directiveRegistry,i.pipeRegistry,null,null));return o[e]}(e,t,n,o),null,16,null,null),s[Fn]&&(a[Fn]=s[Fn].createView());const u=Yr()?i:i&&i.parent;xa(a[On],u,e,a),ci(a,a[On].node)}return s&&(Xr(a)&&Au(a,s,s[Xn]),s[Xn]++),Xr(a)?3:2}function El(){const e=Mr(),t=e[Ln];Xr(e)&&(Da(e),e[Rn]&=-5),mr(e),Da(e);const n=e[Pn];di(n[Pn]),Qr(t),Jr(!1)}function Sl(){return Mr()}function Tl(e){return!!e&&"function"==typeof e.then}function Dl(e){return!!e&&"function"==typeof e.subscribe}function Il(e,t,n=!1,r){kl(e,t,n,r)}function Al(e,t,n=!1,r){kl(e,t,n,r,mu)}function kl(e,t,n=!1,r,i){const o=Mr(),s=Wr(),a=o[On],u=a.firstTemplatePass&&(a.cleanup||(a.cleanup=[]));let l=!0;if(3===s.type){const a=sr(s,o),c=r?r(a):{},h=c.target||a,d=i?i(s,o):o[Hn],f=pu(o),p=f.length,g=r?e=>r(nr(e[s.index])).target:s.index;if(_i(d)){let n=null;if(!r&&function(e){return e.directiveEnd>e.directiveStart}(s)&&(n=function(e,t,n){const r=e[On].cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const o=r[i];if(o===t&&r[i+1]===n){const t=e[Un],n=r[i+2];return t.length>n?t[n]:null}"string"==typeof o&&(i+=2)}return null}(o,e,s.index)),null!==n)t.__ngNextListenerFn__=n.__ngNextListenerFn__,n.__ngNextListenerFn__=t,l=!1;else{t=xl(s,o,t,!1);const n=d.listen(c.name||h,e,t);f.push(t,n),u&&u.push(e,g,p,p+1)}}else t=xl(s,o,t,!0),h.addEventListener(e,t,n),f.push(t),u&&u.push(e,g,p,n)}void 0===s.outputs&&(s.outputs=Ha(s,1));const c=s.outputs;let h;if(l&&c&&(h=c[e])){const n=h.length;if(n){const r=pu(o);for(let i=0;i<n;i+=3){const n=h[i],a=h[i+2],l=o[n],c=l[a];0;const d=c.subscribe(t),f=r.length;r.push(t,d),u&&u.push(e,s.index,f,-(f+1))}}}}function Nl(e,t,n){try{return!1!==t(n)}catch(r){return yu(e,r),!1}}function xl(e,t,n,r){return function i(o){const s=1&e.flags?lr(e.index,t):t;0==(32&t[Rn])&&iu(s);let a=Nl(t,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Nl(t,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ol(e=1){return hi(e)}function Rl(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?Ea(e,o,!0):Sa(r,o))return i}else n=i}return n}function Pl(e){const t=zi(Mr())[Ln];if(!t.projection){const n=e?e.length:1,r=t.projection=new Array(n).fill(null),i=r.slice();let o=t.child;for(;null!==o;){const t=e?Rl(o,e):0;null!==t&&(i[t]?i[t].projectionNext=o:r[t]=o,i[t]=o),o=o.next}}}function Ml(e,t=0,n){const r=Mr(),i=Na(e,1,null,null,n||null);null===i.projection&&(i.projection=t),Jr(!1),function e(t,n,r,i){const o=i[Pn];let s=i[Ln].projection[r];if(Array.isArray(s))Vu(s,n,t);else for(;s;)1===s.type?e(t,n,s.projection,zi(o)):(s.flags|=2,ju(s,n,t,o)),s=s.projectionNext}(r,i,t,zi(r))}let Fl=null;function Ll(){if(!Fl){const e=Oe.Symbol;if(e&&e.iterator)Fl=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Fl=n)}}}return Fl}function Vl(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ul(e,t){const n=jl(e),r=jl(t);if(n&&r)return function(e,t,n){const r=e[Ll()](),i=t[Ll()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Ul);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||Vl(e,t)}}class Bl{constructor(e){this.wrapped=e}static wrap(e){return new Bl(e)}static unwrap(e){return Bl.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Bl}}function jl(e){return!!ql(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ll()in e)}function ql(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Hl(e,t,n){return e[t]=n}function zl(e,t){return e[t]}function Gl(e,t,n){const r=e[t];return o=n,((i=r)==i||o==o)&&i!==o&&(e[t]=n,!0);var i,o}function Kl(e,t,n,r){const i=Gl(e,t,n);return Gl(e,t+1,r)||i}function Wl(e,t,n,r,i){const o=Kl(e,t,n,r);return Gl(e,t+2,i)||o}function Ql(e,t,n,r,i,o){const s=Kl(e,t,n,r);return Kl(e,t+2,i,o)||s}function $l(e,t,n,r){const i=pi();return Ga(i,e,Yl(t),n,r),$l}function Yl(e){const t=Mr(),n=t[Vn]++;return hu(t),Gl(t,n,e)?e:fs}function Jl(e,t,n,r,i){Ga(e,t,n,r,i)}function Xl(e,t,n,r,i){Ga(e,t,n,r,i,mu)}function Zl(e){let t=!1;const n=Mr(),r=n[On].data;let i=n[Vn];if(null==r[i]){for(let t=2;t<e.length;t+=2)r[i++]=e[t];i=n[Vn]}for(let s=1;s<e.length;s+=2)Gl(n,i++,e[s])&&(t=!0);if(n[Vn]=i,hu(n,e[0],e[e.length-1]),!t)return fs;let o=e[0];for(let s=1;s<e.length;s+=2)o+=Cn(e[s])+e[s+1];return o}function ec(e,t,n){const r=Mr(),i=Gl(r,r[Vn]++,t);return hu(r,e,n),i?e+Cn(t)+n:fs}function tc(e,t,n,r,i){const o=Mr(),s=o[Vn],a=Kl(o,s,t,r);return o[Vn]+=2,hu(o,e,i)&&(o[On].data[s]=n),a?e+Cn(t)+n+Cn(r)+i:fs}function nc(e,t,n,r,i,o,s){const a=Mr(),u=a[Vn],l=Wl(a,u,t,r,o);if(a[Vn]+=3,hu(a,e,s)){const e=a[On].data;e[u]=n,e[u+1]=i}return l?e+Cn(t)+n+Cn(r)+i+Cn(o)+s:fs}function rc(e,t,n,r,i,o,s,a,u){const l=Mr(),c=l[Vn],h=Ql(l,c,t,r,o,a);if(l[Vn]+=4,hu(l,e,u)){const e=l[On].data;e[c]=n,e[c+1]=i,e[c+2]=s}return h?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u:fs}function ic(e,t,n,r,i,o,s,a,u,l,c){const h=Mr(),d=h[Vn];let f=Ql(h,d,t,r,o,a);if(f=Gl(h,d+4,l)||f,h[Vn]+=5,hu(h,e,c)){const e=h[On].data;e[d]=n,e[d+1]=i,e[d+2]=s,e[d+3]=u}return f?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u+Cn(l)+c:fs}function oc(e,t,n,r,i,o,s,a,u,l,c,h,d){const f=Mr(),p=f[Vn];let g=Ql(f,p,t,r,o,a);if(g=Kl(f,p+4,l,h)||g,f[Vn]+=6,hu(f,e,d)){const e=f[On].data;e[p]=n,e[p+1]=i,e[p+2]=s,e[p+3]=u,e[p+4]=c}return g?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u+Cn(l)+c+Cn(h)+d:fs}function sc(e,t,n,r,i,o,s,a,u,l,c,h,d,f,p){const g=Mr(),m=g[Vn];let y=Ql(g,m,t,r,o,a);if(y=Wl(g,m+4,l,h,f)||y,g[Vn]+=7,hu(g,e,p)){const e=g[On].data;e[m]=n,e[m+1]=i,e[m+2]=s,e[m+3]=u,e[m+4]=c,e[m+5]=d}return y?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u+Cn(l)+c+Cn(h)+d+Cn(f)+p:fs}function ac(e,t,n,r,i,o,s,a,u,l,c,h,d,f,p,g,m){const y=Mr(),v=y[Vn];let b=Ql(y,v,t,r,o,a);if(b=Ql(y,v+4,l,h,f,g)||b,y[Vn]+=8,hu(y,e,m)){const e=y[On].data;e[v]=n,e[v+1]=i,e[v+2]=s,e[v+3]=u,e[v+4]=c,e[v+5]=d,e[v+6]=p}return b?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u+Cn(l)+c+Cn(h)+d+Cn(f)+p+Cn(g)+m:fs}function uc(e,t,n){return lc(e,"",t,"",n),uc}function lc(e,t,n,r,i){return Ga(pi(),e,ec(t,n,r),i),lc}function cc(e,t,n,r,i,o,s){return Ga(pi(),e,tc(t,n,r,i,o),s),cc}function hc(e,t,n,r,i,o,s,a,u){return Ga(pi(),e,nc(t,n,r,i,o,s,a),u),hc}function dc(e,t,n,r,i,o,s,a,u,l,c){return Ga(pi(),e,rc(t,n,r,i,o,s,a,u,l),c),dc}function fc(e,t,n,r,i,o,s,a,u,l,c,h,d){return Ga(pi(),e,ic(t,n,r,i,o,s,a,u,l,c,h),d),fc}function pc(e,t,n,r,i,o,s,a,u,l,c,h,d,f,p){return Ga(pi(),e,oc(t,n,r,i,o,s,a,u,l,c,h,d,f),p),pc}function gc(e,t,n,r,i,o,s,a,u,l,c,h,d,f,p,g,m){return Ga(pi(),e,sc(t,n,r,i,o,s,a,u,l,c,h,d,f,p,g),m),gc}function mc(e,t,n,r,i,o,s,a,u,l,c,h,d,f,p,g,m,y,v){return Ga(pi(),e,ac(t,n,r,i,o,s,a,u,l,c,h,d,f,p,g,m,y),v),mc}function yc(e,t,n){return Ga(pi(),e,Zl(t),n),yc}function vc(e){const t=Mr();Sr(t,t[On],ni(),e),gi(e)}function bc(e,t){const n=Mr(),r=Du(t,n[Hn]),i=Na(e,3,r,null,null);Jr(!1),Vu(r,i,n)}function wc(e,t){if(t!==fs){const n=Mr(),r=or(e,n),i=n[Hn];_i(i)?i.setValue(r,Cn(t)):r.textContent=Cn(t)}}function _c(e,t,n,r,i,o){Vr=!1,Lr=null,Ir=0,Nr=!0;const s=n[On],a=Na(0,3,e,null,null),u=ka(n,Ua(t.template,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas),null,t.onPush?64:16,n[Yn],a,r,i,o);return s.firstTemplatePass&&(eo(Yi(a,n),n,t.type),a.flags=1,Xa(a,n.length,1),Ya(a)),n[Yn]=u}function Cc(e,t,n,r,i){const o=n[On],s=function(e,t,n){const r=Wr();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),Wa(e,r,1),Za(e,t,n,n.factory));const i=oo(e.data,t,t.length-1,r);return $a(t,r,i),i}(o,n,t);r.components.push(s),e[Bn]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries&&t.contentQueries(1,s,n.length-1);const a=Wr();if(o.firstTemplatePass&&t.hostBindings){Hr(a.index-Yn);const e=o.expandoInstructions;Ka(t,e,s,a,o.firstTemplatePass),a.onElementCreationFns&&bu(a),Hr(null)}if(a.stylingTemplate){const t=e[xn];bs(t,a.stylingTemplate,e[Hn]),ws(t,a.stylingTemplate,e[Hn])}return s}function Ec(e,t){return{components:[],scheduler:e||Sn,clean:du,playerHandler:t||null,flags:0}}function Sc(e,t){const n=pr(e)[On],r=n.data.length-1;Cr(r,t,n,-1,-1,-1),Er(n,{directiveStart:r,directiveEnd:r+1})}class Tc{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Dc(){return Ic.ngInherit=!0,Ic}function Ic(e){e.type.prototype.ngOnChanges&&(e.setInput=Ac,e.onChanges=function(){const e=Nc(this),t=e&&e.current;if(t){const n=e.previous;if(n===Zt)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}})}function Ac(e,t,n,r){const i=Nc(e)||function(e,t){return e[kc]=t}(e,{previous:Zt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Tc(u&&u.currentValue,t,s===Zt),e[r]=t}const kc="__ngSimpleChanges__";function Nc(e){return e[kc]||null}function xc(e){let t=(n=e.type,Object.getPrototypeOf(n.prototype).constructor);for(var n;t;){let n=void 0;if(hr(e))n=t.ngComponentDef||t.ngDirectiveDef;else{if(t.ngComponentDef)throw new Error("Directives cannot inherit Components");n=t.ngDirectiveDef}const r=t.ngBaseDef;if(r||n){const t=e;t.inputs=Oc(e.inputs),t.declaredInputs=Oc(e.declaredInputs),t.outputs=Oc(e.outputs)}if(r){const t=r.viewQuery,n=r.contentQueries;t&&Rc(e,t),n&&Pc(e,n),_e(e.inputs,r.inputs),_e(e.declaredInputs,r.declaredInputs),_e(e.outputs,r.outputs)}if(n){const t=e.hostBindings,r=n.hostBindings;r&&(e.hostBindings=t?(e,n,i)=>{Gr(1);try{r(e,n,i)}finally{Gr(-1)}t(e,n,i)}:r);const i=n.viewQuery,o=n.contentQueries;i&&Rc(e,i),o&&Pc(e,o),_e(e.inputs,n.inputs),_e(e.declaredInputs,n.declaredInputs),_e(e.outputs,n.outputs),e.afterContentChecked=e.afterContentChecked||n.afterContentChecked,e.afterContentInit=e.afterContentInit||n.afterContentInit,e.afterViewChecked=e.afterViewChecked||n.afterViewChecked,e.afterViewInit=e.afterViewInit||n.afterViewInit,e.doCheck=e.doCheck||n.doCheck,e.onDestroy=e.onDestroy||n.onDestroy,e.onInit=e.onInit||n.onInit;const s=n.features;if(s)for(const n of s)n&&n.ngInherit&&n(e)}else{const n=t.prototype;n&&(e.afterContentChecked=e.afterContentChecked||n.ngAfterContentChecked,e.afterContentInit=e.afterContentInit||n.ngAfterContentInit,e.afterViewChecked=e.afterViewChecked||n.ngAfterViewChecked,e.afterViewInit=e.afterViewInit||n.ngAfterViewInit,e.doCheck=e.doCheck||n.ngDoCheck,e.onDestroy=e.onDestroy||n.ngOnDestroy,e.onInit=e.onInit||n.ngOnInit,n.ngOnChanges&&Dc()(e))}t=Object.getPrototypeOf(t)}}function Oc(e){return e===Zt?{}:e===en?[]:e}function Rc(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Pc(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}const Mc=new tt("The presence of this token marks an injector as being the root injector.");function Fc(e){const t=Se(e);if(null===t){const t=Te(e);if(null!==t)return t.factory;if(e instanceof tt)throw new Error(`Token ${Ae(e)} is missing an ngInjectableDef definition.`);if(e instanceof Function){const t=e.length;if(t>0){const n=new Array(t).fill("?");throw new Error(`Can't resolve all parameters for ${Ae(e)}: (${n.join(", ")}).`)}return()=>new e}throw new Error("unreachable")}return t.factory}function Lc(e,t,n){let r=void 0;if(Uc(e))return Fc(xe(e));if(Vc(e))r=(()=>xe(e.useValue));else if((i=e)&&i.useExisting)r=(()=>Ve(xe(e.useExisting)));else if(function(e){return!(!e||!e.useFactory)}(e))r=(()=>e.useFactory(...Be(e.deps||[])));else{const i=xe(e&&(e.useClass||e.provide));if(!i){let r="";if(t&&n){r=` - only instances of Provider and Type are allowed, got: [${n.map(t=>t==e?"?"+e+"?":"...").join(", ")}]`}throw new Error(`Invalid provider for the NgModule '${Ae(t)}'`+r)}if(!function(e){return!!e.deps}(e))return Fc(i);r=(()=>new i(...Be(e.deps)))}var i;return r}function Vc(e){return null!==e&&"object"==typeof e&&dt in e}function Uc(e){return"function"==typeof e}function Bc(e,t,n,r,i){if(e=xe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Bc(e[o],t,n,r,i);else{const o=Mr();let s=Uc(e)?e:xe(e.provide),a=Lc(e);const u=Wr(),l=65535&u.providerIndexes,c=u.directiveStart,h=u.providerIndexes>>16;if(e.useClass||Uc(e)){const n=(e.useClass||e).prototype.ngOnDestroy;if(n){const e=o[On];(e.destroyHooks||(e.destroyHooks=[])).push(t.length,n)}}if(Uc(e)||!e.multi){const e=new _r(a,i,Ju),r=qc(s,t,i?l:l+h,c);-1==r?(eo(Yi(u,o),o,s),t.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(e),o.push(e)):(n[r]=e,o[r]=e)}else{const e=qc(s,t,l+h,c),d=qc(s,t,l,l+h),f=e>=0&&n[e],p=d>=0&&n[d];if(i&&!p||!i&&!f){eo(Yi(u,o),o,s);const e=function(e,t,n,r,i){const o=new _r(e,n,Ju);return o.multi=[],o.index=t,o.componentProviders=0,jc(o,i,r&&!n),o}(i?zc:Hc,n.length,i,r,a);!i&&p&&(n[d].providerFactory=e),t.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(e),o.push(e)}else jc(n[i?d:e],a,!i&&r);!i&&r&&p&&n[d].componentProviders++}}}function jc(e,t,n){e.multi.push(t),n&&e.componentProviders++}function qc(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Hc(e,t,n,r){return Gc(this.multi,[])}function zc(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,s=oo(t,n,this.providerFactory.index,r);Gc(i,o=s.slice(0,e));for(let t=e;t<s.length;t++)o.push(s[t])}else Gc(i,o=[]);return o}function Gc(e,t){for(let n=0;n<e.length;n++){const r=e[n];t.push(r())}return t}function Kc(e,t=[]){return n=>{n.providersResolver=((n,r)=>(function(e,t,n){const r=Mr()[On];if(r.firstTemplatePass){const i=hr(e);Bc(n,r.data,r.blueprint,i,!0),Bc(t,r.data,r.blueprint,i,!1)}})(n,r?r(e):e,t))}}class Wc{}class Qc{}function $c(e){const t=Error(`No component factory found for ${Ae(e)}. Did you add it to @NgModule.entryComponents?`);return t[Yc]=e,t}const Yc="ngComponent";class Jc{}Jc.NULL=new class{resolveComponentFactory(e){throw $c(e)}};class Xc{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw $c(e);return new Zc(t,this._ngModule)}}class Zc extends Qc{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}class eh{}class th{}class nh{constructor(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}get rootNodes(){if(null==this._lView[xn]){const e=this._lView[Ln];return function e(t,n,r){let i=n.child;for(;i;){const n=sr(i,t);if(n&&r.push(n),4===i.type)e(t,i,r);else if(1===i.type){const e=zi(t),n=e[Ln],o=Hi(e);let s=n.projection[i.projection];for(;s&&o;)r.push(sr(s,o)),s=s.next}i=i.next}return r}(this._lView,e,[])}return[]}get context(){return this._context?this._context:this._lookUpContext()}get destroyed(){return 256==(256&this._lView[Rn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}xu(this._lView)}onDestroy(e){var t,n;t=this._lView,n=e,pu(t).push(n),t[On].firstTemplatePass&&gu(t).push(t[Un].length-1,null)}markForCheck(){iu(this._lView)}detach(){this._lView[Rn]&=-129}reattach(){this._lView[Rn]|=128}detectChanges(){au(this._lView,this.context)}checkNoChanges(){!function(e,t){ri(!0);try{au(e,t)}finally{ri(!1)}}(this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Su(e=this._lView,1,e[Hn],null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}_lookUpContext(){return this._context=Hi(this._lView)[this._componentIndex]}}class rh extends nh{constructor(e){super(e,null,-1),this._view=e}detectChanges(){uu(this._view)}checkNoChanges(){!function(e){ri(!0);try{uu(e)}finally{ri(!1)}}(this._view)}get context(){return null}}let ih,oh;function sh(e,t,n){return ih||(ih=class extends e{}),new ih(sr(t,n))}function ah(e,t,n,r){if(oh||(oh=class extends e{constructor(e,t,n,r,i){super(),this._declarationParentView=e,this.elementRef=t,this._tView=n,this._hostLContainer=r,this._injectorIndex=i}createEmbeddedView(e,t,n){const r=this._declarationParentView[Fn];r&&null==this._hostLContainer[Fn]&&(this._hostLContainer[Fn]=r.container());const i=function(e,t,n,r,i){const o=Yr(),s=Wr();Jr(!0),Qr(null);const a=ka(n,e,t,16,null,null);return a[Qn]=n,r&&(a[Fn]=r.createView()),xa(e,null,-1,a),e.firstTemplatePass&&(e.node.injectorIndex=i),Jr(o),Qr(s),a}(this._tView,e,this._declarationParentView,this._hostLContainer[Fn],this._injectorIndex);t&&Au(i,t,n),Oa(i,this._tView,e);const o=new nh(i,e,-1);return o._tViewNode=i[Ln],o}}),0===n.type){const e=r[n.index];return new oh(r,sh(t,n,r),n.tViews,e,n.injectorIndex)}return null}function uh(...e){}class lh{constructor(e){this.nativeElement=e}}lh.__NG_ELEMENT_ID__=(()=>ch(lh));const ch=uh;new tt("Renderer2Interceptor");class hh{}const dh={Important:1,DashCase:2};dh[dh.Important]="Important",dh[dh.DashCase]="DashCase";class fh{}fh.__NG_ELEMENT_ID__=(()=>ph());const ph=uh;class gh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const mh=new gh("8.0.3");class yh{constructor(){}supports(e){return jl(e)}create(e){return new bh(e)}}const vh=(e,t)=>t;class bh{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vh}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<Eh(n,r,i)?t:n,s=Eh(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!jl(e))throw new Error(`Error trying to diff '${Ae(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Vl(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Vl(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ll()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Vl(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Vl(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Vl(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Vl(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new wh(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ch),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ch),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class wh{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _h{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Vl(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ch{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new _h,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Eh(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Sh{constructor(){}supports(e){return e instanceof Map||ql(e)}create(){return new Th}}class Th{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ql(e)))throw new Error(`Error trying to diff '${Ae(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Dh(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Vl(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Dh{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class Ih{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new Ih(e)}static extend(e){return{provide:Ih,useFactory:t=>{if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return Ih.create(e,t)},deps:[[Ih,new me,new pe]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}Ih.ngInjectableDef=Ce({providedIn:"root",factory:()=>new Ih([new yh])});class Ah{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new Ah(e)}static extend(e){return{provide:Ah,useFactory:t=>{if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return Ah.create(e,t)},deps:[[Ah,new me,new pe]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}Ah.ngInjectableDef=Ce({providedIn:"root",factory:()=>new Ah([new Sh])});class kh{}kh.__NG_ELEMENT_ID__=(()=>Nh());const Nh=(...e)=>{},xh=[new Sh],Oh=[new yh],Rh=new Ih(Oh),Ph=new Ah(xh);class Mh{}Mh.__NG_ELEMENT_ID__=(()=>Fh(Mh,lh));const Fh=uh;class Lh{}Lh.__NG_ELEMENT_ID__=(()=>Vh(Lh,lh));const Vh=uh;function Uh(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Bh(n,t),n}(i,e)}function Bh(e,t){e[Et]=t,e[Tt]=t.logError.bind(t)}function jh(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function qh(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Hh(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function zh(e,t){return e.nodes[t]}function Gh(e,t){return e.nodes[t]}function Kh(e,t){return e.nodes[t]}function Wh(e,t){return e.nodes[t]}function Qh(e,t){return e.nodes[t]}const $h={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Yh=()=>{},Jh=new Map;function Xh(e){let t=Jh.get(e);return t||(t=Ae(e)+"_"+Jh.size,Jh.set(e,t)),t}const Zh="$$undefined",ed="$$empty";function td(e){return{id:Zh,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let nd=0;function rd(e,t,n,r){const i=e.oldValues;return!(!(2&e.state)&&Vl(i[t.bindingIndex+n],r))}function id(e,t,n,r){return!!rd(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function od(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Ul(i,r)){const o=t.bindings[n].name;throw Uh($h.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function sd(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function ad(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function ud(e,t,n,r){try{return sd(33554432&e.def.nodes[t].flags?Gh(e,t).componentView:e),$h.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function ld(e){if(e.parent){return Gh(e.parent,e.parentNodeDef.nodeIndex)}return null}function cd(e){return e.parent?e.parentNodeDef.parent:null}function hd(e,t){switch(201347067&t.flags){case 1:return Gh(e,t.nodeIndex).renderElement;case 2:return zh(e,t.nodeIndex).renderText}}function dd(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function fd(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function pd(e){return 1<<e%32}function gd(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=pd(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function md(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,nt,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:Xh(n)}})}function yd(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Jt.Native?Gh(e,n.renderParent.nodeIndex).renderElement:void 0:t}const vd=new WeakMap;function bd(e){let t=vd.get(e);return t||((t=e(()=>Yh)).factory=e,vd.set(e,t)),t}function wd(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(hd(e,e.def.lastRenderRootNode))),_d(e,t,0,e.def.nodes.length-1,n,r,i)}function _d(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Ed(e,n,t,i,o,s),a+=n.childCount}}function Cd(e,t,n,r,i,o){let s=e;for(;s&&!dd(s);)s=s.parent;const a=s.parent,u=cd(s),l=u.nodeIndex+1,c=u.nodeIndex+u.childCount;for(let h=l;h<=c;h++){const e=a.def.nodes[h];e.ngContentIndex===t&&Ed(a,e,n,r,i,o),h+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)Sd(e,s[t],n,r,i,o)}}function Ed(e,t,n,r,i,o){if(8&t.flags)Cd(e,t.ngContent.index,n,r,i,o);else{const s=hd(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags){if(16&t.bindingFlags&&Sd(e,s,n,r,i,o),32&t.bindingFlags){Sd(Gh(e,t.nodeIndex).componentView,s,n,r,i,o)}}else Sd(e,s,n,r,i,o);if(16777216&t.flags){const s=Gh(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)wd(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&_d(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Sd(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const Td=/^:([^:]+):(.+)$/;function Dd(e){if(":"===e[0]){const t=e.match(Td);return[t[1],t[2]]}return["",e]}function Id(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}const Ad=new Object,kd=Xh(at),Nd=Xh(ot),xd=Xh(eh);function Od(e,t,n,r){return n=xe(n),{index:-1,deps:md(r,Ae(t)),flags:e,token:t,value:n}}function Rd(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const o=e[i];o.token===Mc&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[Xh(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function Pd(e,t,n=at.THROW_IF_NOT_FOUND){const r=Fe(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case kd:case Nd:case xd:return e}const a=e._def.providersByKey[s];let u;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=Md(e,a)),t===Ad?void 0:t}if((u=Se(t.token))&&(i=e,null!=(o=u).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:t.token},e._providers[n]=Ad,e._providers[n]=Md(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Fe(r)}var i,o}function Md(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Pd(e,n[0]));case 2:return new t(Pd(e,n[0]),Pd(e,n[1]));case 3:return new t(Pd(e,n[0]),Pd(e,n[1]),Pd(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=Pd(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Pd(e,n[0]));case 2:return t(Pd(e,n[0]),Pd(e,n[1]));case 3:return t(Pd(e,n[0]),Pd(e,n[1]),Pd(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=Pd(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Pd(e,t.deps[0]);break;case 256:n=t.value}return n===Ad||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ad:n}function Fd(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Bd(i,n,r),function(e,t){const n=ld(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),$h.dirtyParentQueries(r),Vd(t,n>0?i[n-1]:null,r)}function Ld(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,jd(n,t),$h.dirtyParentQueries(r),Ud(r),r}function Vd(e,t,n){const r=t?hd(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);wd(n,2,i,o,void 0)}function Ud(e){wd(e,3,null,null,void 0)}function Bd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function jd(e,t){t>=e.length-1?e.pop():e.splice(t,1)}const qd=new Object;function Hd(e,t,n,r,i,o){return new zd(e,t,n,r,i,o)}class zd extends Qc{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t){const r=t[n];e.push({propName:n,templateName:r})}return e}get outputs(){const e=[];for(let t in this._outputs){const n=this._outputs[t];e.push({propName:t,templateName:n})}return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=bd(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=$h.createRootView(e,t||[],n,i,r,qd),a=Kh(s,o).instance;return n&&s.renderer.setAttribute(Gh(s,0).renderElement,"ng-version",mh.full),new Gd(s,new $d(s),a)}}class Gd extends Wc{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new lh(Gh(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Zd(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Kd(e,t,n){return new Wd(e,t,n)}class Wd{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new lh(this._data.renderElement)}get injector(){return new Zd(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=cd(e),e=e.parent;return e?new Zd(e,t):new Zd(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Ld(this._data,e);$h.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new $d(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof Zc||(i=o.get(eh));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e,r=n._view;return Fd(this._view,this._data,t,r),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];jd(r,t),null==n&&(n=r.length),Bd(r,n,i),$h.dirtyParentQueries(i),Ud(i),Vd(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Ld(this._data,e);t&&$h.destroyView(t)}detach(e){const t=Ld(this._data,e);return t?new $d(t):null}}function Qd(e){return new $d(e)}class $d{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return wd(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){sd(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{$h.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){$h.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),$h.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Ud(this._view),$h.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Yd(e,t){return new Jd(e,t)}class Jd extends Mh{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new $d($h.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new lh(Gh(this._parentView,this._def.nodeIndex).renderElement)}}function Xd(e,t){return new Zd(e,t)}class Zd{constructor(e,t){this.view=e,this.elDef=t}get(e,t=at.THROW_IF_NOT_FOUND){const n=!!this.elDef&&0!=(33554432&this.elDef.flags);return $h.resolveDep(this.view,this.elDef,n,{flags:0,token:e,tokenKey:Xh(e)},t)}}function ef(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Gh(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return zh(e,n.nodeIndex).renderText;if(20240&n.flags)return Kh(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function tf(e){return new nf(e.renderer)}class nf{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=Dd(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=Dd(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function rf(e,t,n,r){return new of(e,t,n,r)}class of{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Md(e,i))}}(this)}get(e,t=at.THROW_IF_NOT_FOUND,n=be.Default){let r=0;return n&be.SkipSelf?r|=1:n&be.Self&&(r|=4),Pd(this,{token:e,tokenKey:Xh(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Jc)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Ae(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Ad){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const sf=Xh(class{}),af=Xh(fh),uf=Xh(lh),lf=Xh(Lh),cf=Xh(Mh),hf=Xh(kh),df=Xh(at),ff=Xh(ot);function pf(e,t,n,r,i,o,s,a){const u=[];if(s)for(let c in s){const[e,t]=s[c];u[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const l=[];if(a)for(let c in a)l.push({type:1,propName:c,target:null,eventName:a[c]});return mf(e,t|=16384,n,r,i,i,o,u,l)}function gf(e,t,n,r,i){return mf(-1,e,t,0,n,r,i)}function mf(e,t,n,r,i,o,s,a,u){const{matchedQueries:l,references:c,matchedQueryIds:h}=gd(n);u||(u=[]),a||(a=[]),o=xe(o);const d=md(s,Ae(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Id(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function yf(e,t){return _f(e,t)}function vf(e,t){let n=e;for(;n.parent&&!dd(n);)n=n.parent;return Cf(n.parent,cd(n),!0,t.provider.value,t.provider.deps)}function bf(e,t){const n=(32768&t.flags)>0,r=Cf(e,t.parent,n,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const n=t.outputs[i],o=r[n.propName];if(!Dl(o))throw new Error(`@Output ${n.propName} not initialized in '${r.constructor.name}'.`);{const r=o.subscribe(wf(e,t.parent.nodeIndex,n.eventName));e.disposables[t.outputIndex+i]=r.unsubscribe.bind(r)}}return r}function wf(e,t,n){return r=>ud(e,t,n,r)}function _f(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Cf(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Sf(e,t,n,i[0]));case 2:return r(Sf(e,t,n,i[0]),Sf(e,t,n,i[1]));case 3:return r(Sf(e,t,n,i[0]),Sf(e,t,n,i[1]),Sf(e,t,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=Sf(e,t,n,i[r]);return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return Sf(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Cf(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Sf(e,t,n,i[0]));case 2:return new r(Sf(e,t,n,i[0]),Sf(e,t,n,i[1]));case 3:return new r(Sf(e,t,n,i[0]),Sf(e,t,n,i[1]),Sf(e,t,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=Sf(e,t,n,i[r]);return new r(...s)}}const Ef={};function Sf(e,t,n,r,i=at.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===hf&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case sf:return tf(Tf(a,t,n));case af:return Tf(a,t,n).renderer;case uf:return new lh(Gh(a,t.nodeIndex).renderElement);case lf:return Gh(a,t.nodeIndex).viewContainer;case cf:if(t.element.template)return Gh(a,t.nodeIndex).template;break;case hf:return Qd(Tf(a,t,n));case df:case ff:return Xd(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=Kh(a,e.nodeIndex);return t||(t={instance:_f(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=dd(a),t=cd(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,Ef);return u!==Ef||i===Ef?u:o.root.ngModule.injector.get(r.token,i)}function Tf(e,t,n){let r;if(n)r=Gh(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!dd(r);)r=r.parent;return r}function Df(e,t,n,r,i,o){if(32768&n.flags){const t=Gh(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}const s=n.bindings[r].name;if(t.instance[s]=i,524288&n.flags){o=o||{};const t=Bl.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Tc(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function If(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&kf(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Af(e,s,t,r)),s=s.parent}}function Af(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&kf(e,i,t.flags&n,r++),i+=t.childCount}return r}function kf(e,t,n,r){const i=Kh(e,t);if(!i)return;const o=i.instance;o&&($h.setCurrentNode(e,t),1048576&n&&Hh(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Hh(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}class Nf extends Jc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=vn(e);return new Pf(t,this.ngModule)}}function xf(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push({propName:r,templateName:n})}return t}const Of=new tt("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:()=>Ec(Ve(Rf))}),Rf=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sn});class Pf extends Qc{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors[0][0],this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return xf(this.componentDef.inputs)}get outputs(){return xf(this.componentDef.outputs)}create(e,t,n,r){const i=void 0===n,o=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,Ef,i);return o!==Ef||r===Ef?o:t.get(n,r,i)}}}(e,r.injector):e,s=o.get(hh,Ci),a=o.get($o,null),u=i?Aa(this.selector,s.createRenderer(null,this.componentDef)):ja(s,n),l=this.componentDef.onPush?576:528,c="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h=i||c?Ec():o.get(Of),d=s.createRenderer(u,this.componentDef);n&&u&&(_i(d)?d.setAttribute(u,"ng-version",mh.full):u.setAttribute("ng-version",mh.full));const f=ka(null,Ba(-1,null,1,0,null,null,null,null),h,l,null,null,s,d,a,o),p=ci(f,null);let g,m;try{const e=_c(u,this.componentDef,f,s,d);m=ar(0,f),t&&(m.projection=t.map(e=>Array.from(e))),g=Cc(e,this.componentDef,f,h,[Sc]),ru(f,e),Da(f)}finally{di(p)}const y=new Mf(this.componentType,g,sh(lh,m,f),f,m);return i&&(y.hostView._tViewNode.child=m),y}}new Nf;class Mf extends Wc{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new rh(r),this.hostView._tViewNode=xa(r[On],null,-1,r),this.componentType=e}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy()}onDestroy(e){this.destroyCbs.push(e)}}function Ff(e,t){for(let n=0;n<e.length;n++)t.push(e[n])}function Lf(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Lf(r,t)):t!==e&&t.push(r)}return t}const Vf="\ufffd",Uf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Bf=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,jf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,qf=/\ufffd(\d+):?\d*\ufffd/gi,Hf=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,zf=0,Gf=/\[(\ufffd.+?\ufffd?)\]/,Kf=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Wf=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Qf=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,$f=/\/\*/,Yf=/\d+\:(\d+)/;function Jf(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(e);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);Uf.test(n)?r.push(Xf(n)):n&&r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const s=e.substring(t);return""!=s&&r.push(s),r}function Xf(e){const t=[],n=[];let r=1,i=0;const o=Jf(e=e.replace(Uf,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let s=0;s<o.length;){let e=o[s++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=Jf(o[s++]);i.length&&n.push(i)}return kn(t.indexOf("other"),-1,'Missing key "other" in ICU statement.'),{type:r,mainBinding:i,cases:t,values:n}}function Zf(e){let t,n,r="",i=0,o=!1;for(;null!==(t=Bf.exec(e));)o?t[0]===`${Vf}/*${n}${Vf}`&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i)}function ep(e,t,n,r=null){const i=[null,null],o=e.split(qf);let s=0;for(let a=0;a<o.length;a++){const e=o[a];if(1&a){const t=parseInt(e,10);i.push(-1-t),s|=ip(t)}else""!==e&&i.push(e)}return i.push(t<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function tp(e,t=0){let n;t|=ip(e.mainBinding);for(let r=0;r<e.values.length;r++){const i=e.values[r];for(let e=0;e<i.length;e++){const r=i[e];if("string"==typeof r)for(;n=qf.exec(r);)t|=ip(parseInt(n[1],10));else t=tp(r,t)}}return t}const np=[];let rp=-1;function ip(e){return 1<<Math.min(e,31)}const op=[];function sp(e,t,n){const r=Mr()[On];np[++rp]=e,r.firstTemplatePass&&null===r.data[e+Yn]&&function(e,t,n,r){const i=Mr(),o=e.blueprint.length-Yn;ap=0;const s=Wr(),a=Yr()?Wr():s&&s.parent;let u=a&&a!==i[Ln]?a.index-Yn:t,l=0;op[l]=u;const c=[];t>0&&s!==a&&c.push(s.index<<3|0);const h=[],d=[],f=function(e,t){if("number"!=typeof t)return Zf(e);{const n=e.indexOf(`:${t}${Vf}`)+2+t.toString().length,r=e.search(new RegExp(`${Vf}\\/\\*\\d+:${t}${Vf}`));return Zf(e.substring(n,r))}}(n,r).split(jf);for(let g=0;g<f.length;g++){let e=f[g];if(1&g)if("/"===e.charAt(0)){if("#"===e.charAt(1)){const t=parseInt(e.substr(2),10);u=op[--l],c.push(t<<3|5)}}else{const t=parseInt(e.substr(1),10);c.push(t<<3|0,u<<17|1),"#"===e.charAt(0)&&(op[++l]=u=t)}else{const t=Jf(e);for(let e=0;e<t.length;e++)if(1&e){const n=o+ap++;c.push(hs,"",n,u<<17|1);const r=t[e],i=tp(r);Ep(d,r,n,n);const s=d.length-1;h.push(ip(r.mainBinding),3,-1-r.mainBinding,n<<2|2,s,i,2,n<<2|3,s)}else if(""!==t[e]){const n=t[e],r=n.match(qf),i=o+ap++;c.push(r?"":n,i,u<<17|1),r&&Ff(ep(n,i),h)}}}!function(e,t){const n=e[On];if(n.firstTemplatePass){for(let r=0;r<t;r++)n.blueprint.push(null),n.data.push(null),e.push(null);n.expandoInstructions?n.expandoInstructions.push(t):n.expandoStartIndex+=t}}(i,ap);const p={vars:ap,create:c,update:h,icus:d.length?d:null};e.data[t+Yn]=p}(r,e,t,n)}let ap;function up(e,t,n){const r=e.next,i=Mr();n||(n=t),n===t&&e!==t.child?(e.next=t.child,t.child=e):n!==t&&e!==n.next?(e.next=n.next,n.next=e):e.next=null,t!==i[Ln]&&(e.parent=t);let o=e.next;for(;o;)o.next===e&&(o.next=r),o=o.next;Vu(sr(e,i),e,i);const s=i[e.index];return 0!==e.type&&ir(s)&&Vu(s[Zn],e,i),e}function lp(e,t={}){let n=e;if(Gf.test(e)){const e={},t=[zf];if(n=n.replace(Kf,(n,r,i)=>{const o=r||i;if(!e[o]){const t=[];o.split("|").forEach(e=>{const n=e.match(Yf),r=n?parseInt(n[1],10):zf,i=$f.test(e);t.push([r,i,e])}),e[o]=t}if(!e[o].length)throw new Error(`i18n postprocess: unmatched placeholder - ${o}`);const s=t[t.length-1],a=e[o];let u=0;for(let e=0;e<a.length;e++)if(a[e][0]===s){u=e;break}const[l,c,h]=a[u];return c?t.pop():s!==l&&t.push(l),a.splice(u,1),h}),Object.keys(e).some(t=>!!e[t].length))throw new Error(`i18n postprocess: unmatched values - ${JSON.stringify(e)}`)}return Object.keys(t).length?n=(n=n.replace(Wf,(e,n,r,i,o,s)=>t.hasOwnProperty(r)?`${n}${t[r]}${s}`:e)).replace(Qf,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}):n}function cp(){const e=Mr()[On];!function(e){const t=Mr();const n=np[rp--],r=e.data[n+Yn];let i=Wr();const o=dp(n,r.create,r.icus,t);for(let s=n+1;s<=i.index-Yn;s++)-1===o.indexOf(s)&&fp(s,t)}(e)}function hp(e,t,n,r){const i=Wr(),o=Na(e,t,n,r,null);return i.next===o&&(i.next=null),o}function dp(e,t,n,r){const i=Mr()[Hn];let o=null,s=null;const a=[];for(let u=0;u<t.length;u++){const n=t[u];if("string"==typeof n){const e=Du(n,i),r=t[++u];s=o,o=hp(r,3,e,null),a.push(r),Jr(!1)}else if("number"==typeof n)switch(7&n){case 1:const i=n>>>17;let l;s=up(o,l=i===e?r[Ln]:ar(i,r),s);break;case 0:const c=n>>>3;a.push(c),s=o,(o=ar(c,r))&&(Qr(o),3===o.type&&Jr(!0));break;case 5:s=o=ar(n>>>3,r),Qr(o),Jr(!1);break;case 4:vl(n>>>3,t[++u],t[++u]);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}else switch(n){case hs:const e=t[++u],l=t[++u],c=i.createComment(e);s=o,o=hp(l,5,c,null),a.push(l),Ei(c,r),o.activeCaseIndex=null,Jr(!1);break;case cs:const h=t[++u],d=t[++u];s=o,o=hp(d,3,i.createElement(h),h),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}}return Jr(!1),a}function fp(e,t){const n=ar(e,t),r=or(e,t);r&&Bu(t[Hn],r);const i=Yu(e);if(ir(i)){const e=i;0!==n.type&&Bu(t[Hn],e[Zn])}}function pp(e,t,n){sp(e,t,n),cp()}function gp(e,t){const n=Mr()[On];n.firstTemplatePass&&null===n.data[e+Yn]&&function(e,t,n){const r=Wr().index-Yn,i=[];for(let o=0;o<n.length;o+=2){const e=n[o],t=n[o+1],s=t.split(Hf);for(let n=0;n<s.length;n++){const t=s[n];if(1&n);else if(""!==t){const n=!!t.match(qf);n?Ff(ep(t,r,e),i):vl(r,e,t)}}}e.data[t+Yn]=i}(n,e,t)}let mp=0,yp=0;function vp(e){e!==fs&&(mp|=1<<yp),yp++}function bp(e){if(yp){const t=Mr(),n=t[On],r=n.data[e+Yn];let i,o=null;Array.isArray(r)?i=r:(i=r.update,o=r.icus),!function e(t,n,r,i,o,s=!1){let a=!1;for(let u=0;u<t.length;u++){const l=t[u],c=t[++u];if(s||l&i){let s="";for(let l=u+1;l<=u+c;l++){const u=t[l];if("string"==typeof u)s+=u;else if("number"==typeof u)if(u<0)s+=Cn(o[r-u]);else{const c=u>>>2;let h,d,f;switch(3&u){case 1:vl(c,t[++l],s,t[++l]);break;case 0:wc(c,s);break;case 2:if(d=n[h=t[++l]],null!==(f=ar(c,o)).activeCaseIndex){const e=d.remove[f.activeCaseIndex];for(let t=0;t<e.length;t++){const r=e[t];switch(7&r){case 3:fp(r>>>3,o);break;case 6:const i=ar(e[t+1]>>>3,o).activeCaseIndex;null!==i&&Ff(n[r>>>3].remove[i],e)}}}const p=Cp(d,s);f.activeCaseIndex=-1!==p?p:null,dp(-1,d.create[p],0,o),a=!0;break;case 3:d=n[h=t[++l]],f=ar(c,o),e(d.update[f.activeCaseIndex],n,r,i,o,a)}}}}u+=c}}(i,o,t[Vn]-yp-1,mp,t),mp=0,yp=0}}const wp={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};function _p(e,t){switch(function(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?wp.One:wp.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?wp.One:wp.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?wp.One:wp.Other;case"ar":return 0===n?wp.Zero:1===n?wp.One:2===n?wp.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?wp.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?wp.Many:wp.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?wp.One:wp.Other;case"be":return n%10==1&&n%100!=11?wp.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?wp.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?wp.Many:wp.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?wp.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?wp.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?wp.Few:0!==n&&n%1e6==0?wp.Many:wp.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?wp.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?wp.Few:wp.Other;case"cs":case"sk":return 1===i&&0===o?wp.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?wp.Few:0!==o?wp.Many:wp.Other;case"cy":return 0===n?wp.Zero:1===n?wp.One:2===n?wp.Two:3===n?wp.Few:6===n?wp.Many:wp.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?wp.One:wp.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?wp.One:0===o&&i%100==2||s%100==2?wp.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?wp.Few:wp.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?wp.One:wp.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?wp.One:wp.Other;case"ga":return 1===n?wp.One:2===n?wp.Two:n===Math.floor(n)&&n>=3&&n<=6?wp.Few:n===Math.floor(n)&&n>=7&&n<=10?wp.Many:wp.Other;case"gd":return 1===n||11===n?wp.One:2===n||12===n?wp.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?wp.Few:wp.Other;case"gv":return 0===o&&i%10==1?wp.One:0===o&&i%10==2?wp.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?wp.Many:wp.Other:wp.Few;case"he":return 1===i&&0===o?wp.One:2===i&&0===o?wp.Two:0!==o||n>=0&&n<=10||n%10!=0?wp.Other:wp.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?wp.One:wp.Other;case"ksh":return 0===n?wp.Zero:1===n?wp.One:wp.Other;case"kw":case"naq":case"se":case"smn":return 1===n?wp.One:2===n?wp.Two:wp.Other;case"lag":return 0===n?wp.Zero:0!==i&&1!==i||0===n?wp.Other:wp.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?wp.Few:0!==s?wp.Many:wp.Other:wp.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?wp.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?wp.One:wp.Other;case"mk":return 0===o&&i%10==1||s%10==1?wp.One:wp.Other;case"mt":return 1===n?wp.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?wp.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?wp.Many:wp.Other;case"pl":return 1===i&&0===o?wp.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?wp.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?wp.Many:wp.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?wp.One:wp.Other;case"ro":return 1===i&&0===o?wp.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?wp.Few:wp.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?wp.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?wp.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?wp.Many:wp.Other;case"shi":return 0===i||1===n?wp.One:n===Math.floor(n)&&n>=2&&n<=10?wp.Few:wp.Other;case"si":return 0===n||1===n||0===i&&1===s?wp.One:wp.Other;case"sl":return 0===o&&i%100==1?wp.One:0===o&&i%100==2?wp.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?wp.Few:wp.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?wp.One:wp.Other;default:return wp.Other}}(t,e)){case wp.Zero:return"zero";case wp.One:return"one";case wp.Two:return"two";case wp.Few:return"few";case wp.Many:return"many";default:return"other"}}function Cp(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=_p(t,"en-US");-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return n}function Ep(e,t,n,r){const i=[],o=[],s=[],a=[],u=[];for(let c=0;c<t.values.length;c++){const l=t.values[c],h=[];for(let e=0;e<l.length;e++){const t=l[e];if("string"!=typeof t){const n=h.push(t)-1;l[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const d=Sp(l.join(""),n,h,e,r);i.push(d.create),o.push(d.remove),s.push(d.update),a.push(d.vars),u.push(d.childIcus)}const l={type:t.type,vars:a,childIcus:u,cases:t.cases,create:i,remove:o,update:s};e.push(l),ap+=Math.max(...a)}function Sp(e,t,n,r,i){const o=new _o(document).getInertBodyElement(e);if(!o)throw new Error("Unable to generate inert body element");const s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,r,i,o,s){if(t){const a=[];for(;t;){const u=t.nextSibling,l=s+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:const u=t,c=u.tagName.toLowerCase();if(Po.hasOwnProperty(c)){n.create.push(cs,c,l,r<<17|1);const a=u.attributes;for(let e=0;e<a.length;e++){const t=a.item(e),r=t.name.toLowerCase(),i=!!t.value.match(qf);i?Uo.hasOwnProperty(r)&&(Mo[r]?Ff(ep(t.value,l,t.name,So),n.update):Fo[r]?Ff(ep(t.value,l,t.name,To),n.update):Ff(ep(t.value,l,t.name),n.update)):n.create.push(l<<3|4,t.name,t.value)}e(t.firstChild,n,l,i,o,s),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=t.textContent||"",d=h.match(qf);n.create.push(d?"":h,l,r<<17|1),n.remove.push(l<<3|3),d&&Ff(ep(h,l),n.update);break;case Node.COMMENT_NODE:const f=Tp.exec(t.textContent||"");if(f){const e=parseInt(f[1],10),t="";n.create.push(hs,t,l,r<<17|1);const o=i[e];a.push([o,l])}else n.vars--;break;default:n.vars--}t=u}for(let e=0;e<a.length;e++){const t=a[e][0],r=a[e][1];Ep(o,t,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const u=tp(t);n.update.push(ip(t.mainBinding),3,-1-t.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Wo(o)||o).firstChild,s,t,n,r,i),s}wp[wp.Zero]="Zero",wp[wp.One]="One",wp[wp.Two]="Two",wp[wp.Few]="Few",wp[wp.Many]="Many",wp[wp.Other]="Other";const Tp=/\ufffd(\d+)\ufffd/;let Dp={};const Ip=/\{\$(.*?)\}/g;function Ap(e,t={}){return void 0!==Dp[e]&&(e=Dp[e]),Object.keys(t).length?e.replace(Ip,(e,n)=>t[n]||""):e}function kp(e,t,n){const r=oi()+e,i=Mr();return Xr()?Hl(i,r,n?t.call(n):t()):zl(i,r)}function Np(e,t,n,r){const i=Mr(),o=oi()+e;return Gl(i,o,n)?Hl(i,o+1,r?t.call(r,n):t(n)):zl(i,o+1)}function xp(e,t,n,r,i){const o=oi()+e,s=Mr();return Kl(s,o,n,r)?Hl(s,o+2,i?t.call(i,n,r):t(n,r)):zl(s,o+2)}function Op(e,t,n,r,i,o){const s=oi()+e,a=Mr();return Wl(a,s,n,r,i)?Hl(a,s+3,o?t.call(o,n,r,i):t(n,r,i)):zl(a,s+3)}function Rp(e,t,n,r,i,o,s){const a=oi()+e,u=Mr();return Ql(u,a,n,r,i,o)?Hl(u,a+4,s?t.call(s,n,r,i,o):t(n,r,i,o)):zl(u,a+4)}function Pp(e,t,n,r,i,o,s,a){const u=oi()+e,l=Mr(),c=Ql(l,u,n,r,i,o);return Gl(l,u+4,s)||c?Hl(l,u+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):zl(l,u+5)}function Mp(e,t,n,r,i,o,s,a,u){const l=oi()+e,c=Mr(),h=Ql(c,l,n,r,i,o);return Kl(c,l+4,s,a)||h?Hl(c,l+6,u?t.call(u,n,r,i,o,s,a):t(n,r,i,o,s,a)):zl(c,l+6)}function Fp(e,t,n,r,i,o,s,a,u,l){const c=oi()+e,h=Mr();let d=Ql(h,c,n,r,i,o);return Wl(h,c+4,s,a,u)||d?Hl(h,c+7,l?t.call(l,n,r,i,o,s,a,u):t(n,r,i,o,s,a,u)):zl(h,c+7)}function Lp(e,t,n,r,i,o,s,a,u,l,c){const h=oi()+e,d=Mr(),f=Ql(d,h,n,r,i,o);return Ql(d,h+4,s,a,u,l)||f?Hl(d,h+8,c?t.call(c,n,r,i,o,s,a,u,l):t(n,r,i,o,s,a,u,l)):zl(d,h+8)}function Vp(e,t,n,r){let i=oi()+e,o=!1;const s=Mr();for(let a=0;a<n.length;a++)Gl(s,i++,n[a])&&(o=!0);return o?Hl(s,i,t.apply(r,n)):zl(s,i)}function Up(e,t){const n=Mr()[On];let r;const i=e+Yn;n.firstTemplatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory(null);return Qu(e,o),o}function Bp(e,t,n){const r=Yu(e);return Kp(Gp(e)?Np(t,r.transform,n,r):r.transform(n))}function jp(e,t,n,r){const i=Yu(e);return Kp(Gp(e)?xp(t,i.transform,n,r,i):i.transform(n,r))}function qp(e,t,n,r,i){const o=Yu(e);return Kp(Gp(e)?Op(t,o.transform,n,r,i,o):o.transform(n,r,i))}function Hp(e,t,n,r,i,o){const s=Yu(e);return Kp(Gp(e)?Rp(t,s.transform,n,r,i,o,s):s.transform(n,r,i,o))}function zp(e,t,n){const r=Yu(e);return Kp(Gp(e)?Vp(t,r.transform,n,r):r.transform.apply(r,n))}function Gp(e){return Mr()[On].data[e+Yn].pure}function Kp(e){if(Bl.isWrapped(e)){e=Bl.unwrap(e);const t=Mr();t[t[Vn]]=fs}return e}class Wp extends I{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,o=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return e instanceof d&&e.add(s),s}}class Qp{constructor(){this.dirty=!0,this._results=[],this.changes=new Wp,this.length=0}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}[Ll()](){return this._results[Ll()]()}toString(){return this._results.toString()}reset(e){this._results=Lf(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class $p{constructor(e,t,n){this.parent=e,this.shallow=t,this.deep=n}track(e,t,n,r){n?this.deep=ag(this.deep,e,t,null!=r?r:null):this.shallow=ag(this.shallow,e,t,null!=r?r:null)}clone(){return new $p(this,null,this.deep)}container(){const e=Yp(this.shallow),t=Yp(this.deep);return e||t?new $p(this,e,t):null}createView(){const e=Jp(this.shallow),t=Jp(this.deep);return e||t?new $p(this,e,t):null}insertView(e){Xp(e,this.shallow),Xp(e,this.deep)}addNode(e){ig(this.deep,e,!1),ig(this.shallow,e,!1)}insertNodeBeforeViews(e){ig(this.deep,e,!0),ig(this.shallow,e,!0)}removeView(){Zp(this.shallow),Zp(this.deep)}}function Yp(e){let t=null;for(;e;){const n=[];e.values.push(n),t={next:t,list:e.list,predicate:e.predicate,values:n,containerValues:null},e=e.next}return t}function Jp(e){let t=null;for(;e;){t={next:t,list:e.list,predicate:e.predicate,values:[],containerValues:e.values},e=e.next}return t}function Xp(e,t){for(;t;)t.containerValues.splice(e,0,t.values),t.values.length&&t.list.setDirty(),t=t.next}function Zp(e){for(;e;){const t=e.containerValues,n=t.indexOf(e.values),r=t.splice(n,1);r[0].length&&e.list.setDirty(),e=e.next}}function eg(e,t){const n=e.localNames;if(n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function tg(e,t,n){const r=e[sn];if("function"==typeof r)return r();{const r=io(t,n,e,!1,!1);if(null!==r)return oo(n[On].data,n,r,t)}return null}function ng(e,t,n,r){const i=e[sn]();return r?i?tg(r,t,n):null:i}function rg(e,t,n,r){return n?tg(n,e,t):r>-1?oo(t[On].data,t,r,e):function(e,t){return 3===e.type||4===e.type?sh(lh,e,t):0===e.type?ah(Mh,lh,e,t):null}(e,t)}function ig(e,t,n){const r=Mr();for(;e;){const i=e.predicate,o=i.type;if(o){let s=null;if(o===Mh)s=ng(o,t,r,i.read);else{const e=io(t,r,o,!1,!1);null!==e&&(s=rg(t,r,i.read,e))}null!==s&&og(e,s,n)}else{const o=i.selector;for(let s=0;s<o.length;s++){const a=eg(t,o[s]);if(null!==a){const o=rg(t,r,i.read,a);null!==o&&og(e,o,n)}}}e=e.next}}function og(e,t,n){n?e.values.splice(-1,0,t):e.values.push(t),e.list.setDirty()}function sg(e,t){const n=Array.isArray(e);return{type:n?null:e,selector:n?e:null,read:t}}function ag(e,t,n,r){return{next:e,list:t,predicate:sg(n,r),values:t._valuesTree,containerValues:null}}function ug(e,t,n){const r=Mr(),i=new Qp,o=r[Fn]||(r[Fn]=new $p(null,null,null));return i._valuesTree=[],i._static=!1,o.track(i,e,t,n),function(e,t,n){const r=pu(e);r.push(t),e[On].firstTemplatePass&&gu(e).push(n,r.length-1)}(r,i,i.destroy),i}function lg(e){const t=e,n=Xr();return!(!e.dirty||n!==t._static)&&(e.reset(t._valuesTree||[]),e.notifyOnChanges(),!0)}function cg(e,t,n){const r=hg(e,t,n),i=Mr()[On];r._static=!0,i.staticViewQueries||(i.staticViewQueries=!0)}function hg(e,t,n){const r=Mr()[On];r.firstTemplatePass&&r.expandoStartIndex++;const i=ui(),o=ug(e,t,n);return Qu(i-Yn,o),li(i+1),o}function dg(){const e=ui();return li(e+1),Yu(e-Yn)}function fg(e,t,n,r){const i=Mr(),o=i[On],s=ug(t,n,r);if((i[Wn]||(i[Wn]=[])).push(s),o.firstTemplatePass){const t=o.contentQueries||(o.contentQueries=[]);e!==(o.contentQueries.length?o.contentQueries[o.contentQueries.length-1]:-1)&&t.push(e)}return s}function pg(e,t,n,r){const i=fg(e,t,n,r),o=Mr()[On];i._static=!0,o.staticContentQueries||(o.staticContentQueries=!0)}function gg(){const e=Mr(),t=ui();return li(t+1),e[Wn][t]}function mg(e,t){return ah(Mh,lh,e,t)}class yg{}const vg=new Map;function bg(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Ae(t)} vs ${Ae(t.name)}`)}function wg(e,t){bg(e,vg.get(e),t),vg.set(e,t)}(()=>({"\u0275\u0275defineBase":gn,"\u0275\u0275defineComponent":un,"\u0275\u0275defineDirective":mn,"\u0275\u0275defineInjectable":Ce,"\u0275\u0275defineInjector":Ee,"\u0275\u0275defineNgModule":dn,"\u0275\u0275definePipe":yn,"\u0275\u0275directiveInject":Ju,"\u0275\u0275getFactoryOf":lo,"\u0275\u0275getInheritedFactory":co,"\u0275\u0275inject":Ve,"\u0275\u0275injectAttribute":Xu,"\u0275\u0275templateRefExtractor":mg,"\u0275\u0275NgOnChangesFeature":Dc,"\u0275\u0275ProvidersFeature":Kc,"\u0275\u0275InheritDefinitionFeature":xc,"\u0275\u0275elementAttribute":vl,"\u0275\u0275bind":Yl,"\u0275\u0275container":qu,"\u0275\u0275nextContext":Ol,"\u0275\u0275containerRefreshStart":zu,"\u0275\u0275containerRefreshEnd":Gu,"\u0275\u0275namespaceHTML":bi,"\u0275\u0275namespaceMathML":vi,"\u0275\u0275namespaceSVG":yi,"\u0275\u0275enableBindings":Rr,"\u0275\u0275disableBindings":Pr,"\u0275\u0275allocHostVars":wu,"\u0275\u0275elementStart":gl,"\u0275\u0275elementEnd":ml,"\u0275\u0275element":yl,"\u0275\u0275elementContainerStart":wl,"\u0275\u0275elementContainerEnd":_l,"\u0275\u0275pureFunction0":kp,"\u0275\u0275pureFunction1":Np,"\u0275\u0275pureFunction2":xp,"\u0275\u0275pureFunction3":Op,"\u0275\u0275pureFunction4":Rp,"\u0275\u0275pureFunction5":Pp,"\u0275\u0275pureFunction6":Mp,"\u0275\u0275pureFunction7":Fp,"\u0275\u0275pureFunction8":Lp,"\u0275\u0275pureFunctionV":Vp,"\u0275\u0275getCurrentView":Sl,"\u0275\u0275restoreView":Kr,"\u0275\u0275interpolation1":ec,"\u0275\u0275interpolation2":tc,"\u0275\u0275interpolation3":nc,"\u0275\u0275interpolation4":rc,"\u0275\u0275interpolation5":ic,"\u0275\u0275interpolation6":oc,"\u0275\u0275interpolation7":sc,"\u0275\u0275interpolation8":ac,"\u0275\u0275interpolationV":Zl,"\u0275\u0275listener":Il,"\u0275\u0275load":Yu,"\u0275\u0275projection":Ml,"\u0275\u0275elementProperty":Jl,"\u0275\u0275componentHostSyntheticProperty":Xl,"\u0275\u0275componentHostSyntheticListener":Al,"\u0275\u0275pipeBind1":Bp,"\u0275\u0275pipeBind2":jp,"\u0275\u0275pipeBind3":qp,"\u0275\u0275pipeBind4":Hp,"\u0275\u0275pipeBindV":zp,"\u0275\u0275projectionDef":Pl,"\u0275\u0275property":$l,"\u0275\u0275propertyInterpolate":uc,"\u0275\u0275propertyInterpolate1":lc,"\u0275\u0275propertyInterpolate2":cc,"\u0275\u0275propertyInterpolate3":hc,"\u0275\u0275propertyInterpolate4":dc,"\u0275\u0275propertyInterpolate5":fc,"\u0275\u0275propertyInterpolate6":pc,"\u0275\u0275propertyInterpolate7":gc,"\u0275\u0275propertyInterpolate8":mc,"\u0275\u0275propertyInterpolateV":yc,"\u0275\u0275pipe":Up,"\u0275\u0275queryRefresh":lg,"\u0275\u0275viewQuery":hg,"\u0275\u0275staticViewQuery":cg,"\u0275\u0275staticContentQuery":pg,"\u0275\u0275loadViewQuery":dg,"\u0275\u0275contentQuery":fg,"\u0275\u0275loadContentQuery":gg,"\u0275\u0275reference":$u,"\u0275\u0275elementHostAttrs":bl,"\u0275\u0275elementStyling":Zu,"\u0275\u0275elementStylingMap":ul,"\u0275\u0275elementStyleProp":nl,"\u0275\u0275elementStylingApply":cl,"\u0275\u0275elementClassProp":ol,"\u0275\u0275elementHostStyling":el,"\u0275\u0275elementHostStylingMap":ll,"\u0275\u0275elementHostStyleProp":rl,"\u0275\u0275elementHostStylingApply":hl,"\u0275\u0275elementHostClassProp":sl,"\u0275\u0275select":vc,"\u0275\u0275template":Hu,"\u0275\u0275text":bc,"\u0275\u0275textBinding":wc,"\u0275\u0275embeddedViewStart":Cl,"\u0275\u0275embeddedViewEnd":El,"\u0275\u0275i18n":pp,"\u0275\u0275i18nAttributes":gp,"\u0275\u0275i18nExp":vp,"\u0275\u0275i18nStart":sp,"\u0275\u0275i18nEnd":cp,"\u0275\u0275i18nApply":bp,"\u0275\u0275i18nPostprocess":lp,"\u0275\u0275i18nLocalize":Ap,"\u0275\u0275resolveWindow":Tn,"\u0275\u0275resolveDocument":Dn,"\u0275\u0275resolveBody":In,"\u0275\u0275setComponentScope":ln,"\u0275\u0275setNgModuleScope":fn,"\u0275\u0275sanitizeHtml":Zo,"\u0275\u0275sanitizeStyle":es,"\u0275\u0275defaultStyleSanitizer":os,"\u0275\u0275sanitizeResourceUrl":ns,"\u0275\u0275sanitizeScript":rs,"\u0275\u0275sanitizeUrl":ts,"\u0275\u0275sanitizeUrlOrResourceUrl":is,"\u0275registerNgModuleType":wg}))();new Map,new Map;const _g=le("Directive",(e={})=>e,void 0,void 0,(e,t)=>kg(e,t)),Cg=le("Component",(e={})=>Object.assign({changeDetection:$t.Default},e),_g,void 0,(e,t)=>Ag(e,t)),Eg=le("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>Ng(e,t)),Sg=de("Input",e=>({bindingPropertyName:e})),Tg=de("Output",e=>({bindingPropertyName:e})),Dg=de("HostBinding",e=>({hostPropertyName:e})),Ig=de("HostListener",(e,t)=>({eventName:e,args:t})),Ag=uh,kg=uh,Ng=uh,xg=le("NgModule",e=>e,void 0,void 0,(e,t)=>Og(e,t));const Og=function(e,t){let n=t&&t.imports||[];t&&t.exports&&(n=[...n,t.exports]),e.ngInjectorDef=Ee({factory:Xe(e,{useClass:e}),providers:t&&t.providers,imports:n})},Rg=new tt("Application Initializer");class Pg{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Tl(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}Pg.decorators=[{type:Ze}],Pg.ctorParameters=(()=>[{type:Array,decorators:[{type:fe,args:[Rg]},{type:pe}]}]);const Mg=new tt("AppId");function Fg(){return`${Vg()}${Vg()}${Vg()}`}const Lg={provide:Mg,useFactory:Fg,deps:[]};function Vg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ug=new tt("Platform Initializer"),Bg=new tt("Platform ID"),jg=new tt("appBootstrapListener");new tt("Application Packages Root URL");class qg{log(e){console.log(e)}warn(e){console.warn(e)}}qg.decorators=[{type:Ze}];function Hg(){throw new Error("Runtime compiler is not loaded")}const zg=Hg,Gg=Hg,Kg=Hg,Wg=Hg;class Qg{constructor(){this.compileModuleSync=zg,this.compileModuleAsync=Gg,this.compileModuleAndAllComponentsSync=Kg,this.compileModuleAndAllComponentsAsync=Wg}clearCache(){}clearCacheFor(e){}getModuleId(e){}}Qg.decorators=[{type:Ze}];new tt("compilerOptions");class $g{}let Yg,Jg;const Xg=function(){const e=Oe.wtf;return!(!e||!(Yg=e.trace)||(Jg=Yg.events,0))}();const Zg=Xg?function(e,t=null){return Jg.createScope(e,t)}:(e,t)=>(function(e,t){return null}),em=Xg?function(e,t){return Yg.leaveScope(e,t),t}:(e,t)=>t,tm=(()=>Promise.resolve(0))();function nm(e){"undefined"==typeof Zone?tm.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class rm{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wp(!1),this.onMicrotaskEmpty=new Wp(!1),this.onStable=new Wp(!1),this.onError=new Wp(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const t=this;var n;t._nesting=0,t._outer=t._inner=Zone.current,Zone.wtfZoneSpec&&(t._inner=t._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(t._inner=t._inner.fork(Zone.longStackTraceZoneSpec)),(n=t)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,t,r,i,o,s)=>{try{return am(n),e.invokeTask(r,i,o,s)}finally{um(n)}},onInvoke:(e,t,r,i,o,s,a)=>{try{return am(n),e.invoke(r,i,o,s,a)}finally{um(n)}},onHasTask:(e,t,r,i)=>{e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,sm(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,t,r,i)=>(e.handleError(r,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rm.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(rm.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,om,im,im);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function im(){}const om={};function sm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function am(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function um(e){e._nesting--,sm(e)}class lm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wp,this.onMicrotaskEmpty=new Wp,this.onStable=new Wp,this.onError=new Wp}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class cm{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rm.assertNotInAngularZone(),nm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nm(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}cm.decorators=[{type:Ze}],cm.ctorParameters=(()=>[{type:rm}]);class hm{constructor(){this._applications=new Map,fm.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return fm.findTestabilityInTree(this,e,t)}}hm.decorators=[{type:Ze}],hm.ctorParameters=(()=>[]);let dm,fm=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}},pm=function(e,t,n){return e.get($g).createCompiler([t]).compileModuleAsync(n)};let gm=function(e){return e instanceof Zc};const mm=new tt("AllowMultipleToken");class ym{constructor(e,t){this.name=e,this.token=t}}function vm(e,t,n=[]){const r=`Platform: ${t}`,i=new tt(r);return(t=[])=>{let o=bm();if(!o||o.injector.get(mm,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(dm&&!dm.destroyed&&!dm.injector.get(mm,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dm=e.get(wm);const t=e.get(Ug,null);t&&t.forEach(e=>e())}(at.create({providers:e,name:r}))}return function(e){const t=bm();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function bm(){return dm&&!dm.destroyed?dm:null}class wm{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;t="noop"===e?new lm:("zone.js"===e?void 0:e)||new rm({enableLongStackTrace:wo()});return t}(t?t.ngZone:void 0),r=[{provide:rm,useValue:n}];return n.run(()=>{const t=at.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(go,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Em(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const i=n();return Tl(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Pg);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=_m({},t);return pm(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Cm);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Ae(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function _m(e,t){return e=Array.isArray(t)?t.reduce(_m,e):Object.assign({},e,t)}wm.decorators=[{type:Ze}],wm.ctorParameters=(()=>[{type:at}]);class Cm{constructor(e,t,n,r,i,o){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=wo(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new _(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new _(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{rm.assertNotInAngularZone(),nm(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{rm.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return k(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof _?e[0]:Y(t)(z(e,n))}(s,a.pipe(oe()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Qc?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=gm(n)?null:this._injector.get(eh),i=t||n.selector,o=n.create(at.NULL,[],i,r);o.onDestroy(()=>{this._unloadComponent(o)});const s=o.injector.get(cm,null);return s&&o.injector.get(hm).registerApplication(o.location.nativeElement,s),this._loadComponent(o),wo()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=Cm._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,em(e)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Em(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(jg,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Em(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}function Em(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}Cm._tickScope=Zg("ApplicationRef#tick()"),Cm.decorators=[{type:Ze}],Cm.ctorParameters=(()=>[{type:rm},{type:qg},{type:at},{type:go},{type:Jc},{type:Pg}]);const Sm=!1,Tm="#",Dm="NgFactory";class Im{}const Am={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class km{constructor(e,t){this._compiler=e,this._config=t||Am}load(e){return!Sm&&this._compiler instanceof Qg?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split(Tm);return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Nm(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split(Tm),i=Dm;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Nm(e,t,r))}}function Nm(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}km.decorators=[{type:Ze}],km.ctorParameters=(()=>[{type:Qg},{type:Im,decorators:[{type:pe}]}]);class xm{constructor(e,t){this.name=e,this.callback=t}}class Om{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Rm&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Rm extends Om{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof Rm&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof Rm&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof Rm&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Rm)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Pm=new Map;const Mm=function(e){return Pm.get(e)||null};function Fm(e){Pm.set(e.nativeNode,e)}const Lm=vm(null,"core",[{provide:Bg,useValue:"unknown"},{provide:wm,deps:[at]},{provide:hm,deps:[]},{provide:qg,deps:[]}]),Vm=new tt("LocaleId"),Um=(new tt("Translations"),new tt("TranslationsFormat"),{Error:0,Warning:1,Ignore:2});function Bm(){return Rh}function jm(){return Ph}function qm(e){return e||"en-US"}Um[Um.Error]="Error",Um[Um.Warning]="Warning",Um[Um.Ignore]="Ignore";const Hm=[{provide:Cm,useClass:Cm,deps:[rm,qg,at,go,Jc,Pg]},{provide:Rf,deps:[rm],useFactory:zm},{provide:Pg,useClass:Pg,deps:[[new pe,Rg]]},{provide:Qg,useClass:Qg,deps:[]},Lg,{provide:Ih,useFactory:Bm,deps:[]},{provide:Ah,useFactory:jm,deps:[]},{provide:Vm,useFactory:qm,deps:[[new fe(Vm),new pe,new me]]}];function zm(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class Gm{constructor(e){}}function Km(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=gd(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?bd(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Yh},provider:null,text:null,query:null,ngContent:null}}function Wm(e,t,n,r,i,o,s=[],a,u,l,c,h){l||(l=Yh);const{matchedQueries:d,references:f,matchedQueryIds:p}=gd(n);let g=null,m=null;o&&([g,m]=Dd(o)),a=a||[];const y=new Array(a.length);for(let w=0;w<a.length;w++){const[e,t,n]=a[w],[r,i]=Dd(t);let o=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}y[w]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const v=new Array(u.length);for(let w=0;w<u.length;w++){const[e,t]=u[w];v[w]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,r]=Dd(e);return[n,r,t]});return h=function(e){if(e&&e.id===Zh){const t=null!=e.encapsulation&&e.encapsulation!==Jt.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${nd++}`:ed}return e&&e.id===ed&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Id(y),outputs:v,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:l||Yh},provider:null,text:null,query:null,ngContent:null}}function Qm(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=yd(e,t,n);i&&o.appendChild(i,s)}else{const e=!!r.componentRendererType&&r.componentRendererType.encapsulation===Jt.ShadowDom;s=o.selectRootElement(i,e)}if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function $m(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],u=Ym(e,n.nodeIndex,(i=a.target,o=a.eventName,i?`${i}:${o}`:o));let l=a.target,c=e;"component"===a.target&&(l=null,c=t);const h=c.renderer.listen(l||r,a.eventName,u);e.disposables[n.outputIndex+s]=h}var i,o}function Ym(e,t,n){return r=>ud(e,t,n,r)}function Jm(e,t,n,r){if(!id(e,t,n,r))return!1;const i=t.bindings[n],o=Gh(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=e.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(Qo.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function Xm(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&fd(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&Qh(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&Qh(e,n).setDirty(),n+=t.childCount}}function Zm(e,t){const n=Qh(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=ey(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=Kh(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=ey(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function ey(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(ty(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Gh(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(ey(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=ld(o);s&&s===n&&ey(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];ey(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function ty(e,t,n){if(null!=n)switch(n){case 1:return Gh(e,t.nodeIndex).renderElement;case 0:return new lh(Gh(e,t.nodeIndex).renderElement);case 2:return Gh(e,t.nodeIndex).template;case 3:return Gh(e,t.nodeIndex).viewContainer;case 4:return Kh(e,t.nodeIndex).instance}}function ny(e,t,n){const r=yd(e,t,n);r&&Cd(e,n.ngContent.index,1,r,null,void 0)}function ry(e,t){const n=Object.keys(t),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const e=n[o];i[t[e]]=e}return iy(64,e,i)}function iy(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Id(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function oy(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function sy(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=yd(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function ay(e,t){return(null!=e?e.toString():"")+t.suffix}function uy(e,t,n,r){let i=0,o=0,s=0,a=0,u=0,l=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=l,e.bindingIndex=i,e.outputIndex=o,e.renderParent=c,s|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=l?l.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(cy(l,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!c&&3&e.flags&&(f=e),20224&e.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);const t=0!=(8192&e.flags),n=0!=(32768&e.flags);!t||n?l.element.publicProviders[Xh(e.provider.token)]=e:(d||(d=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Xh(e.provider.token)]=e),n&&(l.element.componentProvider=e)}if(l?(l.childFlags|=e.flags,l.directChildFlags|=e.flags,l.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(l.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)l=e,ly(e)||(c=e);else for(;l&&p===l.nodeIndex+l.childCount;){const e=l.parent;e&&(e.childFlags|=l.childFlags,e.childMatchedQueries|=l.childMatchedQueries),c=(l=e)&&ly(l)?l.renderParent:l}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Yh,updateRenderer:r||Yh,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function ly(e){return 0!=(1&e.flags)&&null===e.element.name}function cy(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags){if(0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`)}if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function hy(e,t,n,r){const i=py(e.root,e.renderer,e,t,n);return gy(i,e.component,r),my(i),i}function dy(e,t,n){const r=py(e,e.renderer,null,null,t);return gy(r,n,n),my(r),r}function fy(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,py(e.root,o,e,t.element.componentProvider,n)}function py(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function gy(e,t,n){e.component=t,e.context=n}function my(e){let t;if(dd(e)){const n=e.parentNodeDef;t=Gh(e.parent,n.parent.nodeIndex).renderElement}const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch($h.setCurrentNode(e,i),201347067&o.flags){case 1:const n=Qm(e,t,o);let a=void 0;if(33554432&o.flags){const t=bd(o.element.componentView);a=$h.createComponentView(e,o,t,n)}$m(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?Yd(e,o):void 0},16777216&o.flags&&(s.viewContainer=Kd(e,o,s));break;case 2:s=sy(e,t,o);break;case 512:case 1024:case 2048:case 256:if(!((s=r[i])||4096&o.flags)){s={instance:yf(e,o)}}break;case 16:s={instance:vf(e,o)};break;case 16384:if(!(s=r[i])){s={instance:bf(e,o)}}if(32768&o.flags){gy(Gh(e,o.parent.nodeIndex).componentView,s.instance,s.instance)}break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Qp;break;case 8:ny(e,t,o),s=void 0}r[i]=s}Ty(e,Sy.CreateViewNodes),ky(e,201326592,268435456,0)}function yy(e){wy(e),$h.updateDirectives(e,1),Dy(e,Sy.CheckNoChanges),$h.updateRenderer(e,1),Ty(e,Sy.CheckNoChanges),e.state&=-97}function vy(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,qh(e,0,256),wy(e),$h.updateDirectives(e,0),Dy(e,Sy.CheckAndUpdate),ky(e,67108864,536870912,0);let t=qh(e,256,512);If(e,2097152|(t?1048576:0)),$h.updateRenderer(e,0),Ty(e,Sy.CheckAndUpdate),ky(e,134217728,536870912,0),If(e,8388608|((t=qh(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,qh(e,768,1024)}function by(e,t,n,r,i,o,s,a,u,l,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,l,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,u,l,c,h){const d=t.bindings.length;let f=!1;return d>0&&Jm(e,t,0,n)&&(f=!0),d>1&&Jm(e,t,1,r)&&(f=!0),d>2&&Jm(e,t,2,i)&&(f=!0),d>3&&Jm(e,t,3,o)&&(f=!0),d>4&&Jm(e,t,4,s)&&(f=!0),d>5&&Jm(e,t,5,a)&&(f=!0),d>6&&Jm(e,t,6,u)&&(f=!0),d>7&&Jm(e,t,7,l)&&(f=!0),d>8&&Jm(e,t,8,c)&&(f=!0),d>9&&Jm(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,o,s,a,u,l,c,h);case 2:return function(e,t,n,r,i,o,s,a,u,l,c,h){let d=!1;const f=t.bindings,p=f.length;if(p>0&&id(e,t,0,n)&&(d=!0),p>1&&id(e,t,1,r)&&(d=!0),p>2&&id(e,t,2,i)&&(d=!0),p>3&&id(e,t,3,o)&&(d=!0),p>4&&id(e,t,4,s)&&(d=!0),p>5&&id(e,t,5,a)&&(d=!0),p>6&&id(e,t,6,u)&&(d=!0),p>7&&id(e,t,7,l)&&(d=!0),p>8&&id(e,t,8,c)&&(d=!0),p>9&&id(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;p>0&&(d+=ay(n,f[0])),p>1&&(d+=ay(r,f[1])),p>2&&(d+=ay(i,f[2])),p>3&&(d+=ay(o,f[3])),p>4&&(d+=ay(s,f[4])),p>5&&(d+=ay(a,f[5])),p>6&&(d+=ay(u,f[6])),p>7&&(d+=ay(l,f[7])),p>8&&(d+=ay(c,f[8])),p>9&&(d+=ay(h,f[9]));const g=zh(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,o,s,a,u,l,c,h);case 16384:return function(e,t,n,r,i,o,s,a,u,l,c,h){const d=Kh(e,t.nodeIndex),f=d.instance;let p=!1,g=void 0;const m=t.bindings.length;return m>0&&rd(e,t,0,n)&&(p=!0,g=Df(e,d,t,0,n,g)),m>1&&rd(e,t,1,r)&&(p=!0,g=Df(e,d,t,1,r,g)),m>2&&rd(e,t,2,i)&&(p=!0,g=Df(e,d,t,2,i,g)),m>3&&rd(e,t,3,o)&&(p=!0,g=Df(e,d,t,3,o,g)),m>4&&rd(e,t,4,s)&&(p=!0,g=Df(e,d,t,4,s,g)),m>5&&rd(e,t,5,a)&&(p=!0,g=Df(e,d,t,5,a,g)),m>6&&rd(e,t,6,u)&&(p=!0,g=Df(e,d,t,6,u,g)),m>7&&rd(e,t,7,l)&&(p=!0,g=Df(e,d,t,7,l,g)),m>8&&rd(e,t,8,c)&&(p=!0,g=Df(e,d,t,8,c,g)),m>9&&rd(e,t,9,h)&&(p=!0,g=Df(e,d,t,9,h,g)),g&&f.ngOnChanges(g),65536&t.flags&&Hh(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,r,i,o,s,a,u,l,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,u,l,c,h){const d=t.bindings;let f=!1;const p=d.length;if(p>0&&id(e,t,0,n)&&(f=!0),p>1&&id(e,t,1,r)&&(f=!0),p>2&&id(e,t,2,i)&&(f=!0),p>3&&id(e,t,3,o)&&(f=!0),p>4&&id(e,t,4,s)&&(f=!0),p>5&&id(e,t,5,a)&&(f=!0),p>6&&id(e,t,6,u)&&(f=!0),p>7&&id(e,t,7,l)&&(f=!0),p>8&&id(e,t,8,c)&&(f=!0),p>9&&id(e,t,9,h)&&(f=!0),f){const f=Wh(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=s),p>5&&(g[5]=a),p>6&&(g[6]=u),p>7&&(g[7]=l),p>8&&(g[8]=c),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=s),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=u),p>7&&(g[d[7].name]=l),p>8&&(g[d[8].name]=c),p>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(p){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,o);break;case 5:g=e.transform(r,i,o,s);break;case 6:g=e.transform(r,i,o,s,a);break;case 7:g=e.transform(r,i,o,s,a,u);break;case 8:g=e.transform(r,i,o,s,a,u,l);break;case 9:g=e.transform(r,i,o,s,a,u,l,c);break;case 10:g=e.transform(r,i,o,s,a,u,l,c,h)}}f.value=g}return f}(e,t,n,r,i,o,s,a,u,l,c,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,u,l,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Jm(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)id(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=ay(n[e],r[e]);i=t.text.prefix+i;const o=zh(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=Kh(e,t.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)rd(e,t,a,n[a])&&(o=!0,s=Df(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&Hh(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)id(e,t,o,n[o])&&(i=!0);if(i){const i=Wh(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let t=0;t<n.length;t++)o[r[t].name]=n[t];break;case 128:const e=n[0],i=n.slice(1);o=e.transform(...i)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function wy(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=Gh(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,ad(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function _y(e,t,n,r,i,o,s,a,u,l,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,l,c,h){const d=t.bindings.length;d>0&&od(e,t,0,n);d>1&&od(e,t,1,r);d>2&&od(e,t,2,i);d>3&&od(e,t,3,o);d>4&&od(e,t,4,s);d>5&&od(e,t,5,a);d>6&&od(e,t,6,u);d>7&&od(e,t,7,l);d>8&&od(e,t,8,c);d>9&&od(e,t,9,h)}(e,t,r,i,o,s,a,u,l,c,h,d):function(e,t,n){for(let r=0;r<n.length;r++)od(e,t,r,n[r])}(e,t,r),!1}function Cy(e,t){if(Qh(e,t.nodeIndex).dirty)throw Uh($h.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Ey(e){if(!(128&e.state)){if(Dy(e,Sy.Destroy),Ty(e,Sy.Destroy),If(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=ld(e);if(t){const n=t.template._projectedViews;n&&(jd(n,n.indexOf(e)),$h.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Gh(e,n).renderElement):2&t.flags?e.renderer.destroyNode(zh(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&Qh(e,n).destroy()}}(e),dd(e)&&e.renderer.destroy(),e.state|=128}}Gm.decorators=[{type:xg,args:[{providers:Hm}]}],Gm.ctorParameters=(()=>[{type:Cm}]);const Sy={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};function Ty(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Iy(Gh(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Dy(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=Gh(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Iy(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Iy(e,t){const n=e.state;switch(t){case Sy.CheckNoChanges:0==(128&n)&&(12==(12&n)?yy(e):64&n&&Ay(e,Sy.CheckNoChangesProjectedViews));break;case Sy.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?yy(e):64&n&&Ay(e,t));break;case Sy.CheckAndUpdate:0==(128&n)&&(12==(12&n)?vy(e):64&n&&Ay(e,Sy.CheckAndUpdateProjectedViews));break;case Sy.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?vy(e):64&n&&Ay(e,t));break;case Sy.Destroy:Ey(e);break;case Sy.CreateViewNodes:my(e)}}function Ay(e,t){Dy(e,t),Ty(e,t)}function ky(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch($h.setCurrentNode(e,i.nodeIndex),r){case 0:Zm(e,i);break;case 1:Cy(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}Sy[Sy.CreateViewNodes]="CreateViewNodes",Sy[Sy.CheckNoChanges]="CheckNoChanges",Sy[Sy.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",Sy[Sy.CheckAndUpdate]="CheckAndUpdate",Sy[Sy.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",Sy[Sy.Destroy]="Destroy";let Ny=!1;function xy(){if(Ny)return;Ny=!0;const e=wo()?{setCurrentNode:ev,createRootView:Ry,createEmbeddedView:My,createComponentView:Fy,createNgModuleRef:Ly,overrideProvider:jy,overrideComponentView:qy,clearOverrides:Hy,checkAndUpdateView:Wy,checkNoChangesView:Qy,destroyView:$y,createDebugContext:(e,t)=>new uv(e,t),handleEvent:tv,updateDirectives:nv,updateRenderer:rv}:{setCurrentNode:()=>{},createRootView:Oy,createEmbeddedView:hy,createComponentView:fy,createNgModuleRef:rf,overrideProvider:Yh,overrideComponentView:Yh,clearOverrides:Yh,checkAndUpdateView:vy,checkNoChangesView:yy,destroyView:Ey,createDebugContext:(e,t)=>new uv(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Gy:Ky,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Gy:Ky,e)};$h.setCurrentNode=e.setCurrentNode,$h.createRootView=e.createRootView,$h.createEmbeddedView=e.createEmbeddedView,$h.createComponentView=e.createComponentView,$h.createNgModuleRef=e.createNgModuleRef,$h.overrideProvider=e.overrideProvider,$h.overrideComponentView=e.overrideComponentView,$h.clearOverrides=e.clearOverrides,$h.checkAndUpdateView=e.checkAndUpdateView,$h.checkNoChangesView=e.checkNoChangesView,$h.destroyView=e.destroyView,$h.resolveDep=Sf,$h.createDebugContext=e.createDebugContext,$h.handleEvent=e.handleEvent,$h.updateDirectives=e.updateDirectives,$h.updateRenderer=e.updateRenderer,$h.dirtyParentQueries=Xm}function Oy(e,t,n,r,i,o){const s=i.injector.get(hh);return dy(Py(e,i,s,t,n),r,o)}function Ry(e,t,n,r,i,o){const s=i.injector.get(hh),a=Py(e,i,new dv(s),t,n),u=zy(r);return cv(Yy.create,dy,null,[a,u,o])}function Py(e,t,n,r,i){const o=t.injector.get($o),s=t.injector.get(go),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function My(e,t,n,r){const i=zy(n);return cv(Yy.create,hy,null,[e,t,i,r])}function Fy(e,t,n,r){const i=By.get(t.element.componentProvider.provider.token);return n=i||zy(n),cv(Yy.create,fy,null,[e,t,n,r])}function Ly(e,t,n,r){return rf(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;if(0===Vy.size)return{hasOverrides:t,hasDeprecatedOverrides:n};return e.providers.forEach(e=>{const r=Vy.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Uy.forEach((r,i)=>{Se(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);if(!t)return e;return function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=Vy.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=md(i.deps),r.value=i.value)}if(Uy.size>0){let t=new Set(e.modules);Uy.forEach((r,i)=>{if(t.has(Se(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:md(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Xh(i)]=t}})}}(e=e.factory(()=>Yh)),e}(r))}const Vy=new Map,Uy=new Map,By=new Map;function jy(e){let t;Vy.set(e.token,e),"function"==typeof e.token&&(t=Se(e.token))&&"function"==typeof t.providedIn&&Uy.set(e.token,e)}function qy(e,t){const n=bd(t.viewDefFactory);const r=bd(n.nodes[0].element.componentView);By.set(e,r)}function Hy(){Vy.clear(),Uy.clear(),By.clear()}function zy(e){if(0===Vy.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Vy.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Yh);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Vy.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=md(n.deps),e.value=n.value)}}}}function Gy(e,t,n,r,i,o,s,a,u,l,c,h,d){const f=e.def.nodes[t];return by(e,f,n,r,i,o,s,a,u,l,c,h,d),224&f.flags?Wh(e,t).value:void 0}function Ky(e,t,n,r,i,o,s,a,u,l,c,h,d){const f=e.def.nodes[t];return _y(e,f,n,r,i,o,s,a,u,l,c,h,d),224&f.flags?Wh(e,t).value:void 0}function Wy(e){return cv(Yy.detectChanges,vy,null,[e])}function Qy(e){return cv(Yy.checkNoChanges,yy,null,[e])}function $y(e){return cv(Yy.destroy,Ey,null,[e])}const Yy={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};let Jy,Xy,Zy;function ev(e,t){Xy=e,Zy=t}function tv(e,t,n,r){return ev(e,t),cv(Yy.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function nv(e,t){if(128&e.state)throw jh(Yy[Jy]);return ev(e,sv(e,0)),e.def.updateDirectives(function(e,n,r,...i){const o=e.def.nodes[n];0===t?iv(e,o,r,i):ov(e,o,r,i);16384&o.flags&&ev(e,sv(e,n));return 224&o.flags?Wh(e,o.nodeIndex).value:void 0},e)}function rv(e,t){if(128&e.state)throw jh(Yy[Jy]);return ev(e,av(e,0)),e.def.updateRenderer(function(e,n,r,...i){const o=e.def.nodes[n];0===t?iv(e,o,r,i):ov(e,o,r,i);3&o.flags&&ev(e,av(e,n));return 224&o.flags?Wh(e,o.nodeIndex).value:void 0},e)}function iv(e,t,n,r){if(by(e,t,n,...r)){const i=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],o=i[e];8&r.flags&&(n[as(r.nonMinifiedName)]=ls(o))}const r=t.parent,o=Gh(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(o,t,r):e.renderer.removeAttribute(o,t)}else e.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}}function ov(e,t,n,r){_y(e,t,n,...r)}function sv(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function av(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}Yy[Yy.create]="create",Yy[Yy.detectChanges]="detectChanges",Yy[Yy.checkNoChanges]="checkNoChanges",Yy[Yy.destroy]="destroy",Yy[Yy.handleEvent]="handleEvent";class uv{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=cd(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Gh(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Xd(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){lv(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&lv(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!dd(e);)e=e.parent;if(e.parent)return Gh(e.parent,cd(e).nodeIndex);return null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?hd(this.view,this.nodeDef):hd(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++){const t=e.nodes[r];3&t.flags&&n++}return n}(n,r);let o=-1;n.factory(()=>++o===i?e.error.bind(e,...t):Yh),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function lv(e,t,n){for(let r in t.references)n[r]=ty(e,t,t.references[r])}function cv(e,t,n,r){const i=Jy,o=Xy,s=Zy;try{Jy=e;const u=t.apply(n,r);return Xy=o,Zy=s,Jy=i,u}catch(a){if(ho(a)||!Xy)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Bh(e,t),e}(a,hv())}}function hv(){return Xy?new uv(Xy,Zy):null}class dv{constructor(e){this.delegate=e}createRenderer(e,t){return new fv(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class fv{constructor(e){this.delegate=e,this.debugContextFactory=hv,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){!function(e){Pm.delete(e.nativeNode)}(Mm(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new Rm(n,null,r);t.name=e,Fm(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Fm(new Om(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Fm(new Om(t,null,n)),t}appendChild(e,t){const n=Mm(e),r=Mm(t);n&&r&&n instanceof Rm&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=Mm(e),i=Mm(t),o=Mm(n);r&&i&&r instanceof Rm&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Mm(e),r=Mm(t);n&&r&&n instanceof Rm&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=hv();return r&&Fm(new Rm(n,null,r)),n}setAttribute(e,t,n,r){const i=Mm(e);if(i&&i instanceof Rm){const e=r?r+":"+t:t;i.attributes[e]=n}this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Mm(e);if(r&&r instanceof Rm){const e=n?n+":"+t:t;r.attributes[e]=null}this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Mm(e);n&&n instanceof Rm&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Mm(e);n&&n instanceof Rm&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Mm(e);i&&i instanceof Rm&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Mm(e);r&&r instanceof Rm&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Mm(e);r&&r instanceof Rm&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Mm(e);r&&r.listeners.push(new xm(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function pv(e,t,n){return new gv(e,t,n)}class gv extends th{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){xy();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(bd(this._ngModuleDefFactory));return $h.createNgModuleRef(this.moduleType,e||at.NULL,this._bootstrapComponents,t)}}class mv{}const yv=new _(e=>e.complete());function vv(e){return e?function(e){return new _(t=>e.schedule(()=>t.complete()))}(e):yv}function bv(e){const t=new _(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function wv(...e){let t=e[e.length-1];switch(k(t)?e.pop():t=void 0,e.length){case 0:return vv(t);case 1:return t?z(e,t):bv(e[0]);default:return z(e,t)}}class _v{constructor(e,t){this.messageService=e,this.afAuth=t,this.title="quiz",this.hideOnQuizScreen=!1,this.apple=wv(2,3,5)}ngOnInit(){console.log(this.apple.subscribe()),this.messageService.getMessage().subscribe(e=>{"true"==e&&(this.hideOnQuizScreen=!0)})}}class Cv{}const Ev=new tt("Location Initialized");class Sv{}const Tv=new tt("appBaseHref");class Dv{constructor(e,t){this._subject=new Wp,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Dv.stripTrailingSlash(Iv(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Dv.normalizeQueryParams(t))}normalize(e){return Dv.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Iv(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dv.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dv.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-("/"===e[n-1]?1:0);return e.slice(0,r)+e.slice(n)}}function Iv(e){return e.replace(/\/index.html$/,"")}Dv.decorators=[{type:Ze}],Dv.ctorParameters=(()=>[{type:Sv},{type:Cv}]);class Av extends Sv{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Dv.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+Dv.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+Dv.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}Av.decorators=[{type:Ze}],Av.ctorParameters=(()=>[{type:Cv},{type:String,decorators:[{type:pe},{type:fe,args:[Tv]}]}]);class kv extends Sv{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Dv.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Dv.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+Dv.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+Dv.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}kv.decorators=[{type:Ze}],kv.ctorParameters=(()=>[{type:Cv},{type:String,decorators:[{type:pe},{type:fe,args:[Tv]}]}]);var Nv=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const xv={};const Ov={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Rv={Decimal:0,Percent:1,Currency:2,Scientific:3};Rv[Rv.Decimal]="Decimal",Rv[Rv.Percent]="Percent",Rv[Rv.Currency]="Currency",Rv[Rv.Scientific]="Scientific";const Pv={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};Pv[Pv.Zero]="Zero",Pv[Pv.One]="One",Pv[Pv.Two]="Two",Pv[Pv.Few]="Few",Pv[Pv.Many]="Many",Pv[Pv.Other]="Other";const Mv={Format:0,Standalone:1};Mv[Mv.Format]="Format",Mv[Mv.Standalone]="Standalone";const Fv={Narrow:0,Abbreviated:1,Wide:2,Short:3};Fv[Fv.Narrow]="Narrow",Fv[Fv.Abbreviated]="Abbreviated",Fv[Fv.Wide]="Wide",Fv[Fv.Short]="Short";const Lv={Short:0,Medium:1,Long:2,Full:3};Lv[Lv.Short]="Short",Lv[Lv.Medium]="Medium",Lv[Lv.Long]="Long",Lv[Lv.Full]="Full";const Vv={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};Vv[Vv.Decimal]="Decimal",Vv[Vv.Group]="Group",Vv[Vv.List]="List",Vv[Vv.PercentSign]="PercentSign",Vv[Vv.PlusSign]="PlusSign",Vv[Vv.MinusSign]="MinusSign",Vv[Vv.Exponential]="Exponential",Vv[Vv.SuperscriptingExponent]="SuperscriptingExponent",Vv[Vv.PerMille]="PerMille",Vv[Vv.Infinity]="Infinity",Vv[Vv.NaN]="NaN",Vv[Vv.TimeSeparator]="TimeSeparator",Vv[Vv.CurrencyDecimal]="CurrencyDecimal",Vv[Vv.CurrencyGroup]="CurrencyGroup";const Uv={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function Bv(e,t){return Kv(Qv(e)[10],t)}function jv(e,t){return Kv(Qv(e)[11],t)}function qv(e,t){return Kv(Qv(e)[12],t)}function Hv(e,t){const n=Qv(e),r=n[13][t];if(void 0===r){if(t===Vv.CurrencyDecimal)return n[13][Vv.Decimal];if(t===Vv.CurrencyGroup)return n[13][Vv.Group]}return r}function zv(e,t){return Qv(e)[14][t]}function Gv(e){if(!e[19])throw new Error(`Missing extra locale data for the locale "${e[0]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Kv(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Wv(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function Qv(e){const t=e.toLowerCase().replace(/_/g,"-");let n=xv[t];if(n)return n;const r=t.split("-")[0];if(n=xv[r])return n;if("en"===r)return Nv;throw new Error(`Missing locale data for the locale "${e}".`)}function $v(e,t,n="en"){const r=function(e){return Qv(e)[17]}(n)[e]||Ov[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}Uv[Uv.Sunday]="Sunday",Uv[Uv.Monday]="Monday",Uv[Uv.Tuesday]="Tuesday",Uv[Uv.Wednesday]="Wednesday",Uv[Uv.Thursday]="Thursday",Uv[Uv.Friday]="Friday",Uv[Uv.Saturday]="Saturday";const Yv=2;const Jv=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xv={},Zv=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,eb={Short:0,ShortGMT:1,Long:2,Extended:3};eb[eb.Short]="Short",eb[eb.ShortGMT]="ShortGMT",eb[eb.Long]="Long",eb[eb.Extended]="Extended";const tb={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};tb[tb.FullYear]="FullYear",tb[tb.Month]="Month",tb[tb.Date]="Date",tb[tb.Hours]="Hours",tb[tb.Minutes]="Minutes",tb[tb.Seconds]="Seconds",tb[tb.FractionalSeconds]="FractionalSeconds",tb[tb.Day]="Day";const nb={DayPeriods:0,Days:1,Months:2,Eras:3};function rb(e,t,n,r){let i=function(e){if(gb(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(Jv))return pb(n)}const t=new Date(e);if(!gb(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=function(e){return Qv(e)[0]}(t);Xv[r]=Xv[r]||{};if(Xv[r][n])return Xv[r][n];let i="";switch(n){case"shortDate":i=Bv(t,Lv.Short);break;case"mediumDate":i=Bv(t,Lv.Medium);break;case"longDate":i=Bv(t,Lv.Long);break;case"fullDate":i=Bv(t,Lv.Full);break;case"shortTime":i=jv(t,Lv.Short);break;case"mediumTime":i=jv(t,Lv.Medium);break;case"longTime":i=jv(t,Lv.Long);break;case"fullTime":i=jv(t,Lv.Full);break;case"short":const r=e(t,"shortTime"),o=e(t,"shortDate");i=ib(qv(t,Lv.Short),[r,o]);break;case"medium":const s=e(t,"mediumTime"),a=e(t,"mediumDate");i=ib(qv(t,Lv.Medium),[s,a]);break;case"long":const u=e(t,"longTime"),l=e(t,"longDate");i=ib(qv(t,Lv.Long),[u,l]);break;case"full":const c=e(t,"fullTime"),h=e(t,"fullDate");i=ib(qv(t,Lv.Full),[c,h])}i&&(Xv[r][n]=i);return i}(n,t)||t;let o,s=[];for(;t;){if(!(o=Zv.exec(t))){s.push(t);break}{const e=(s=s.concat(o.slice(1))).pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=fb(r,a),i=function(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset(),o=fb(t,i);return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(o-i))}(i,r,!0));let u="";return s.forEach(e=>{const t=function(e){if(db[e])return db[e];let t;switch(e){case"G":case"GG":case"GGG":t=ab(nb.Eras,Fv.Abbreviated);break;case"GGGG":t=ab(nb.Eras,Fv.Wide);break;case"GGGGG":t=ab(nb.Eras,Fv.Narrow);break;case"y":t=sb(tb.FullYear,1,0,!1,!0);break;case"yy":t=sb(tb.FullYear,2,0,!0,!0);break;case"yyy":t=sb(tb.FullYear,3,0,!1,!0);break;case"yyyy":t=sb(tb.FullYear,4,0,!1,!0);break;case"M":case"L":t=sb(tb.Month,1,1);break;case"MM":case"LL":t=sb(tb.Month,2,1);break;case"MMM":t=ab(nb.Months,Fv.Abbreviated);break;case"MMMM":t=ab(nb.Months,Fv.Wide);break;case"MMMMM":t=ab(nb.Months,Fv.Narrow);break;case"LLL":t=ab(nb.Months,Fv.Abbreviated,Mv.Standalone);break;case"LLLL":t=ab(nb.Months,Fv.Wide,Mv.Standalone);break;case"LLLLL":t=ab(nb.Months,Fv.Narrow,Mv.Standalone);break;case"w":t=hb(1);break;case"ww":t=hb(2);break;case"W":t=hb(1,!0);break;case"d":t=sb(tb.Date,1);break;case"dd":t=sb(tb.Date,2);break;case"E":case"EE":case"EEE":t=ab(nb.Days,Fv.Abbreviated);break;case"EEEE":t=ab(nb.Days,Fv.Wide);break;case"EEEEE":t=ab(nb.Days,Fv.Narrow);break;case"EEEEEE":t=ab(nb.Days,Fv.Short);break;case"a":case"aa":case"aaa":t=ab(nb.DayPeriods,Fv.Abbreviated);break;case"aaaa":t=ab(nb.DayPeriods,Fv.Wide);break;case"aaaaa":t=ab(nb.DayPeriods,Fv.Narrow);break;case"b":case"bb":case"bbb":t=ab(nb.DayPeriods,Fv.Abbreviated,Mv.Standalone,!0);break;case"bbbb":t=ab(nb.DayPeriods,Fv.Wide,Mv.Standalone,!0);break;case"bbbbb":t=ab(nb.DayPeriods,Fv.Narrow,Mv.Standalone,!0);break;case"B":case"BB":case"BBB":t=ab(nb.DayPeriods,Fv.Abbreviated,Mv.Format,!0);break;case"BBBB":t=ab(nb.DayPeriods,Fv.Wide,Mv.Format,!0);break;case"BBBBB":t=ab(nb.DayPeriods,Fv.Narrow,Mv.Format,!0);break;case"h":t=sb(tb.Hours,1,-12);break;case"hh":t=sb(tb.Hours,2,-12);break;case"H":t=sb(tb.Hours,1);break;case"HH":t=sb(tb.Hours,2);break;case"m":t=sb(tb.Minutes,1);break;case"mm":t=sb(tb.Minutes,2);break;case"s":t=sb(tb.Seconds,1);break;case"ss":t=sb(tb.Seconds,2);break;case"S":t=sb(tb.FractionalSeconds,1);break;case"SS":t=sb(tb.FractionalSeconds,2);break;case"SSS":t=sb(tb.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ub(eb.Short);break;case"ZZZZZ":t=ub(eb.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ub(eb.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ub(eb.Long);break;default:return null}return db[e]=t,t}(e);u+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function ib(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function ob(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function sb(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function(e,t){switch(e){case tb.FullYear:return t.getFullYear();case tb.Month:return t.getMonth();case tb.Date:return t.getDate();case tb.Hours:return t.getHours();case tb.Minutes:return t.getMinutes();case tb.Seconds:return t.getSeconds();case tb.FractionalSeconds:return t.getMilliseconds();case tb.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===tb.Hours)0===a&&-12===n&&(a=12);else if(e===tb.FractionalSeconds)return u=t,ob(a,3).substr(0,u);var u;const l=Hv(s,Vv.MinusSign);return ob(a,t,l,r,i)}}function ab(e,t,n=Mv.Format,r=!1){return function(i,o){return function(e,t,n,r,i,o){switch(n){case nb.Months:return function(e,t,n){const r=Qv(e),i=Kv([r[5],r[6]],t);return Kv(i,n)}(t,i,r)[e.getMonth()];case nb.Days:return function(e,t,n){const r=Qv(e),i=Kv([r[3],r[4]],t);return Kv(i,n)}(t,i,r)[e.getDay()];case nb.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const e=function(e){const t=Qv(e);return Gv(t),(t[19][2]||[]).map(e=>"string"==typeof e?Wv(e):[Wv(e[0]),Wv(e[1])])}(t),n=function(e,t,n){const r=Qv(e);Gv(r);const i=Kv([r[19][0],r[19][1]],t)||[];return Kv(i,n)||[]}(t,i,r);let o;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:i}=e[0],{hours:u,minutes:l}=e[1];s>=r&&a>=i&&(s<u||s===u&&a<l)&&(o=n[t])}else{const{hours:r,minutes:i}=e;r===s&&i===a&&(o=n[t])}}),o)return o}return function(e,t,n){const r=Qv(e),i=Kv([r[1],r[2]],t);return Kv(i,n)}(t,i,r)[s<12?0:1];case nb.Eras:return function(e,t){return Kv(Qv(e)[7],t)}(t,r)[e.getFullYear()<=0?0:1];default:const u=n;throw new Error(`unexpected translation type ${u}`)}}(i,o,e,t,n,r)}}function ub(e){return function(t,n,r){const i=-1*r,o=Hv(n,Vv.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case eb.Short:return(i>=0?"+":"")+ob(s,2,o)+ob(Math.abs(i%60),2,o);case eb.ShortGMT:return"GMT"+(i>=0?"+":"")+ob(s,1,o);case eb.Long:return"GMT"+(i>=0?"+":"")+ob(s,2,o)+":"+ob(Math.abs(i%60),2,o);case eb.Extended:return 0===r?"Z":(i>=0?"+":"")+ob(s,2,o)+":"+ob(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}nb[nb.DayPeriods]="DayPeriods",nb[nb.Days]="Days",nb[nb.Months]="Months",nb[nb.Eras]="Eras";const lb=0,cb=4;function hb(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,lb,1).getDay();return new Date(e,0,1+(t<=cb?cb:cb+7)-t)}(n.getFullYear()),t=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(cb-o.getDay()))).getTime()-e.getTime();i=1+Math.round(t/6048e5)}var o;return ob(i,e,Hv(r,Vv.MinusSign))}}const db={};function fb(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function pb(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),l=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,l),t}function gb(e){return e instanceof Date&&!isNaN(e.valueOf())}const mb=/^(\d+)?\.((\d+)(-(\d+))?)?$/,yb=22,vb=".",bb="0",wb=";",_b=",",Cb="#",Eb="\xa4",Sb="%";function Tb(e,t,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(e)){let l=function(e){let t,n,r,i,o,s=Math.abs(e)+"",a=0;(n=s.indexOf(vb))>-1&&(s=s.replace(vb,""));(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length);for(r=0;s.charAt(r)===bb;r++);if(r===(o=s.length))t=[0],n=1;else{for(o--;s.charAt(o)===bb;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(s.charAt(r))}n>yb&&(t=t.splice(0,yb-1),a=n-1,n=1);return{digits:t,exponent:a,integerLen:n}}(e);s&&(l=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2);return e}(l));let c=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const e=o.match(mb);if(null===e)throw new Error(`${o} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(c=Ab(t)),null!=n&&(h=Ab(n)),null!=r?d=Ab(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let e=s;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let e=1;e<s;e++)r[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const l=t+e.integerLen,c=r.reduceRight(function(e,t,n,r){return t+=e,r[n]=t<10?t:t-10,u&&(0===r[n]&&n>=l?r.pop():u=!1),t>=10?1:0},0);c&&(r.unshift(c),e.integerLen++)}(l,h,d);let f=l.digits,p=l.integerLen;const g=l.exponent;let m=[];for(u=f.every(e=>!e);p<c;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(Hv(n,r)),m.length&&(a+=Hv(n,i)+m.join("")),g&&(a+=Hv(n,Vv.Exponential)+"+"+g)}else a=Hv(n,Vv.Infinity);return a=e<0&&!u?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}function Db(e,t,n,r,i){const o=Ib(zv(t,Rv.Currency),Hv(t,Vv.MinusSign));return o.minFrac=function(e){let t;const n=Ov[e];return n&&(t=n[2]),"number"==typeof t?t:Yv}(r),o.maxFrac=o.minFrac,Tb(e,o,t,Vv.CurrencyGroup,Vv.CurrencyDecimal,i).replace(Eb,n).replace(Eb,"")}function Ib(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(wb),i=r[0],o=r[1],s=-1!==i.indexOf(vb)?i.split(vb):[i.substring(0,i.lastIndexOf(bb)+1),i.substring(i.lastIndexOf(bb)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf(Cb));for(let c=0;c<u.length;c++){const e=u.charAt(c);e===bb?n.minFrac=n.maxFrac=c+1:e===Cb?n.maxFrac=c+1:n.posSuf+=e}const l=a.split(_b);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const e=i.length-n.posPre.length-n.posSuf.length,t=o.indexOf(Cb);n.negPre=o.substr(0,t).replace(/'/g,""),n.negSuf=o.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Ab(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const kb=new tt("UseV4Plurals");class Nb{}function xb(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}class Ob extends Nb{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return Qv(e)[18]}(t||this.locale)(e)){case Pv.Zero:return"zero";case Pv.One:return"one";case Pv.Two:return"two";case Pv.Few:return"few";case Pv.Many:return"many";default:return"other"}}}function Rb(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}Ob.decorators=[{type:Ze}],Ob.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]},{type:void 0,decorators:[{type:pe},{type:fe,args:[kb]}]}]);class Pb{constructor(e,t){this._name=e,this._options=t,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}setValue(e){if(Array.isArray(e))this._lastSetValueType=4;else if(e instanceof Set)this._lastSetValueType=8;else if(e&&"string"==typeof e){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=e?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=e||null}hasValueChanged(){let e=this._lastSetValueIdentityChange;if(!(e||14&this._lastSetValueType))return!1;let t=null;const n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:const o=this._lastSetValue.split(/\s+/g);16&this._options?(t={},o.forEach((e,n)=>t[e]=!0)):t=o.reduce((e,t,n)=>e+(n?" ":"")+t);break;case 2:const s=this._lastSetValue,a=Object.keys(s);e||(e=!this.value||function(e,t,n){const r=Object.keys(t),i=e;if(!Ub(r,i))return!0;for(let o=0;o<i.length;o++){const e=i[o];if(t[e]!==n[e])return!0}return!1}(a,this.value,s)),e&&(t=Mb(this._name,n,r,i,s,a));break;case 4:case 8:const u=Array.from(this._lastSetValue);if(!e){e=!Ub(Object.keys(this.value),u)}e&&(t=Mb(this._name,n,r,i,u));break;default:t=null}return e&&(this.value=t),e}}function Mb(e,t,n,r,i,o){const s={};if(o)for(let a=0;a<o.length;a++){let e=o[a];Lb(s,e=t?e.trim():e,i[e],n,r)}else for(let a=0;a<i.length;a++){let n=i[a];Fb(e,n),Lb(s,n=t?n.trim():n,!0,!1,r)}return s}function Fb(e,t){if("string"!=typeof t)throw new Error(`${e} can only toggle CSS classes expressed as strings, got ${t}`)}function Lb(e,t,n,r,i){if(i&&t.indexOf(" ")>0){const i=t.split(/\s+/g);for(let t=0;t<i.length;t++)Vb(e,i[t],n,r)}else Vb(e,t,n,r)}function Vb(e,t,n,r){if(r){const e=function(e,t){const n=e.indexOf(".");if(n>0){const r=e.substr(n+1);e=e.substring(0,n),null!=t&&(t+=r)}return{key:e,value:t}}(t,n);n=e.value,t=e.key}e[t]=n}function Ub(e,t){if(e&&t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(-1===t.indexOf(e[n]))return!1;return!0}return!1}class Bb{}class jb{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(jl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ae(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}jb.decorators=[{type:Ze}],jb.ctorParameters=(()=>[{type:Ih},{type:Ah},{type:lh},{type:fh}]);class qb{constructor(){this._value=null,this._ngClassDiffer=new Pb("NgClass",23),this._classStringDiffer=null}getValue(){return this._value}setClass(e){(e||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new Pb("class",20),this._classStringDiffer.setValue(e))}setNgClass(e){this._ngClassDiffer.setValue(e)}applyChanges(){const e=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),t=this._ngClassDiffer.hasValueChanged();if(e||t){let e=this._ngClassDiffer.value;if(this._classStringDiffer){let t=this._classStringDiffer.value;t&&(e=e?Object.assign({},t,e):t)}this._value=e}}}qb.decorators=[{type:Ze}];const Hb={provide:Bb,useClass:jb};mn({type:function(){},selectors:null,factory:()=>{},hostBindings:function(e,t,n){1&e&&el(),2&e&&(ll(t.getValue()),hl())}});class zb{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}zb.ngDirectiveDef=void 0;class Gb extends zb{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}Gb.decorators=[{type:_g,args:[{selector:"[ngClass]",providers:[Hb]}]}],Gb.ctorParameters=(()=>[{type:Bb}]),Gb.propDecorators={klass:[{type:Sg,args:["class"]}],ngClass:[{type:Sg,args:["ngClass"]}]};class Kb{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(eh);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(Jc)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}Kb.decorators=[{type:_g,args:[{selector:"[ngComponentOutlet]"}]}],Kb.ctorParameters=(()=>[{type:Lh}]),Kb.propDecorators={ngComponentOutlet:[{type:Sg}],ngComponentOutletInjector:[{type:Sg}],ngComponentOutletContent:[{type:Sg}],ngComponentOutletNgModuleFactory:[{type:Sg}]};class Wb{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Qb{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){wo()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Wb(null,this._ngForOf,-1,-1),r),i=new $b(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new $b(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}Qb.decorators=[{type:_g,args:[{selector:"[ngFor][ngForOf]"}]}],Qb.ctorParameters=(()=>[{type:Lh},{type:Mh},{type:Ih}]),Qb.propDecorators={ngForOf:[{type:Sg}],ngForTrackBy:[{type:Sg}],ngForTemplate:[{type:Sg}]};class $b{constructor(e,t){this.record=e,this.view=t}}class Yb{constructor(e,t){this._viewContainer=e,this._context=new Jb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xb("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xb("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateGuard_ngIf(e,t){return!0}}Yb.decorators=[{type:_g,args:[{selector:"[ngIf]"}]}],Yb.ctorParameters=(()=>[{type:Lh},{type:Mh}]),Yb.propDecorators={ngIf:[{type:Sg}],ngIfThen:[{type:Sg}],ngIfElse:[{type:Sg}]};class Jb{constructor(){this.$implicit=null,this.ngIf=null}}function Xb(e,t){if(!!(t&&!t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ae(t)}'.`)}class Zb{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class ew{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++){this._defaultViews[t].enforceState(e)}}}}ew.decorators=[{type:_g,args:[{selector:"[ngSwitch]"}]}],ew.propDecorators={ngSwitch:[{type:Sg}]};class tw{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Zb(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}tw.decorators=[{type:_g,args:[{selector:"[ngSwitchCase]"}]}],tw.ctorParameters=(()=>[{type:Lh},{type:Mh},{type:ew,decorators:[{type:ye}]}]),tw.propDecorators={ngSwitchCase:[{type:Sg}]};class nw{constructor(e,t,n){n._addDefault(new Zb(e,t))}}nw.decorators=[{type:_g,args:[{selector:"[ngSwitchDefault]"}]}],nw.ctorParameters=(()=>[{type:Lh},{type:Mh},{type:ew,decorators:[{type:ye}]}]);class rw{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=xb(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}rw.decorators=[{type:_g,args:[{selector:"[ngPlural]"}]}],rw.ctorParameters=(()=>[{type:Nb}]),rw.propDecorators={ngPlural:[{type:Sg}]};class iw{constructor(e,t,n,r){this.value=e;const i=!isNaN(Number(e));r.addCase(i?`=${e}`:e,new Zb(n,t))}}iw.decorators=[{type:_g,args:[{selector:"[ngPluralCase]"}]}],iw.ctorParameters=(()=>[{type:String,decorators:[{type:ve,args:["ngPluralCase"]}]},{type:Mh},{type:Lh},{type:rw,decorators:[{type:ye}]}]);class ow{}class sw{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n}getValue(){return null}setNgStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}applyChanges(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}sw.decorators=[{type:Ze}],sw.ctorParameters=(()=>[{type:lh},{type:Ah},{type:fh}]);class aw{constructor(){this._differ=new Pb("NgStyle",8),this._value=null}getValue(){return this._value}setNgStyle(e){this._differ.setValue(e)}applyChanges(){this._differ.hasValueChanged()&&(this._value=this._differ.value)}}aw.decorators=[{type:Ze}];const uw={provide:ow,useClass:sw};mn({type:function(){},selectors:null,factory:()=>{},hostBindings:function(e,t,n){1&e&&el(),2&e&&(ll(null,t.getValue()),hl())}});class lw{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}lw.ngDirectiveDef=void 0;class cw extends lw{constructor(e){super(e)}set ngStyle(e){this._delegate.setNgStyle(e)}ngDoCheck(){this._delegate.applyChanges()}}cw.decorators=[{type:_g,args:[{selector:"[ngStyle]",providers:[uw]}]}],cw.ctorParameters=(()=>[{type:ow}]),cw.propDecorators={ngStyle:[{type:Sg,args:["ngStyle"]}]};class hw{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}hw.decorators=[{type:_g,args:[{selector:"[ngTemplateOutlet]"}]}],hw.ctorParameters=(()=>[{type:Lh}]),hw.propDecorators={ngTemplateOutletContext:[{type:Sg}],ngTemplateOutlet:[{type:Sg}]};const dw=[Gb,Kb,Qb,Yb,hw,cw,ew,tw,nw,rw,iw];function fw(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Ae(e)}'`)}class pw{static format(e,t,n,r={}){const{minimumIntegerDigits:i,minimumFractionDigits:o,maximumFractionDigits:s,currency:a,currencyAsSymbol:u=!1}=r,l={minimumIntegerDigits:i,minimumFractionDigits:o,maximumFractionDigits:s,style:Rv[n].toLowerCase()};return n==Rv.Currency&&(l.currency="string"==typeof a?a:void 0,l.currencyDisplay=u?"symbol":"code"),new Intl.NumberFormat(t,l).format(e)}}const gw=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,mw={yMMMdjms:Iw(Dw([Sw("year",1),Tw("month",3),Sw("day",1),Sw("hour",1),Sw("minute",1),Sw("second",1)])),yMdjm:Iw(Dw([Sw("year",1),Sw("month",1),Sw("day",1),Sw("hour",1),Sw("minute",1)])),yMMMMEEEEd:Iw(Dw([Sw("year",1),Tw("month",4),Tw("weekday",4),Sw("day",1)])),yMMMMd:Iw(Dw([Sw("year",1),Tw("month",4),Sw("day",1)])),yMMMd:Iw(Dw([Sw("year",1),Tw("month",3),Sw("day",1)])),yMd:Iw(Dw([Sw("year",1),Sw("month",1),Sw("day",1)])),jms:Iw(Dw([Sw("hour",1),Sw("second",1),Sw("minute",1)])),jm:Iw(Dw([Sw("hour",1),Sw("minute",1)]))},yw={yyyy:Iw(Sw("year",4)),yy:Iw(Sw("year",2)),y:Iw(Sw("year",1)),MMMM:Iw(Tw("month",4)),MMM:Iw(Tw("month",3)),MM:Iw(Sw("month",2)),M:Iw(Sw("month",1)),LLLL:Iw(Tw("month",4)),L:Iw(Tw("month",1)),dd:Iw(Sw("day",2)),d:Iw(Sw("day",1)),HH:bw(ww(Iw(Ew(Sw("hour",2),!1)))),H:ww(Iw(Ew(Sw("hour",1),!1))),hh:bw(ww(Iw(Ew(Sw("hour",2),!0)))),h:ww(Iw(Ew(Sw("hour",1),!0))),jj:Iw(Sw("hour",2)),j:Iw(Sw("hour",1)),mm:bw(Iw(Sw("minute",2))),m:Iw(Sw("minute",1)),ss:bw(Iw(Sw("second",2))),s:Iw(Sw("second",1)),sss:Iw(Sw("second",3)),EEEE:Iw(Tw("weekday",4)),EEE:Iw(Tw("weekday",3)),EE:Iw(Tw("weekday",2)),E:Iw(Tw("weekday",1)),a:(vw=Iw(Ew(Sw("hour",1),!0)),function(e,t){return vw(e,t).split(" ")[1]}),Z:Cw("short"),z:Cw("long"),ww:Iw({}),w:Iw({}),G:Iw(Tw("era",1)),GG:Iw(Tw("era",2)),GGG:Iw(Tw("era",3)),GGGG:Iw(Tw("era",4))};var vw;function bw(e){return function(t,n){const r=e(t,n);return 1==r.length?"0"+r:r}}function ww(e){return function(t,n){return e(t,n).split(" ")[0]}}function _w(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function Cw(e){const t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){const r=_w(e,n,t);return r?r.substring(3):""}}function Ew(e,t){return e.hour12=t,e}function Sw(e,t){const n={};return n[e]=2===t?"2-digit":"numeric",n}function Tw(e,t){const n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function Dw(e){return e.reduce((e,t)=>Object.assign({},e,t),{})}function Iw(e){return(t,n)=>_w(t,n,e)}const Aw=new Map;class kw{static format(e,t,n){return function(e,t,n){const r=mw[e];if(r)return r(t,n);const i=e;let o=Aw.get(i);if(!o){let t;o=[],gw.exec(e);let n=e;for(;n;)(t=gw.exec(n))?n=(o=o.concat(t.slice(1))).pop():(o.push(n),n=null);Aw.set(i,o)}return o.reduce((e,r)=>{const i=yw[r];return e+(i?i(t,n):function(e){return"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,e,t)}}class Nw{constructor(e){this._locale=e}transform(e,t="mediumDate"){if(null==e||""===e||e!=e)return null;let n;if("string"==typeof e&&(e=e.trim()),xw(e))n=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,r,i]=e.split("-").map(e=>parseInt(e,10));n=new Date(t,r-1,i)}else n=new Date(e);else n=new Date(parseFloat(e));if(!xw(n)){let t;if("string"!=typeof e||!(t=e.match(Jv)))throw fw(Nw,e);n=pb(t)}return kw.format(n,this._locale,Nw._ALIASES[t]||t)}}function xw(e){return e instanceof Date&&!isNaN(e.valueOf())}function Ow(e,t,n,r,i,o=null,s=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw fw(e,n);let a,u,l;if(r!==Rv.Currency&&(a=1,u=0,l=3),i){const e=i.match(mb);if(null===e)throw new Error(`${i} is not a valid digit info for number pipes`);null!=e[1]&&(a=Ab(e[1])),null!=e[3]&&(u=Ab(e[3])),null!=e[5]&&(l=Ab(e[5]))}return pw.format(n,t,r,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:l,currency:o,currencyAsSymbol:s})}Nw._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},Nw.decorators=[{type:Eg,args:[{name:"date",pure:!0}]}],Nw.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]}]);class Rw{constructor(e){this._locale=e}transform(e,t){return Ow(Rw,this._locale,e,Rv.Decimal,t)}}Rw.decorators=[{type:Eg,args:[{name:"number"}]}],Rw.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]}]);class Pw{constructor(e){this._locale=e}transform(e,t){return Ow(Pw,this._locale,e,Rv.Percent,t)}}Pw.decorators=[{type:Eg,args:[{name:"percent"}]}],Pw.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]}]);class Mw{constructor(e){this._locale=e}transform(e,t="USD",n=!1,r){return Ow(Mw,this._locale,e,Rv.Currency,r,t,n)}}Mw.decorators=[{type:Eg,args:[{name:"currency"}]}],Mw.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]}]);const Fw=[Rw,Pw,Mw,Nw];const Lw=new class{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}},Vw=new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}};class Uw{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Vl(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Bl.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Tl(e))return Lw;if(Dl(e))return Vw;throw fw(Uw,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}Uw.decorators=[{type:Ze},{type:Eg,args:[{name:"async",pure:!1}]}],Uw.ctorParameters=(()=>[{type:kh}]);class Bw{transform(e){if(!e)return e;if("string"!=typeof e)throw fw(Bw,e);return e.toLowerCase()}}Bw.decorators=[{type:Ze},{type:Eg,args:[{name:"lowercase"}]}];const jw=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class qw{transform(e){if(!e)return e;if("string"!=typeof e)throw fw(qw,e);return e.replace(jw,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}qw.decorators=[{type:Ze},{type:Eg,args:[{name:"titlecase"}]}];class Hw{transform(e){if(!e)return e;if("string"!=typeof e)throw fw(Hw,e);return e.toUpperCase()}}Hw.decorators=[{type:Ze},{type:Eg,args:[{name:"uppercase"}]}];class zw{constructor(e){this.locale=e}transform(e,t="mediumDate",n,r){if(null==e||""===e||e!=e)return null;try{return rb(e,t,r||this.locale,n)}catch(i){throw fw(zw,i.message)}}}zw.decorators=[{type:Ze},{type:Eg,args:[{name:"date",pure:!0}]}],zw.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]}]);const Gw=/#/g;class Kw{constructor(e){this._localization=e}transform(e,t,n){if(null==e)return"";if("object"!=typeof t||null===t)throw fw(Kw,t);return t[xb(e,Object.keys(t),this._localization,n)].replace(Gw,e.toString())}}Kw.decorators=[{type:Ze},{type:Eg,args:[{name:"i18nPlural",pure:!0}]}],Kw.ctorParameters=(()=>[{type:Nb}]);class Ww{transform(e,t){if(null==e)return"";if("object"!=typeof t||"string"!=typeof e)throw fw(Ww,t);return t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("other")?t.other:""}}Ww.decorators=[{type:Ze},{type:Eg,args:[{name:"i18nSelect",pure:!0}]}];class Qw{transform(e){return JSON.stringify(e,null,2)}}Qw.decorators=[{type:Ze},{type:Eg,args:[{name:"json",pure:!1}]}];class $w{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=function(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push(function(e,t){return{key:e,value:t}}(e.key,e.currentValue))}),this.keyValues.sort(t)),this.keyValues}}$w.decorators=[{type:Ze},{type:Eg,args:[{name:"keyvalue",pure:!1}]}],$w.ctorParameters=(()=>[{type:Ah}]);class Yw{constructor(e){this._locale=e}transform(e,t,n){if(Zw(e))return null;n=n||this._locale;try{return function(e,t,n){return Tb(e,Ib(zv(t,Rv.Decimal),Hv(t,Vv.MinusSign)),t,Vv.Group,Vv.Decimal,n)}(e_(e),n,t)}catch(r){throw fw(Yw,r.message)}}}Yw.decorators=[{type:Ze},{type:Eg,args:[{name:"number"}]}],Yw.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]}]);class Jw{constructor(e){this._locale=e}transform(e,t,n){if(Zw(e))return null;n=n||this._locale;try{return function(e,t,n){return Tb(e,Ib(zv(t,Rv.Percent),Hv(t,Vv.MinusSign)),t,Vv.Group,Vv.Decimal,n,!0).replace(new RegExp(Sb,"g"),Hv(t,Vv.PercentSign))}(e_(e),n,t)}catch(r){throw fw(Jw,r.message)}}}Jw.decorators=[{type:Ze},{type:Eg,args:[{name:"percent"}]}],Jw.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]}]);class Xw{constructor(e){this._locale=e}transform(e,t,n="symbol",r,i){if(Zw(e))return null;i=i||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let o=t||"USD";"code"!==n&&(o="symbol"===n||"symbol-narrow"===n?$v(o,"symbol"===n?"wide":"narrow",i):n);try{return Db(e_(e),i,o,t,r)}catch(s){throw fw(Xw,s.message)}}}function Zw(e){return null==e||""===e||e!=e}function e_(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}Xw.decorators=[{type:Ze},{type:Eg,args:[{name:"currency"}]}],Xw.ctorParameters=(()=>[{type:String,decorators:[{type:fe,args:[Vm]}]}]);class t_{transform(e,t,n){if(null==e)return e;if(!this.supports(e))throw fw(t_,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}t_.decorators=[{type:Ze},{type:Eg,args:[{name:"slice",pure:!1}]}];const n_=[Uw,Hw,Bw,Qw,t_,Yw,Jw,qw,Xw,zw,Kw,Ww,$w];class r_{}r_.decorators=[{type:xg,args:[{declarations:[dw,n_],exports:[dw,n_],providers:[{provide:Nb,useClass:Ob}]}]}];const i_=function(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?Pv.One:Pv.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?Pv.One:Pv.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?Pv.One:Pv.Other;case"ar":return 0===n?Pv.Zero:1===n?Pv.One:2===n?Pv.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?Pv.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?Pv.Many:Pv.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?Pv.One:Pv.Other;case"be":return n%10==1&&n%100!=11?Pv.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?Pv.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?Pv.Many:Pv.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?Pv.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?Pv.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?Pv.Few:0!==n&&n%1e6==0?Pv.Many:Pv.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?Pv.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?Pv.Few:Pv.Other;case"cs":case"sk":return 1===i&&0===o?Pv.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?Pv.Few:0!==o?Pv.Many:Pv.Other;case"cy":return 0===n?Pv.Zero:1===n?Pv.One:2===n?Pv.Two:3===n?Pv.Few:6===n?Pv.Many:Pv.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?Pv.One:Pv.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?Pv.One:0===o&&i%100==2||s%100==2?Pv.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?Pv.Few:Pv.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?Pv.One:Pv.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?Pv.One:Pv.Other;case"ga":return 1===n?Pv.One:2===n?Pv.Two:n===Math.floor(n)&&n>=3&&n<=6?Pv.Few:n===Math.floor(n)&&n>=7&&n<=10?Pv.Many:Pv.Other;case"gd":return 1===n||11===n?Pv.One:2===n||12===n?Pv.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?Pv.Few:Pv.Other;case"gv":return 0===o&&i%10==1?Pv.One:0===o&&i%10==2?Pv.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?Pv.Many:Pv.Other:Pv.Few;case"he":return 1===i&&0===o?Pv.One:2===i&&0===o?Pv.Two:0!==o||n>=0&&n<=10||n%10!=0?Pv.Other:Pv.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?Pv.One:Pv.Other;case"ksh":return 0===n?Pv.Zero:1===n?Pv.One:Pv.Other;case"kw":case"naq":case"se":case"smn":return 1===n?Pv.One:2===n?Pv.Two:Pv.Other;case"lag":return 0===n?Pv.Zero:0!==i&&1!==i||0===n?Pv.Other:Pv.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?Pv.Few:0!==s?Pv.Many:Pv.Other:Pv.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?Pv.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?Pv.One:Pv.Other;case"mk":return 0===o&&i%10==1||s%10==1?Pv.One:Pv.Other;case"mt":return 1===n?Pv.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?Pv.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?Pv.Many:Pv.Other;case"pl":return 1===i&&0===o?Pv.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Pv.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?Pv.Many:Pv.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?Pv.One:Pv.Other;case"ro":return 1===i&&0===o?Pv.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?Pv.Few:Pv.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?Pv.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Pv.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?Pv.Many:Pv.Other;case"shi":return 0===i||1===n?Pv.One:n===Math.floor(n)&&n>=2&&n<=10?Pv.Few:Pv.Other;case"si":return 0===n||1===n||0===i&&1===s?Pv.One:Pv.Other;case"sl":return 0===o&&i%100==1?Pv.One:0===o&&i%100==2?Pv.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?Pv.Few:Pv.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?Pv.One:Pv.Other;default:return Pv.Other}};(class{}).decorators=[{type:xg,args:[{declarations:[Fw],exports:[Fw],providers:[{provide:kb,useValue:i_}]}]}];const o_=new tt("DocumentToken"),s_="browser",a_="server";function u_(e){return e===a_}new gh("8.0.3");class l_{}l_.ngInjectableDef=Ce({providedIn:"root",factory:()=>new c_(Ve(o_),window,Ve(go))});class c_{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=(()=>[0,0])}setOffset(e){Array.isArray(e)?this.offset=(()=>e):this.offset=e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${e}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${e}']`);if(r)return void this.scrollToElement(r)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class h_ extends I{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(e){super.next(this._value=e)}}function d_(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}d_.prototype=Object.create(Error.prototype);const f_=d_,p_={};class g_{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new m_(e,this.resultSelector))}}class m_ extends B{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(p_),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(U(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const o=this.values,s=o[n],a=this.toRespond?s===p_?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function y_(e){return new _(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?G(n):vv()).subscribe(t)})}function v_(){return Y(1)}function b_(e,t){return function(n){return n.lift(new w_(e,t))}}class w_{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new __(e,this.predicate,this.thisArg))}}class __ extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function C_(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}C_.prototype=Object.create(Error.prototype);const E_=C_;function S_(e){return function(t){return 0===e?vv():t.lift(new T_(e))}}class T_{constructor(e){if(this.total=e,this.total<0)throw new E_}call(e,t){return t.subscribe(new D_(e,this.total))}}class D_ extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;if(t.length<n)t.push(e);else{t[r%n]=e}}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function I_(e,t,n){return function(r){return r.lift(new A_(e,t,n))}}class A_{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new k_(e,this.nextOrObserver,this.error,this.complete))}}class k_ extends g{constructor(e,t,n,i){super(e),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||v,this._tapError=t.error||v,this._tapComplete=t.complete||v)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const N_=(e=function(){return new f_})=>I_({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function x_(e=null){return t=>t.lift(new O_(e))}class O_{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new R_(e,this.defaultValue))}}class R_ extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function P_(e,t){const n=arguments.length>=2;return r=>r.pipe(e?b_((t,n)=>e(t,n,r)):$,S_(1),n?x_(t):N_(()=>new f_))}function M_(e){return function(t){const n=new F_(e),r=t.lift(n);return n.caught=r}}class F_{constructor(e){this.selector=e}call(e,t){return t.subscribe(new L_(e,this.selector,this.caught))}}class L_ extends B{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new N(this,void 0,void 0);this.add(r),U(this,n,void 0,void 0,r)}}}function V_(e){return t=>0===e?vv():t.lift(new U_(e))}class U_{constructor(e){if(this.total=e,this.total<0)throw new E_}call(e,t){return t.subscribe(new B_(e,this.total))}}class B_ extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function j_(e,t){const n=arguments.length>=2;return r=>r.pipe(e?b_((t,n)=>e(t,n,r)):$,V_(1),n?x_(t):N_(()=>new f_))}class q_{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new H_(e,this.predicate,this.thisArg,this.source))}}class H_ extends g{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function z_(e,t){return"function"==typeof t?n=>n.pipe(z_((n,r)=>G(e(n,r)).pipe(j((e,i)=>t(n,e,r,i))))):t=>t.lift(new G_(e))}class G_{constructor(e){this.project=e}call(e,t){return t.subscribe(new K_(e,this.project))}}class K_ extends B{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new N(this,void 0,void 0);this.destination.add(i),this.innerSubscription=U(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function W_(...e){return v_()(wv(...e))}function Q_(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new $_(e,t,n))}}class $_{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Y_(e,this.accumulator,this.seed,this.hasSeed))}}class Y_ extends g{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function J_(e,t){return K(e,t,1)}class X_{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Z_(e,this.callback))}}class Z_ extends g{constructor(e,t){super(e),this.add(new d(t))}}let eC=null;function tC(){return eC}class nC{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class rC extends nC{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(e=>{null!=this.getStyle(t,e)&&(this._transitionEnd=n[e])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const iC={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},oC=3,sC={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},uC=(()=>{if(Oe.Node)return Oe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class lC extends rC{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new lC,eC||(eC=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return iC}contains(e,t){return uC.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===oC&&aC.hasOwnProperty(t)&&(t=aC[t]))}return sC[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=function(){if(!hC&&!(hC=document.querySelector("base")))return null;return hC.getAttribute("href")}();return null==t?null:function(e){cC||(cC=document.createElement("a"));return cC.setAttribute("href",e),"/"===cC.pathname.charAt(0)?cC.pathname:"/"+cC.pathname}(t)}resetBaseElement(){hC=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Rb(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let cC,hC=null;function dC(){return!!window.history.pushState}class fC extends Cv{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=tC().getLocation(),this._history=tC().getHistory()}getBaseHrefFromDOM(){return tC().getBaseHref(this._doc)}onPopState(e){tC().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){tC().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){dC()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){dC()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}fC.decorators=[{type:Ze}],fC.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]}]);const pC=new tt("TRANSITION_ID");const gC=[{provide:Rg,useFactory:function(e,t,n){return()=>{n.get(Pg).donePromise.then(()=>{const n=tC();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[pC,o_,at],multi:!0}];class mC{static init(){var e;e=new mC,fm=e}addToWindow(e){Oe.getAngularTestability=((t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r}),Oe.getAllAngularTestabilities=(()=>e.getAllTestabilities()),Oe.getAllAngularRootElements=(()=>e.getAllRootElements());Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(e=>{const t=Oe.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?tC().isShadowRoot(t)?this.findTestabilityInTree(e,tC().getHost(t),!0):this.findTestabilityInTree(e,tC().parentElement(t),!0):null}}function yC(e,t){if("undefined"==typeof COMPILED||!COMPILED){(Oe.ng=Oe.ng||{})[e]=t}}const vC=(()=>({ApplicationRef:Cm,NgZone:rm}))(),bC="probe",wC="coreTokens";function _C(e){return Mm(e)}function CC(e){return yC(bC,_C),yC(wC,Object.assign({},vC,(e||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>_C}const EC=[{provide:Rg,useFactory:CC,deps:[[ym,new pe]],multi:!0}],SC=new tt("EventManagerPlugins");class TC{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}TC.decorators=[{type:Ze}],TC.ctorParameters=(()=>[{type:Array,decorators:[{type:fe,args:[SC]}]},{type:rm}]);class DC{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=tC().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class IC{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}IC.decorators=[{type:Ze}];class AC extends IC{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>tC().remove(e))}}AC.decorators=[{type:Ze}],AC.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]}]);const kC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},NC=/%COMP%/g,xC="_nghost-%COMP%",OC="_ngcontent-%COMP%";function RC(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?RC(e,i,n):(i=i.replace(NC,e),n.push(i))}return n}function PC(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class MC{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new FC(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Jt.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new UC(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case Jt.Native:case Jt.ShadowDom:return new BC(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=RC(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}MC.decorators=[{type:Ze}],MC.ctorParameters=(()=>[{type:TC},{type:AC},{type:String,decorators:[{type:fe,args:[Mg]}]}]);class FC{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(kC[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=`${r}:${t}`;const i=kC[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=kC[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&dh.DashCase?e.style.setProperty(t,n,r&dh.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&dh.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){VC(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return VC(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,PC(n)):this.eventManager.addEventListener(e,t,PC(n))}}const LC=(()=>"@".charCodeAt(0))();function VC(e,t){if(e.charCodeAt(0)===LC)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class UC extends FC{constructor(e,t,n,r){super(e),this.component=n;const i=RC(r+"-"+n.id,n.styles,[]);var o;t.addStyles(i),this.contentAttr=(o=r+"-"+n.id,OC.replace(NC,o)),this.hostAttr=function(e){return xC.replace(NC,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class BC extends FC{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,r.encapsulation===Jt.ShadowDom?this.shadowRoot=n.attachShadow({mode:"open"}):this.shadowRoot=n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=RC(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const jC=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),qC=jC("addEventListener"),HC=jC("removeEventListener"),zC={},GC="FALSE",KC="ANGULAR",WC="addEventListener",QC="removeEventListener",$C="__zone_symbol__propagationStopped",YC="__zone_symbol__stopImmediatePropagation",JC=(()=>{const e="undefined"!=typeof Zone&&Zone[jC("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),XC=function(e){return!!JC&&JC.hasOwnProperty(e)},ZC=function(e){const t=zC[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[$C];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class eE extends DC{constructor(e,t,n){super(e),this.ngZone=t,n&&u_(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[YC])return;const e=Event.prototype[YC]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[$C]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){const r=e[qC];let i=n;if(!r||rm.isInAngularZone()&&!XC(t))e[WC](t,i,!1);else{let n=zC[t];n||(n=zC[t]=jC(KC+t+GC));let r=e[n];const o=r&&r.length>0;r||(r=e[n]=[]);const s=XC(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:s,handler:i})}o||e[qC](t,ZC,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let r=e[HC];if(!r)return e[QC].apply(e,[t,n,!1]);let i=zC[t],o=i&&e[i];if(!o)return e[QC].apply(e,[t,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(e,[t,ZC,!1]):e[QC].apply(e,[t,n,!1])}}eE.decorators=[{type:Ze}],eE.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]},{type:rm},{type:void 0,decorators:[{type:pe},{type:fe,args:[Bg]}]}]);const tE={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},nE=new tt("HammerGestureConfig"),rE=new tt("HammerLoader");class iE{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}iE.decorators=[{type:Ze}];class oE extends DC{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!tE.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))&&(!(!window.Hammer&&!this.loader)||(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),!1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=(()=>{}));r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=(()=>{})}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),o=function(e){r.runGuarded(function(){n(e)})};return i.on(t,o),()=>{i.off(t,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}oE.decorators=[{type:Ze}],oE.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]},{type:iE,decorators:[{type:fe,args:[nE]}]},{type:qg},{type:void 0,decorators:[{type:pe},{type:fe,args:[rE]}]}]);const sE=["alt","control","meta","shift"],aE={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class uE extends DC{constructor(e){super(e)}supports(e){return null!=uE.parseEventName(e)}addEventListener(e,t,n){const r=uE.parseEventName(t),i=uE.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tC().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=uE._normalizeKey(t.pop());let i="";if(sE.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(e){let t="",n=tC().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),sE.forEach(r=>{if(r!=n){(0,aE[r])(e)&&(t+=r+".")}}),t+=n}static eventCallback(e,t,n){return r=>{uE.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}uE.decorators=[{type:Ze}],uE.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]}]);class lE{}class cE extends lE{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Qo.NONE:return t;case Qo.HTML:return t instanceof dE?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Ko(this._doc,String(t)));case Qo.STYLE:return t instanceof fE?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Xo(t));case Qo.SCRIPT:if(t instanceof pE)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case Qo.URL:return t instanceof mE||t instanceof gE?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),So(String(t)));case Qo.RESOURCE_URL:if(t instanceof mE)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof hE)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new dE(e)}bypassSecurityTrustStyle(e){return new fE(e)}bypassSecurityTrustScript(e){return new pE(e)}bypassSecurityTrustUrl(e){return new gE(e)}bypassSecurityTrustResourceUrl(e){return new mE(e)}}cE.decorators=[{type:Ze}],cE.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]}]);class hE{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class dE extends hE{getTypeName(){return"HTML"}}class fE extends hE{getTypeName(){return"Style"}}class pE extends hE{getTypeName(){return"Script"}}class gE extends hE{getTypeName(){return"URL"}}class mE extends hE{getTypeName(){return"ResourceURL"}}const yE=[{provide:$o,useExisting:lE},{provide:lE,useClass:cE,deps:[o_]}],vE=vm(Lm,"browser",[{provide:Bg,useValue:s_},{provide:Ug,useValue:function(){lC.makeCurrent(),mC.init()},multi:!0},{provide:Cv,useClass:fC,deps:[o_]},{provide:o_,useFactory:function(){return document},deps:[]}]);function bE(){return new go}const wE=[yE,{provide:Mc,useValue:!0},{provide:go,useFactory:bE,deps:[]},{provide:SC,useClass:eE,multi:!0,deps:[o_,rm,Bg]},{provide:SC,useClass:uE,multi:!0,deps:[o_]},{provide:SC,useClass:oE,multi:!0,deps:[o_,nE,qg,[new pe,rE]]},{provide:nE,useClass:iE,deps:[]},{provide:MC,useClass:MC,deps:[TC,AC,Mg]},{provide:hh,useExisting:MC},{provide:IC,useExisting:AC},{provide:AC,useClass:AC,deps:[o_]},{provide:cm,useClass:cm,deps:[rm]},{provide:TC,useClass:TC,deps:[SC,rm]},EC];class _E{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:_E,providers:[{provide:Mg,useValue:e.appId},{provide:pC,useExisting:Mg},gC]}}}function CE(){return new EE(Ve(o_))}_E.decorators=[{type:xg,args:[{providers:wE,exports:[r_,Gm]}]}],_E.ctorParameters=(()=>[{type:void 0,decorators:[{type:pe},{type:me},{type:fe,args:[_E]}]}]);class EE{constructor(e){this._doc=e,this._dom=tC()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e&&this._dom.querySelector(this._doc,`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._dom.querySelectorAll(this._doc,`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);const r=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(r,n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>this._dom.setAttribute(t,n,e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>this._dom.getAttribute(t,n)===e[n])}}function SE(){return new TE(Ve(o_))}EE.decorators=[{type:Ze,args:[{providedIn:"root",useFactory:CE,deps:[]}]}],EE.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]}]),EE.ngInjectableDef=Ce({factory:CE,token:EE,providedIn:"root"});class TE{constructor(e){this._doc=e}getTitle(){return tC().getTitle(this._doc)}setTitle(e){tC().setTitle(this._doc,e)}}TE.decorators=[{type:Ze,args:[{providedIn:"root",useFactory:SE,deps:[]}]}],TE.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]}]),TE.ngInjectableDef=Ce({factory:SE,token:TE,providedIn:"root"});"undefined"!=typeof window&&window;class DE{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const t=new DE;return t.store=e,t}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}DE.decorators=[{type:Ze}];(class{}).decorators=[{type:xg,args:[{providers:[{provide:DE,useFactory:function(e,t){const n=e.getElementById(t+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(e){const t={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return e.replace(/&[^;]+;/g,e=>t[e])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+t,i)}return DE.init(r)},deps:[o_,Mg]}]}]}];new gh("8.0.3");class IE{constructor(e,t){this.id=e,this.url=t}}class AE extends IE{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kE extends IE{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NE extends IE{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xE extends IE{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class OE extends IE{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RE extends IE{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PE extends IE{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ME extends IE{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FE extends IE{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LE{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class UE{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BE{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jE{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qE{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HE{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){const e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}}class zE{}zE.decorators=[{type:Cg,args:[{template:"<router-outlet></router-outlet>"}]}];const GE="primary";class KE{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function WE(e){return new KE(e)}const QE="ngNavigationCancelingError";function $E(e){const t=Error("NavigationCancelingError: "+e);return t[QE]=!0,t}function YE(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class JE{constructor(e,t){this.routes=e,this.module=t}}function XE(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];ZE(r,eS(t,r))}}function ZE(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==GE)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch){const n="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. ${n}`)}if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&XE(e.children,t)}function eS(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function tS(e){const t=e.children&&e.children.map(tS),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==GE&&(n.component=zE),n}function nS(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(e[i=n[o]]!==t[i])return!1;return!0}function rS(e){return Array.prototype.concat.apply([],e)}function iS(e){return e.length>0?e[e.length-1]:null}function oS(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function sS(e){return Dl(e)?e:Tl(e)?G(Promise.resolve(e)):wv(e)}function aS(e,t,n){return n?function(e,t){return nS(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!dS(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&uS(e.root,t.root)}function uS(e,t){return function e(t,n,r){if(t.segments.length>r.length){const e=t.segments.slice(0,r.length);return!!dS(e,r)&&!n.hasChildren()}if(t.segments.length===r.length){if(!dS(t.segments,r))return!1;for(const e in n.children){if(!t.children[e])return!1;if(!uS(t.children[e],n.children[e]))return!1}return!0}{const i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!!dS(t.segments,i)&&(!!t.children[GE]&&e(t.children[GE],n,o))}}(e,t,t.segments)}class lS{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=WE(this.queryParams)),this._queryParamMap}toString(){return mS.serialize(this)}}class cS{constructor(e,t){this.segments=e,this.children=t,this.parent=null,oS(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yS(this)}}class hS{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=WE(this.parameters)),this._parameterMap}toString(){return ES(this)}}function dS(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function fS(e,t){let n=[];return oS(e.children,(e,r)=>{r===GE&&(n=n.concat(t(e,r)))}),oS(e.children,(e,r)=>{r!==GE&&(n=n.concat(t(e,r)))}),n}class pS{}class gS{parse(e){const t=new AS(e);return new lS(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return yS(t);if(n){const n=t.children[GE]?e(t.children[GE],!1):"",r=[];return oS(t.children,(t,n)=>{n!==GE&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=fS(t,(n,r)=>r===GE?[e(t.children[GE],!1)]:[`${r}:${e(n,!1)}`]);return`${yS(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${bS(t)}=${bS(e)}`).join("&"):`${bS(t)}=${bS(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const mS=new gS;function yS(e){return e.segments.map(e=>ES(e)).join("/")}function vS(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bS(e){return vS(e).replace(/%3B/gi,";")}function wS(e){return vS(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _S(e){return decodeURIComponent(e)}function CS(e){return _S(e.replace(/\+/g,"%20"))}function ES(e){return`${wS(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${wS(e)}=${wS(t[e])}`).join("")}`;var t}const SS=/^[^\/()?;=#]+/;function TS(e){const t=e.match(SS);return t?t[0]:""}const DS=/^[^=?&#]+/;const IS=/^[^?&#]+/;class AS{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cS([],{}):new cS([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[GE]=new cS(e,t)),n}parseSegment(){const e=TS(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new hS(_S(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=TS(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=TS(this.remaining);e&&(n=e,this.capture(n))}e[_S(t)]=_S(n)}parseQueryParam(e){const t=function(e){const t=e.match(DS);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(IS);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=CS(t),i=CS(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=TS(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=GE);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[GE]:new cS([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class kS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=NS(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=NS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return xS(e,this._root).map(e=>e.value)}}function NS(e,t){if(e===t.value)return t;for(const n of t.children){const t=NS(e,n);if(t)return t}return null}function xS(e,t){if(e===t.value)return[t];for(const n of t.children){const r=xS(e,n);if(r.length)return r.unshift(t),r}return[]}class OS{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function RS(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class PS extends kS{constructor(e,t){super(e),this.snapshot=t,BS(this,e)}toString(){return this.snapshot.toString()}}function MS(e,t){const n=function(e,t){const n=new VS([],{},{},"",{},GE,t,null,e.root,-1,{});return new US("",new OS(n,[]))}(e,t),r=new h_([new hS("",{})]),i=new h_({}),o=new h_({}),s=new h_({}),a=new h_(""),u=new FS(r,i,s,a,o,GE,t,n.root);return u.snapshot=n.root,new PS(new OS(u,[]),n)}class FS{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(e=>WE(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(e=>WE(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function LS(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>{const n=Object.assign({},e.params,t.params),r=Object.assign({},e.data,t.data),i=Object.assign({},e.resolve,t._resolvedData);return{params:n,data:r,resolve:i}},{params:{},data:{},resolve:{}})}(n.slice(r))}class VS{constructor(e,t,n,r,i,o,s,a,u,l,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=WE(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=WE(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class US extends kS{constructor(e,t){super(t),this.url=e,BS(this,t)}toString(){return jS(this._root)}}function BS(e,t){t.value._routerState=e,t.children.forEach(t=>BS(e,t))}function jS(e){const t=e.children.length>0?` { ${e.children.map(jS).join(", ")} } `:"";return`${e.value}${t}`}function qS(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,nS(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),nS(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!nS(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),nS(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function HS(e,t){const n=nS(e.params,t.params)&&(r=e.url,i=t.url,dS(r,i)&&r.every((e,t)=>nS(e.parameters,i[t].parameters)));var r,i;const o=!e.parent!=!t.parent;return n&&!o&&(!e.parent||HS(e.parent,t.parent))}function zS(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(r.value.snapshot,t.value))return zS(e,t,r);return zS(e,t)})}(e,t,n);return new OS(r,i)}{const n=e.retrieve(t.value);if(n){const e=n.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(t,e),e}{const n=(r=t.value,new FS(new h_(r.url),new h_(r.params),new h_(r.queryParams),new h_(r.fragment),new h_(r.data),r.outlet,r.component,r)),i=t.children.map(t=>zS(e,t));return new OS(n,i)}}var r}function GS(e,t,n,r,i){if(0===n.length)return WS(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new QS(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return oS(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new QS(n,t,r)}(n);if(o.toRoot())return WS(t.root,new cS([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new $S(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new $S(n.snapshot._urlSegment,!0,0);const r=KS(e.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new $S(r,!1,i-o)}(n.snapshot._urlSegment,i,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?XS(s.segmentGroup,s.index,o.commands):JS(s.segmentGroup,s.index,o.commands);return WS(s.segmentGroup,a,t,r,i)}function KS(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function WS(e,t,n,r,i){let o={};return r&&oS(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),n.root===e?new lS(t,o,i):new lS(function e(t,n,r){const i={};oS(t.children,(t,o)=>{i[o]=t===n?r:e(t,n,r)});return new cS(t.segments,i)}(n.root,e,t),o,i)}class QS{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&KS(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==iS(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $S{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function YS(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[GE]:`${e}`}function JS(e,t,n){if(e||(e=new cS([],{})),0===e.segments.length&&e.hasChildren())return XS(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=YS(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!nT(s,a,t))return o;r+=2}else{if(!nT(s,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new cS(e.segments.slice(0,r.pathIndex),{});return t.children[GE]=new cS(e.segments.slice(r.pathIndex),e.children),XS(t,0,i)}return r.match&&0===i.length?new cS(e.segments,{}):r.match&&!e.hasChildren()?ZS(e,t,n):r.match?XS(e,0,i):ZS(e,t,n)}function XS(e,t,n){if(0===n.length)return new cS(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[GE]:e}:void 0===e[0].outlets?{[GE]:e}:e[0].outlets}(n),i={};return oS(r,(n,r)=>{null!==n&&(i[r]=JS(e.children[r],t,n))}),oS(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new cS(e.segments,i)}}function ZS(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=eT(n[i].outlets);return new cS(r,e)}if(0===i&&KS(n[0])){const o=e.segments[t];r.push(new hS(o.path,n[0])),i++;continue}const o=YS(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&KS(s)?(r.push(new hS(o,tT(s))),i+=2):(r.push(new hS(o,{})),i++)}return new cS(r,{})}function eT(e){const t={};return oS(e,(e,n)=>{null!==e&&(t[n]=ZS(new cS([],{}),0,e))}),t}function tT(e){const t={};return oS(e,(e,n)=>t[n]=`${e}`),t}function nT(e,t,n){return e==n.path&&nS(t,n.parameters)}const rT=(e,t,n)=>j(r=>(new iT(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class iT{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),qS(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=RS(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),oS(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=RS(e),i=e.value.component?n.children:t;oS(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=RS(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new qE(e.value.snapshot))}),e.children.length&&this.forwardEvent(new BE(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(qS(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),oT(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function oT(e){qS(e.value),e.children.forEach(oT)}function sT(e){return"function"==typeof e}function aT(e){return e instanceof lS}class uT{constructor(e){this.segmentGroup=e||null}}class lT{constructor(e){this.urlTree=e}}function cT(e){return new _(t=>t.error(new uT(e)))}function hT(e){return new _(t=>t.error(new lT(e)))}function dT(e){return new _(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class fT{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(eh)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,GE).pipe(j(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(M_(e=>{if(e instanceof lT)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof uT)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,GE).pipe(j(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(M_(e=>{if(e instanceof uT)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new cS([],{[GE]:e}):e;return new lS(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(j(e=>new cS([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return wv({});const n=[],r=[],i={};return oS(e,(e,o)=>{const s=t(o,e).pipe(j(e=>i[o]=e));o===GE?n.push(s):r.push(s)}),wv.apply(null,n.concat(r)).pipe(v_(),P_(),j(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,o){return wv(...n).pipe(j(s=>{return this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(M_(e=>{if(e instanceof uT)return wv(null);throw e}))}),v_(),j_(e=>!!e),M_((e,n)=>{if(e instanceof f_||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return wv(new cS([],{}));throw new uT(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return yT(r)!==o?cT(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):cT(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?hT(i):this.lineralizeSegments(n,i).pipe(K(n=>{const i=new cS(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:l}=pT(t,r,i);if(!s)return cT(t);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?hT(c):this.lineralizeSegments(r,c).pipe(K(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(j(e=>(n._loadedConfig=e,new cS(r,{})))):wv(new cS(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=pT(t,n,r);if(!i)return cT(t);const a=r.slice(s);return this.getChildConfig(e,n,r).pipe(K(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:s}=function(e,t,n,r){if(n.length>0&&function(e,t,n){return n.some(n=>mT(e,t,n)&&yT(n)!==GE)}(e,n,r)){const i=new cS(t,function(e,t){const n={};n[GE]=t;for(const r of e)""===r.path&&yT(r)!==GE&&(n[yT(r)]=new cS([],{}));return n}(r,new cS(n,e.children)));return{segmentGroup:gT(i),slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>mT(e,t,n))}(e,n,r)){const t=new cS(e.segments,function(e,t,n,r){const i={};for(const o of n)mT(e,t,o)&&!r[yT(o)]&&(i[yT(o)]=new cS([],{}));return Object.assign({},r,i)}(e,n,r,e.children));return{segmentGroup:gT(t),slicedSegments:n}}return{segmentGroup:e,slicedSegments:n}}(t,o,a,r);if(0===s.length&&i.hasChildren()){return this.expandChildren(n,r,i).pipe(j(e=>new cS(o,e)))}return 0===r.length&&0===s.length?wv(new cS(o,{})):this.expandSegment(n,i,r,s,GE,!0).pipe(j(e=>new cS(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?wv(new JE(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?wv(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?G(r).pipe(j(r=>{const i=e.get(r);let o;if(function(e){return e&&sT(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!sT(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return sS(o)})).pipe(v_(),(i=(e=>!0===e),e=>e.lift(new q_(i,o,e)))):wv(!0);var i,o}(e.injector,t,n).pipe(K(n=>n?this.configLoader.load(e.injector,t).pipe(j(e=>(t._loadedConfig=e,e))):function(e){return new _(t=>t.error($E(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):wv(new JE([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return wv(n);if(r.numberOfChildren>1||!r.children[GE])return dT(e.redirectTo);r=r.children[GE]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new lS(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return oS(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return oS(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new cS(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function pT(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||YE)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function gT(e){if(1===e.numberOfChildren&&e.children[GE]){const t=e.children[GE];return new cS(e.segments.concat(t.segments),t.children)}return e}function mT(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function yT(e){return e.outlet||GE}function vT(e,t,n,r){return function(i){return i.pipe(z_(i=>(function(e,t,n,r,i){return new fT(e,t,n,r,i).apply()})(e,t,n,i.extractedUrl,r).pipe(j(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}class bT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wT{constructor(e,t){this.component=e,this.route=t}}function _T(e,t,n){const r=e._root;return ET(r,t?t._root:null,n,[r.value])}function CT(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ET(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=RS(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!dS(e.url,t.url);case"pathParamsOrQueryParamsChange":return!dS(e.url,t.url)||!nS(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HS(e,t)||!nS(e.queryParams,t.queryParams);case"paramsChange":default:return!HS(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);if(u?i.canActivateChecks.push(new bT(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ET(e,t,a?a.children:null,r,i):ET(e,t,n,r,i),u){const e=a&&a.outlet&&a.outlet.component||null;i.canDeactivateChecks.push(new wT(e,s))}}else s&&ST(t,a,i),i.canActivateChecks.push(new bT(r)),o.component?ET(e,null,a?a.children:null,r,i):ET(e,null,n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),oS(o,(e,t)=>ST(e,n.getContext(t),i)),i}function ST(e,t,n){const r=RS(e),i=e.value;oS(r,(e,r)=>{i.component?ST(e,t?t.children.getContext(r):null,n):ST(e,t,n)}),i.component&&t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new wT(t.outlet.component,i)):n.canDeactivateChecks.push(new wT(null,i))}const TT=Symbol("INITIAL_VALUE");function DT(){return z_(e=>(function(...e){let t=null,n=null;return k(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),z(e,n).lift(new g_(t))})(...e.map(e=>e.pipe(V_(1),function(...e){return t=>{let n=e[e.length-1];k(n)?e.pop():n=null;const r=e.length;return W_(1!==r||n?r>0?z(e,n):vv(n):bv(e[0]),t)}}(TT)))).pipe(Q_((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==TT)return e;if(r===TT&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||aT(r))return r}return e},e)},TT),b_(e=>e!==TT),j(e=>aT(e)?e:!0===e),V_(1)))}function IT(e,t){return function(n){return n.pipe(K(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?wv(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return G(e).pipe(K(e=>(function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?wv(o.map(o=>{const s=CT(o,t,i);let a;if(function(e){return e&&sT(e.canDeactivate)}(s))a=sS(s.canDeactivate(e,t,n,r));else{if(!sT(s))throw new Error("Invalid CanDeactivate guard");a=sS(s(e,t,n,r))}return a.pipe(j_())})).pipe(DT()):wv(!0)})(e.component,e.route,n,t,r)),j_(e=>!0!==e,!0))}(s,r,i,e).pipe(K(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return G(t).pipe(J_(t=>G([kT(t.route.parent,r),AT(t.route,r),xT(e,t.path,n),NT(e,t.route,n)]).pipe(v_(),j_(e=>!0!==e,!0))),j_(e=>!0!==e,!0))}(r,o,e,t):wv(n)),j(e=>Object.assign({},n,{guardsResult:e})))}))}}function AT(e,t){return null!==e&&t&&t(new jE(e)),wv(!0)}function kT(e,t){return null!==e&&t&&t(new UE(e)),wv(!0)}function NT(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?wv(r.map(r=>y_(()=>{const i=CT(r,t,n);let o;if(function(e){return e&&sT(e.canActivate)}(i))o=sS(i.canActivate(t,e));else{if(!sT(i))throw new Error("Invalid CanActivate guard");o=sS(i(t,e))}return o.pipe(j_())}))).pipe(DT()):wv(!0)}function xT(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>y_(()=>{return wv(t.guards.map(i=>{const o=CT(i,t.node,n);let s;if(function(e){return e&&sT(e.canActivateChild)}(o))s=sS(o.canActivateChild(r,e));else{if(!sT(o))throw new Error("Invalid CanActivateChild guard");s=sS(o(r,e))}return s.pipe(j_())})).pipe(DT())}));return wv(i).pipe(DT())}class OT{}class RT{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=FT(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,GE),r=new VS([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},GE,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new OS(r,n),o=new US(this.url,i);return this.inheritParamsAndData(o._root),wv(o)}catch(e){return new _(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=LS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=fS(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===GE?-1:t.value.outlet===GE?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(i){if(!(i instanceof OT))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new OT}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new OT;if((e.outlet||GE)!==r)throw new OT;let i,o=[],s=[];if("**"===e.path){const o=n.length>0?iS(n).parameters:{};i=new VS(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UT(e),r,e.component,e,PT(t),MT(t)+n.length,BT(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new OT;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||YE)(n,e,t);if(!r)throw new OT;const i={};oS(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new VS(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UT(e),r,e.component,e,PT(t),MT(t)+o.length,BT(e))}const a=function(e){if(e.children)return e.children;if(e.loadChildren)return e._loadedConfig.routes;return[]}(e),{segmentGroup:u,slicedSegments:l}=FT(t,o,s,a,this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const e=this.processChildren(a,u);return[new OS(i,e)]}if(0===a.length&&0===l.length)return[new OS(i,[])];const c=this.processSegment(a,u,l,GE);return[new OS(i,c)]}}function PT(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function MT(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function FT(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>LT(e,t,n)&&VT(n)!==GE)}(e,n,r)){const i=new cS(t,function(e,t,n,r){const i={};i[GE]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&VT(o)!==GE){const n=new cS([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[VT(o)]=n}return i}(e,t,r,new cS(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>LT(e,t,n))}(e,n,r)){const o=new cS(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(LT(e,n,a)&&!i[VT(a)]){const n=new cS([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[VT(a)]=n}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new cS(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function LT(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function VT(e){return e.outlet||GE}function UT(e){return e.data||{}}function BT(e){return e.resolve||{}}function jT(e,t,n,r,i){return function(o){return o.pipe(K(o=>(function(e,t,n,r,i="emptyOnly",o="legacy"){return new RT(e,t,n,r,i,o).recognize()})(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(j(e=>Object.assign({},o,{targetSnapshot:e})))))}}function qT(e,t){return function(n){return n.pipe(K(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?G(i).pipe(J_(n=>(function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return wv({});if(1===i.length){const o=i[0];return HT(e[o],t,n,r).pipe(j(e=>({[o]:e})))}const o={};return G(i).pipe(K(i=>HT(e[i],t,n,r).pipe(j(e=>(o[i]=e,e))))).pipe(P_(),j(()=>o))}(e._resolve,e,t,r).pipe(j(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,LS(e,n).resolve),null)))})(n.route,r,e,t)),function(e,t){return arguments.length>=2?function(n){return b(Q_(e,t),S_(1),x_(t))(n)}:function(t){return b(Q_((t,n,r)=>e(t,n,r+1)),S_(1))(t)}}((e,t)=>e),j(e=>n)):wv(n)}))}}function HT(e,t,n,r){const i=CT(e,t,r);return i.resolve?sS(i.resolve(t,n)):sS(i(t,n))}function zT(e){return function(t){return t.pipe(z_(t=>{const n=e(t);return n?G(n).pipe(j(()=>t)):G([t])}))}}class GT{}class KT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const WT=new tt("ROUTES");class QT{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(j(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new JE(rS(r.injector.get(WT)).map(tS),r)}))}loadModuleFactory(e){return"string"==typeof e?G(this.loader.load(e)):sS(e()).pipe(K(e=>e instanceof th?wv(e):G(this.compiler.compileModuleAsync(e))))}}class $T{}class YT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function JT(e){throw e}function XT(e,t,n){return t.parse("/")}function ZT(e,t){return wv(null)}class eD{constructor(e,t,n,r,i,o,s,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=JT,this.malformedUriErrorHandler=XT,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ZT,afterPreactivation:ZT},this.urlHandlingStrategy=new YT,this.routeReuseStrategy=new KT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=i.get(eh),this.console=i.get(qg);const u=i.get(rm);this.isNgZoneEnabled=u instanceof rm,this.resetConfig(a),this.currentUrlTree=new lS(new cS([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new QT(o,s,e=>this.triggerEvent(new LE(e)),e=>this.triggerEvent(new VE(e))),this.routerState=MS(this.currentUrlTree,this.rootComponentType),this.transitions=new h_({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(b_(e=>0!==e.id),j(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),z_(e=>{let n=!1,r=!1;return wv(e).pipe(I_(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),z_(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return wv(e).pipe(z_(e=>{const n=this.transitions.getValue();return t.next(new AE(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?yv:[e]}),z_(e=>Promise.resolve(e)),vT(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),I_(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),jT(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),I_(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),I_(e=>{const n=new OE(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new AE(n,this.serializeUrl(r),i,o);t.next(a);const u=MS(r,this.rootComponentType).snapshot;return wv(Object.assign({},e,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),yv}),zT(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),I_(e=>{const t=new RE(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),j(e=>Object.assign({},e,{guards:_T(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),IT(this.ngModule.injector,e=>this.triggerEvent(e)),I_(e=>{if(aT(e.guardsResult)){const t=$E(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),I_(e=>{const t=new PE(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),b_(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new NE(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),zT(e=>{if(e.guards.canActivateChecks.length)return wv(e).pipe(I_(e=>{const t=new ME(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),qT(this.paramsInheritanceStrategy,this.ngModule.injector),I_(e=>{const t=new FE(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),zT(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),j(e=>{const t=function(e,t,n){const r=zS(e,t._root,n?n._root:void 0);return new PS(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),I_(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),rT(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),I_({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new X_(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new NE(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),M_(n=>{if(r=!0,function(e){return e&&e[QE]}(n)){const r=aT(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new NE(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new xE(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return yv}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){XE(e),this.config=e.map(tS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=t;wo()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=a?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),GS(u,this.currentUrlTree,e,c,l)}navigateByUrl(e,t={skipLocationChange:!1}){wo()&&this.isNgZoneEnabled&&!rm.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=aT(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(aT(e))return aS(this.currentUrlTree,e,t);const n=this.parseUrl(e);return aS(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new kE(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((e,t)=>{o=e,s=t}),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class tD{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){wo()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:rD(this.skipLocationChange),replaceUrl:rD(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:rD(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:rD(this.preserveFragment)})}}tD.decorators=[{type:_g,args:[{selector:":not(a):not(area)[routerLink]"}]}],tD.ctorParameters=(()=>[{type:eD},{type:FS},{type:String,decorators:[{type:ve,args:["tabindex"]}]},{type:fh},{type:lh}]),tD.propDecorators={queryParams:[{type:Sg}],fragment:[{type:Sg}],queryParamsHandling:[{type:Sg}],preserveFragment:[{type:Sg}],skipLocationChange:[{type:Sg}],replaceUrl:[{type:Sg}],state:[{type:Sg}],routerLink:[{type:Sg}],preserveQueryParams:[{type:Sg}],onClick:[{type:Ig,args:["click"]}]};class nD{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof kE&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){wo()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:rD(this.skipLocationChange),replaceUrl:rD(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:rD(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:rD(this.preserveFragment)})}}function rD(e){return""===e||!!e}nD.decorators=[{type:_g,args:[{selector:"a[routerLink],area[routerLink]"}]}],nD.ctorParameters=(()=>[{type:eD},{type:FS},{type:Sv}]),nD.propDecorators={target:[{type:Dg,args:["attr.target"]},{type:Sg}],queryParams:[{type:Sg}],fragment:[{type:Sg}],queryParamsHandling:[{type:Sg}],preserveFragment:[{type:Sg}],skipLocationChange:[{type:Sg}],replaceUrl:[{type:Sg}],state:[{type:Sg}],href:[{type:Dg}],routerLink:[{type:Sg}],preserveQueryParams:[{type:Sg}],onClick:[{type:Ig,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};class iD{constructor(e,t,n,r,i){this.router=e,this.element=t,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof kE&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}iD.decorators=[{type:_g,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],iD.ctorParameters=(()=>[{type:eD},{type:lh},{type:fh},{type:tD,decorators:[{type:pe}]},{type:nD,decorators:[{type:pe}]}]),iD.propDecorators={links:[{type:Qt,args:[tD,{descendants:!0}]}],linksWithHrefs:[{type:Qt,args:[nD,{descendants:!0}]}],routerLinkActiveOptions:[{type:Sg}],routerLinkActive:[{type:Sg}]};class oD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sD,this.attachRef=null}}class sD{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new oD,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class aD{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Wp,this.deactivateEvents=new Wp,this.name=r||GE,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=e._futureSnapshot.routeConfig.component,r=(t=t||this.resolver).resolveComponentFactory(n),i=this.parentContexts.getOrCreateContext(this.name).children,o=new uD(e,i,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}aD.decorators=[{type:_g,args:[{selector:"router-outlet",exportAs:"outlet"}]}],aD.ctorParameters=(()=>[{type:sD},{type:Lh},{type:Jc},{type:String,decorators:[{type:ve,args:["name"]}]},{type:kh}]),aD.propDecorators={activateEvents:[{type:Tg,args:["activate"]}],deactivateEvents:[{type:Tg,args:["deactivate"]}]};class uD{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===FS?this.route:e===sD?this.childContexts:this.parent.get(e,t)}}class lD{}class cD{preload(e,t){return t().pipe(M_(()=>wv(null)))}}class hD{preload(e,t){return wv(null)}}class dD{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i;this.loader=new QT(t,n,t=>e.triggerEvent(new LE(t)),t=>e.triggerEvent(new VE(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(b_(e=>e instanceof kE),J_(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(eh);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return G(n).pipe(Y(),j(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{return this.loader.load(e.injector,t).pipe(K(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes))))})}}dD.decorators=[{type:Ze}],dD.ctorParameters=(()=>[{type:eD},{type:yg},{type:Qg},{type:at},{type:lD}]);class fD{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof AE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kE&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof HE&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new HE(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const pD=[aD,tD,nD,iD,zE],gD=new tt("ROUTER_CONFIGURATION"),mD=new tt("ROUTER_FORROOT_GUARD"),yD=[Dv,{provide:pS,useClass:gS},{provide:eD,useFactory:SD,deps:[Cm,pS,sD,Dv,at,yg,Qg,WT,gD,[$T,new pe],[GT,new pe]]},sD,{provide:FS,useFactory:TD,deps:[eD]},{provide:yg,useClass:km},dD,hD,cD,{provide:gD,useValue:{enableTracing:!1}}];function vD(){return new ym("Router",eD)}class bD{constructor(e,t){}static forRoot(e,t){return{ngModule:bD,providers:[yD,ED(e),{provide:mD,useFactory:CD,deps:[[eD,new pe,new me]]},{provide:gD,useValue:t||{}},{provide:Sv,useFactory:_D,deps:[Cv,[new fe(Tv),new pe],gD]},{provide:fD,useFactory:wD,deps:[eD,l_,gD]},{provide:lD,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:hD},{provide:ym,multi:!0,useFactory:vD},[DD,{provide:Rg,multi:!0,useFactory:ID,deps:[DD]},{provide:kD,useFactory:AD,deps:[DD]},{provide:jg,multi:!0,useExisting:kD}]]}}static forChild(e){return{ngModule:bD,providers:[ED(e)]}}}function wD(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new fD(e,t,n)}function _D(e,t,n={}){return n.useHash?new Av(e,t):new kv(e,t)}function CD(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ED(e){return[{provide:Kt,multi:!0,useValue:e},{provide:WT,multi:!0,useValue:e}]}function SD(e,t,n,r,i,o,s,a,u={},l,c){const h=new eD(null,t,n,r,i,o,s,rS(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const e=tC();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function TD(e){return e.routerState.root}bD.decorators=[{type:xg,args:[{declarations:pD,exports:pD,entryComponents:[zE]}]}],bD.ctorParameters=(()=>[{type:void 0,decorators:[{type:pe},{type:fe,args:[mD]}]},{type:eD,decorators:[{type:pe}]}]);class DD{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(Ev,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(eD),r=this.injector.get(gD);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?wv(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(gD),n=this.injector.get(dD),r=this.injector.get(fD),i=this.injector.get(eD),o=this.injector.get(Cm);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function ID(e){return e.appInitializer.bind(e)}function AD(e){return e.bootstrapListener.bind(e)}DD.decorators=[{type:Ze}],DD.ctorParameters=(()=>[{type:at}]);const kD=new tt("Router Initializer");new gh("8.0.3");pv(bD,[],function(e){return Rd([Od(512,Jc,Xc,[[8,[OD]],[3,Jc],eh]),Od(1073742336,bD,bD,[[2,mD],[2,eD]])])});var ND=td({encapsulation:2,styles:[],data:{}});function xD(e){return uy(0,[(e()(),Wm(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),pf(1,212992,null,0,aD,[sD,Lh,Jc,[8,null],kh],null,null)],function(e,t){e(t,1,0)},null)}var OD=Hd("ng-component",zE,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"ng-component",[],null,null,null,xD,ND)),pf(1,49152,null,0,zE,[],null,null)],null,null)},{},{},[]);class RD{constructor(e,t,n){this.messageService=e,this.router=t,this.afAuth=n}ngOnInit(){}getStarted(){this.messageService.sendMessage("true"),this.router.navigate(["quiz"])}logout(){this.afAuth.auth.signOut(),this.router.navigate(["login"])}}class PD{constructor(){this.behaviorSubject=new h_("Default Message")}sendMessage(e){this.behaviorSubject.next(e)}getMessage(){return this.behaviorSubject.asObservable()}}PD.ngInjectableDef=Ce({factory:function(){return new PD},token:PD,providedIn:"root"});class MD extends d{constructor(e,t){super()}schedule(e,t=0){return this}}class FD extends MD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class LD{constructor(e,t=LD.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}LD.now=(()=>Date.now());class VD extends LD{constructor(e,t=LD.now){super(e,()=>VD.delegate&&VD.delegate!==this?VD.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return VD.delegate&&VD.delegate!==this?VD.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const UD=new class extends VD{}(class extends FD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}});new tt("angularfire2.realtimeDatabaseURL");class BD{constructor(e,t){this.zone=e,this.platformId=t}schedule(...e){return this.zone.runGuarded(function(){return UD.schedule.apply(UD,e)})}keepUnstableUntilFirst(e){return u_(this.platformId)?new _(t=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);e.subscribe(e=>{"scheduled"===r.state&&r.invoke(),t.next(e)},e=>{"scheduled"===r.state&&r.invoke(),t.error(e)},()=>{"scheduled"===r.state&&r.invoke(),t.complete()})}):e}runOutsideAngular(e){return new _(t=>this.zone.runOutsideAngular(()=>e.subscribe(e=>this.zone.run(()=>t.next(e)),e=>this.zone.run(()=>t.error(e)),()=>this.zone.run(()=>t.complete()))))}}const jD=e=>t=>new _(n=>t.subscribe(t=>e.run(()=>n.next(t)),t=>e.run(()=>n.error(t)),()=>e.run(()=>n.complete())));var qD,HD=n("Wcq6"),zD=n.n(HD),GD=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};const KD=new tt("angularfire2.app.options"),WD=new tt("angularfire2.app.nameOrConfig");class QD{}function $D(e,t){const n="string"==typeof t&&t||"[DEFAULT]",r="object"==typeof t&&t||{};return r.name=r.name||n,zD.a.apps.filter(e=>e&&e.name===r.name)[0]||zD.a.initializeApp(e,r)}const YD={provide:QD,useFactory:$D,deps:[KD,[new pe,WD]]};let JD=qD=class{static initializeApp(e,t){return{ngModule:qD,providers:[{provide:KD,useValue:e},{provide:WD,useValue:t}]}}};JD=qD=GD([xg({providers:[YD]})],JD);var XD=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ZD=function(e,t){return function(n,r){t(n,r,e)}};let eI=class{constructor(e,t,n,r){this.zone=r;const i=new BD(r,n);this.auth=r.runOutsideAngular(()=>{return $D(e,t).auth()}),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new _(e=>{return{unsubscribe:this.auth.onAuthStateChanged(e)}}))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new _(e=>{return{unsubscribe:this.auth.onIdTokenChanged(e)}}))),this.idToken=this.user.pipe(z_(e=>e?G(e.getIdToken()):wv(null))),this.idTokenResult=this.user.pipe(z_(e=>e?G(e.getIdTokenResult()):wv(null)))}};eI=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}([Ze(),ZD(0,fe(KD)),ZD(1,pe()),ZD(1,fe(WD)),ZD(2,fe(Bg)),XD("design:paramtypes",[Object,Object,Object,rm])],eI);var tI=td({encapsulation:0,styles:[[".mtm[_ngcontent-%COMP%]{margin-top:10%}"]],data:{}});function nI(e){return uy(0,[(e()(),Wm(0,0,null,null,7,"div",[["class","form-action"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,1,"h1",[["class","text-center text-primary display-3 mtm "]],null,null,null,null,null)),(e()(),oy(-1,null,[" Welcome to Christies Quiz App"])),(e()(),Wm(3,0,null,null,2,"div",[["class","text-center "]],null,null,null,null,null)),(e()(),Wm(4,0,null,null,1,"button",[["class","text-center btn btn-primary"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.getStarted()&&r);return r},null,null)),(e()(),oy(-1,null,["GET STARTED"])),(e()(),Wm(6,0,null,null,1,"button",[["class","text-center btn btn-primary"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.logout()&&r);return r},null,null)),(e()(),oy(-1,null,["Logout"]))],null,null)}var rI=Hd("app-welcome",RD,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-welcome",[],null,null,null,nI,tI)),pf(1,114688,null,0,RD,[PD,eD,eI],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);class iI extends B{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=U(this,t[r],null,r);e&&this.add(e)}}notifyNext(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}const oI=new tt("NgValueAccessor"),sI={provide:oI,useExisting:Ne(()=>aI),multi:!0};class aI{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}aI.decorators=[{type:_g,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[sI]}]}],aI.ctorParameters=(()=>[{type:fh},{type:lh}]);const uI={provide:oI,useExisting:Ne(()=>cI),multi:!0};const lI=new tt("CompositionEventMode");class cI{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=tC()?tC().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){const t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}cI.decorators=[{type:_g,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"$any(this)._handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"$any(this)._compositionStart()","(compositionend)":"$any(this)._compositionEnd($event.target.value)"},providers:[uI]}]}],cI.ctorParameters=(()=>[{type:fh},{type:lh},{type:Boolean,decorators:[{type:pe},{type:fe,args:[lI]}]}]);class hI{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class dI extends hI{get formDirective(){return null}get path(){return null}}function fI(){throw new Error("unimplemented")}class pI extends hI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return fI()}get asyncValidator(){return fI()}}class gI{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const mI={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};class yI extends gI{constructor(e){super(e)}}yI.decorators=[{type:_g,args:[{selector:"[formControlName],[ngModel],[formControl]",host:mI}]}],yI.ctorParameters=(()=>[{type:pI,decorators:[{type:ge}]}]);class vI extends gI{constructor(e){super(e)}}function bI(e){return null==e||0===e.length}vI.decorators=[{type:_g,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:mI}]}],vI.ctorParameters=(()=>[{type:dI,decorators:[{type:ge}]}]);const wI=new tt("NgValidators"),_I=new tt("NgAsyncValidators"),CI=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class EI{static min(e){return t=>{if(bI(t.value)||bI(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(bI(t.value)||bI(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return bI(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return bI(e.value)?null:CI.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(bI(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return EI.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(bI(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(SI);return 0==t.length?null:function(e){return DI(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(SI);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),0===t.length?yv:n?e(t).pipe(j(e=>n(...e))):new _(e=>new iI(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(TI)).pipe(j(DI))}}}function SI(e){return null!=e}function TI(e){const t=Tl(e)?G(e):e;if(!Dl(t))throw new Error("Expected validator to return Promise or Observable.");return t}function DI(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function II(e){return e.validate?t=>e.validate(t):e}function AI(e){return e.validate?t=>e.validate(t):e}const kI={provide:oI,useExisting:Ne(()=>NI),multi:!0};class NI{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){const t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}NI.decorators=[{type:_g,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[kI]}]}],NI.ctorParameters=(()=>[{type:fh},{type:lh}]);const xI={provide:oI,useExisting:Ne(()=>RI),multi:!0};class OI{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)}}OI.decorators=[{type:Ze}];class RI{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(pI),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=(()=>{e(this.value),this._registry.select(this)})}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}RI.decorators=[{type:_g,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[xI]}]}],RI.ctorParameters=(()=>[{type:fh},{type:lh},{type:OI},{type:at}]),RI.propDecorators={name:[{type:Sg}],formControlName:[{type:Sg}],value:[{type:Sg}]};const PI={provide:oI,useExisting:Ne(()=>MI),multi:!0};class MI{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}MI.decorators=[{type:_g,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[PI]}]}],MI.ctorParameters=(()=>[{type:fh},{type:lh}]);const FI={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class LI{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${FI.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${FI.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${FI.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${FI.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${FI.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${FI.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const VI={provide:oI,useExisting:Ne(()=>BI),multi:!0};function UI(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class BI{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=Vl}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=UI(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=(t=>{this.value=this._getOptionValue(t),e(this.value)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}BI.decorators=[{type:_g,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[VI]}]}],BI.ctorParameters=(()=>[{type:fh},{type:lh}]),BI.propDecorators={compareWith:[{type:Sg}]};class jI{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(UI(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}jI.decorators=[{type:_g,args:[{selector:"option"}]}],jI.ctorParameters=(()=>[{type:lh},{type:fh},{type:BI,decorators:[{type:pe},{type:ye}]}]),jI.propDecorators={ngValue:[{type:Sg,args:["ngValue"]}],value:[{type:Sg,args:["value"]}]};const qI={provide:oI,useExisting:Ne(()=>zI),multi:!0};function HI(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class zI{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=Vl}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=((e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)})}else t=((e,t)=>{e._setSelected(!1)});this._optionMap.forEach(t)}registerOnChange(e){this.onChange=(t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}zI.decorators=[{type:_g,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[qI]}]}],zI.ctorParameters=(()=>[{type:fh},{type:lh}]),zI.propDecorators={compareWith:[{type:Sg}]};class GI{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(HI(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(HI(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function KI(e,t){return[...t.path,e]}function WI(e,t){e||JI(t,"Cannot find control with"),t.valueAccessor||JI(t,"No value accessor for form control with"),e.validator=EI.compose([e.validator,t.validator]),e.asyncValidator=EI.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&QI(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&QI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function QI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function $I(e,t){null==e&&JI(t,"Cannot find control with"),e.validator=EI.compose([e.validator,t.validator]),e.asyncValidator=EI.composeAsync([e.asyncValidator,t.asyncValidator])}function YI(e){return JI(e,"There is no FormControl instance attached to form control element with")}function JI(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function XI(e){return null!=e?EI.compose(e.map(II)):null}function ZI(e){return null!=e?EI.composeAsync(e.map(AI)):null}function eA(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Vl(t,n.currentValue)}GI.decorators=[{type:_g,args:[{selector:"option"}]}],GI.ctorParameters=(()=>[{type:lh},{type:fh},{type:zI,decorators:[{type:pe},{type:ye}]}]),GI.propDecorators={ngValue:[{type:Sg,args:["ngValue"]}],value:[{type:Sg,args:["value"]}]};const tA=[aI,MI,NI,BI,zI,RI];function nA(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function rA(e,t){if(!t)return null;Array.isArray(t)||JI(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return t.forEach(t=>{t.constructor===cI?n=t:!function(e){return tA.some(t=>e.constructor===t)}(t)?(i&&JI(e,"More than one custom value accessor matches form control with"),i=t):(r&&JI(e,"More than one built-in value accessor matches form control with"),r=t)}),i||(r||(n||(JI(e,"No valid value accessor for form control with"),null)))}function iA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function oA(e,t,n,r){wo()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(LI.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const sA="VALID",aA="INVALID",uA="PENDING",lA="DISABLED";function cA(e){const t=dA(e)?e.validators:e;return Array.isArray(t)?XI(t):t||null}function hA(e,t){const n=dA(t)?t.asyncValidators:e;return Array.isArray(n)?ZI(n):n||null}function dA(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class fA{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===sA}get invalid(){return this.status===aA}get pending(){return this.status==uA}get disabled(){return this.status===lA}get enabled(){return this.status!==lA}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=cA(e)}setAsyncValidators(e){this.asyncValidator=hA(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uA,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lA,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sA,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==sA&&this.status!==uA||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lA:sA}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uA;const t=TI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(n)),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof gA?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof mA&&e.at(t)||null,e))}(this,e,".")}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Wp,this.statusChanges=new Wp}_calculateStatus(){return this._allControlsDisabled()?lA:this.errors?aA:this._anyControlsHaveStatus(uA)?uA:this._anyControlsHaveStatus(aA)?aA:sA}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){const t=this._parent&&this._parent.dirty;return!e&&t&&!this._parent._anyControlsDirty()}}class pA extends fA{constructor(e=null,t,n){super(cA(t),hA(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class gA extends fA{constructor(e,t,n){super(cA(t),hA(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof pA?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class mA extends fA{constructor(e,t,n){super(cA(t),hA(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof pA?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const yA={provide:dI,useExisting:Ne(()=>bA)},vA=(()=>Promise.resolve(null))();class bA extends dI{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Wp,this.form=new gA({},XI(e),ZI(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){vA.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),WI(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){vA.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),iA(this._directives,e)})}addFormGroup(e){vA.then(()=>{const t=this._findContainer(e.path),n=new gA({});$I(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){vA.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){vA.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nA(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}bA.decorators=[{type:_g,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,ng-form,[ngForm]",providers:[yA],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],bA.ctorParameters=(()=>[{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[wI]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[_I]}]}]),bA.propDecorators={options:[{type:Sg,args:["ngFormOptions"]}]};class wA{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${FI.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${FI.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${FI.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${FI.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${FI.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${FI.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const _A=new tt("NgFormSelectorWarning");class CA{constructor(e){(e&&"once"!==e||CA._ngFormWarning)&&"always"!==e||(wA.ngFormWarning(),CA._ngFormWarning=!0)}}CA._ngFormWarning=!1,CA.decorators=[{type:_g,args:[{selector:"ngForm"}]}],CA.ctorParameters=(()=>[{type:void 0,decorators:[{type:pe},{type:fe,args:[_A]}]}]);class EA extends dI{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return KI(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return XI(this._validators)}get asyncValidator(){return ZI(this._asyncValidators)}_checkParentType(){}}const SA={provide:dI,useExisting:Ne(()=>TA)};class TA extends EA{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof TA||this._parent instanceof bA||wA.modelGroupParentException()}}TA.decorators=[{type:_g,args:[{selector:"[ngModelGroup]",providers:[SA],exportAs:"ngModelGroup"}]}],TA.ctorParameters=(()=>[{type:dI,decorators:[{type:ye},{type:me}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[wI]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[_I]}]}]),TA.propDecorators={name:[{type:Sg,args:["ngModelGroup"]}]};const DA={provide:pI,useExisting:Ne(()=>AA)},IA=(()=>Promise.resolve(null))();class AA extends pI{constructor(e,t,n,r){super(),this.control=new pA,this._registered=!1,this.update=new Wp,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=rA(this,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),eA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?KI(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return XI(this._rawValidators)}get asyncValidator(){return ZI(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){WI(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof TA)&&this._parent instanceof EA?wA.formGroupNameException():this._parent instanceof TA||this._parent instanceof bA||wA.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||wA.missingNameException()}_updateValue(e){IA.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;IA.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}AA.decorators=[{type:_g,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[DA],exportAs:"ngModel"}]}],AA.ctorParameters=(()=>[{type:dI,decorators:[{type:pe},{type:ye}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[wI]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[_I]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[oI]}]}]),AA.propDecorators={name:[{type:Sg}],isDisabled:[{type:Sg,args:["disabled"]}],model:[{type:Sg,args:["ngModel"]}],options:[{type:Sg,args:["ngModelOptions"]}],update:[{type:Tg,args:["ngModelChange"]}]};class kA{}kA.decorators=[{type:_g,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}];const NA=new tt("NgModelWithFormControlWarning"),xA={provide:pI,useExisting:Ne(()=>OA)};class OA extends pI{constructor(e,t,n,r){super(),this._ngModelWarningConfig=r,this.update=new Wp,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=rA(this,n)}set isDisabled(e){LI.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(WI(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),eA(e,this.viewModel)&&(oA("formControl",OA,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return XI(this._rawValidators)}get asyncValidator(){return ZI(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}OA._ngModelWarningSentOnce=!1,OA.decorators=[{type:_g,args:[{selector:"[formControl]",providers:[xA],exportAs:"ngForm"}]}],OA.ctorParameters=(()=>[{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[wI]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[_I]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[oI]}]},{type:void 0,decorators:[{type:pe},{type:fe,args:[NA]}]}]),OA.propDecorators={form:[{type:Sg,args:["formControl"]}],isDisabled:[{type:Sg,args:["disabled"]}],model:[{type:Sg,args:["ngModel"]}],update:[{type:Tg,args:["ngModelChange"]}]};const RA={provide:dI,useExisting:Ne(()=>PA)};class PA extends dI{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Wp}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return WI(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){iA(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);$I(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);$I(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,nA(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(!function(e,t){t.valueAccessor.registerOnChange(()=>YI(t)),t.valueAccessor.registerOnTouched(()=>YI(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&WI(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=XI(this._validators);this.form.validator=EI.compose([this.form.validator,e]);const t=ZI(this._asyncValidators);this.form.asyncValidator=EI.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||LI.missingFormException()}}PA.decorators=[{type:_g,args:[{selector:"[formGroup]",providers:[RA],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],PA.ctorParameters=(()=>[{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[wI]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[_I]}]}]),PA.propDecorators={form:[{type:Sg,args:["formGroup"]}],ngSubmit:[{type:Tg}]};const MA={provide:dI,useExisting:Ne(()=>FA)};class FA extends EA{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){UA(this._parent)&&LI.groupParentException()}}FA.decorators=[{type:_g,args:[{selector:"[formGroupName]",providers:[MA]}]}],FA.ctorParameters=(()=>[{type:dI,decorators:[{type:pe},{type:ye},{type:me}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[wI]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[_I]}]}]),FA.propDecorators={name:[{type:Sg,args:["formGroupName"]}]};const LA={provide:dI,useExisting:Ne(()=>VA)};class VA extends dI{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return KI(this.name,this._parent)}get validator(){return XI(this._validators)}get asyncValidator(){return ZI(this._asyncValidators)}_checkParentType(){UA(this._parent)&&LI.arrayParentException()}}function UA(e){return!(e instanceof FA||e instanceof PA||e instanceof VA)}VA.decorators=[{type:_g,args:[{selector:"[formArrayName]",providers:[LA]}]}],VA.ctorParameters=(()=>[{type:dI,decorators:[{type:pe},{type:ye},{type:me}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[wI]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[_I]}]}]),VA.propDecorators={name:[{type:Sg,args:["formArrayName"]}]};const BA={provide:pI,useExisting:Ne(()=>jA)};class jA extends pI{constructor(e,t,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Wp,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=rA(this,r)}set isDisabled(e){LI.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),eA(e,this.viewModel)&&(oA("formControlName",jA,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return KI(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return XI(this._rawValidators)}get asyncValidator(){return ZI(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof FA)&&this._parent instanceof EA?LI.ngModelGroupException():this._parent instanceof FA||this._parent instanceof PA||this._parent instanceof VA||LI.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}jA._ngModelWarningSentOnce=!1,jA.decorators=[{type:_g,args:[{selector:"[formControlName]",providers:[BA]}]}],jA.ctorParameters=(()=>[{type:dI,decorators:[{type:pe},{type:ye},{type:me}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[wI]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[_I]}]},{type:Array,decorators:[{type:pe},{type:ge},{type:fe,args:[oI]}]},{type:void 0,decorators:[{type:pe},{type:fe,args:[NA]}]}]),jA.propDecorators={name:[{type:Sg,args:["formControlName"]}],isDisabled:[{type:Sg,args:["disabled"]}],model:[{type:Sg,args:["ngModel"]}],update:[{type:Tg,args:["ngModelChange"]}]};const qA={provide:wI,useExisting:Ne(()=>zA),multi:!0},HA={provide:wI,useExisting:Ne(()=>GA),multi:!0};class zA{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?EI.required(e):null}registerOnValidatorChange(e){this._onChange=e}}zA.decorators=[{type:_g,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[qA],host:{"[attr.required]":'required ? "" : null'}}]}],zA.propDecorators={required:[{type:Sg}]};class GA extends zA{validate(e){return this.required?EI.requiredTrue(e):null}}GA.decorators=[{type:_g,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[HA],host:{"[attr.required]":'required ? "" : null'}}]}];const KA={provide:wI,useExisting:Ne(()=>WA),multi:!0};class WA{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?EI.email(e):null}registerOnValidatorChange(e){this._onChange=e}}WA.decorators=[{type:_g,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[KA]}]}],WA.propDecorators={email:[{type:Sg}]};const QA={provide:wI,useExisting:Ne(()=>$A),multi:!0};class $A{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=EI.minLength(parseInt(this.minlength,10))}}$A.decorators=[{type:_g,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[QA],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],$A.propDecorators={minlength:[{type:Sg}]};const YA={provide:wI,useExisting:Ne(()=>JA),multi:!0};class JA{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=EI.maxLength(parseInt(this.maxlength,10))}}JA.decorators=[{type:_g,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[YA],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],JA.propDecorators={maxlength:[{type:Sg}]};const XA={provide:wI,useExisting:Ne(()=>ZA),multi:!0};class ZA{ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=EI.pattern(this.pattern)}}ZA.decorators=[{type:_g,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[XA],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],ZA.propDecorators={pattern:[{type:Sg}]};const ek=[kA,jI,GI,cI,NI,MI,aI,BI,zI,RI,yI,vI,zA,$A,JA,ZA,GA,WA],tk=[AA,TA,bA,CA],nk=[OA,PA,jA,FA,VA];class rk{}rk.decorators=[{type:xg,args:[{declarations:ek,exports:ek}]}];class ik{group(e,t=null){const n=this._reduceControls(e);let r=null,i=null,o=void 0;return null!=t&&(!function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null):(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0)),new gA(n,{asyncValidators:i,updateOn:o,validators:r})}control(e,t,n){return new pA(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new mA(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){if(e instanceof pA||e instanceof gA||e instanceof mA)return e;if(Array.isArray(e)){const t=e[0],n=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,n,r)}return this.control(e)}}ik.decorators=[{type:Ze}];new gh("8.0.3");class ok{static withConfig(e){return{ngModule:ok,providers:[{provide:_A,useValue:e.warnOnDeprecatedNgFormSelector}]}}}ok.decorators=[{type:xg,args:[{declarations:tk,providers:[OI],exports:[rk,tk]}]}];class sk{static withConfig(e){return{ngModule:sk,providers:[{provide:NA,useValue:e.warnOnNgModelWithFormControl}]}}}sk.decorators=[{type:xg,args:[{declarations:[nk],providers:[ik,OI],exports:[rk,nk]}]}];class ak{constructor(e,t,n){this.fakeService=e,this.router=t,this.messageService=n,this.title="quiz",this.correctAnswer=["A","B","B","A","A"],this.questions=[{id:"1",description:"For What is a JSONStringer used for?",selectedName:"q1",answers:[{id:"A",text:"  To quickly create number to JSON text."},{id:"B",text:"To converts JSON to Java strings"},{id:"C",text:"To create JSON ordered pairs."},{id:"D",text:"To quickly create JSON text"}]},{id:"2",description:"For What is a JSONStringer used for?",selectedName:"q2",answers:[{id:"A",text:"  To quickly create number to JSON text."},{id:"B",text:"To converts JSON to Java strings"},{id:"C",text:"To create JSON ordered pairs."},{id:"D",text:"To quickly create JSON text"}]}]}ngOnInit(){this.quizForm=new gA({q1:new pA(null),q2:new pA(null),q3:new pA(null),q4:new pA(null),q5:new pA(null)})}quizSubmit(){console.log(this.quizForm.value.q1);let e=0;[this.quizForm.value.q1,this.quizForm.value.q2,this.quizForm.value.q3,this.quizForm.value.q4,this.quizForm.value.q5].forEach((t,n)=>{t==this.correctAnswer[n]&&(e+=20)}),window.scroll(0,0);let t=0;const n=setInterval(()=>{this.results=t,t===e?clearInterval(n):t++},20);this.fakeService.isLogout()}}class uk{constructor(){this.loggedIn=!1}isAuthorised(){return new Promise((e,t)=>{setTimeout(()=>{e(this.loggedIn)},700)})}isLogin(){this.loggedIn=!0}isLogout(){this.loggedIn=!1}}uk.ngInjectableDef=Ce({factory:function(){return new uk},token:uk,providedIn:"root"});var lk=td({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{border:0;border-radius:.1875rem;position:relative;overflow:hidden;width:100%;margin-bottom:20px;box-shadow:0 5px 25px 0 rgba(0,0,0,.2);background-color:#007bff!important}"]],data:{}});function ck(e){return uy(0,[(e()(),Wm(0,0,null,null,6,"div",[["class","result py-4  bg-light text-center"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,5,"div",[["class","fluid lead"]],null,null,null,null,null)),(e()(),Wm(2,0,null,null,4,"p",[],null,null,null,null,null)),(e()(),oy(-1,null,[" you are "])),(e()(),Wm(4,0,null,null,1,"span",[["class","text-primary display-4 p-3"]],null,null,null,null,null)),(e()(),oy(5,null,["","%"])),(e()(),oy(-1,null,["Christies"]))],null,function(e,t){e(t,5,0,t.component.results)})}function hk(e){return uy(0,[(e()(),Wm(0,0,null,null,9,"div",[["class","form-check my-2 text-white-50"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,6,"input",[["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var r=!0;"input"===t&&(r=!1!==ef(e,2)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,2).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,2)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,2)._compositionEnd(n.target.value)&&r);"change"===t&&(r=!1!==ef(e,3).onChange()&&r);"blur"===t&&(r=!1!==ef(e,3).onTouched()&&r);return r},null,null)),pf(2,16384,null,0,cI,[fh,lh,[2,lI]],null,null),pf(3,212992,null,0,RI,[fh,lh,OI,at],{formControlName:[0,"formControlName"],value:[1,"value"]},null),gf(1024,null,oI,function(e,t){return[e,t]},[cI,RI]),pf(5,671744,null,0,jA,[[3,dI],[8,null],[8,null],[6,oI],[2,NA]],{name:[0,"name"]},null),gf(2048,null,pI,null,[jA]),pf(7,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(8,0,null,null,1,"label",[["class","form-check-label pl-2"]],null,null,null,null,null)),(e()(),oy(9,null,["",""]))],function(e,t){e(t,3,0,t.parent.context.$implicit.selectedName,t.context.$implicit.id),e(t,5,0,t.parent.context.$implicit.selectedName)},function(e,t){e(t,1,0,ef(t,7).ngClassUntouched,ef(t,7).ngClassTouched,ef(t,7).ngClassPristine,ef(t,7).ngClassDirty,ef(t,7).ngClassValid,ef(t,7).ngClassInvalid,ef(t,7).ngClassPending),e(t,9,0,t.context.$implicit.text)})}function dk(e){return uy(0,[(e()(),Wm(0,0,null,null,4,"div",[["class","my-5 card"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,1,"p",[["class","lead font-weight-normal ml-2"]],null,null,null,null,null)),(e()(),oy(2,null,["",". ",""])),(e()(),Km(16777216,null,null,1,null,hk)),pf(4,278528,null,0,Qb,[Lh,Mh,Ih],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,4,0,t.context.$implicit.answers)},function(e,t){e(t,2,0,t.context.$implicit.id,t.context.$implicit.description)})}function fk(e){return uy(0,[(e()(),Wm(0,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,3,"div",[["class","intro py-3 bg-white text-center"]],null,null,null,null,null)),(e()(),Wm(2,0,null,null,2,"div",[["class","fluid"]],null,null,null,null,null)),(e()(),Wm(3,0,null,null,1,"h2",[["class","text-primary display-3 my-4"]],null,null,null,null,null)),(e()(),oy(-1,null,["Christies Quiz"])),(e()(),Km(16777216,null,null,1,null,ck)),pf(6,16384,null,0,Yb,[Lh,Mh],{ngIf:[0,"ngIf"]},null),(e()(),Wm(7,0,null,null,12,"div",[["class","quiz py-4"]],null,null,null,null,null)),(e()(),Wm(8,0,null,null,11,"div",[["class","fluid"]],null,null,null,null,null)),(e()(),Wm(9,0,null,null,1,"h2",[["class","my-5 text-primary"]],null,null,null,null,null)),(e()(),oy(-1,null,["On the With Questions..."])),(e()(),Wm(11,0,null,null,8,"form",[["class","quiz-form text-light"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,i=e.component;"submit"===t&&(r=!1!==ef(e,13).onSubmit(n)&&r);"reset"===t&&(r=!1!==ef(e,13).onReset()&&r);"ngSubmit"===t&&(r=!1!==i.quizSubmit()&&r);return r},null,null)),pf(12,16384,null,0,kA,[],null,null),pf(13,540672,null,0,PA,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),gf(2048,null,dI,null,[PA]),pf(15,16384,null,0,vI,[[4,dI]],null,null),(e()(),Km(16777216,null,null,1,null,dk)),pf(17,278528,null,0,Qb,[Lh,Mh,Ih],{ngForOf:[0,"ngForOf"]},null),(e()(),Wm(18,0,null,null,1,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),Wm(19,0,null,null,0,"input",[["class","btn btn-primary"],["type","submit"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,6,0,null!=n.results),e(t,13,0,n.quizForm),e(t,17,0,n.questions)},function(e,t){e(t,11,0,ef(t,15).ngClassUntouched,ef(t,15).ngClassTouched,ef(t,15).ngClassPristine,ef(t,15).ngClassDirty,ef(t,15).ngClassValid,ef(t,15).ngClassInvalid,ef(t,15).ngClassPending)})}var pk=Hd("app-quiz",ak,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-quiz",[],null,null,null,fk,lk)),pf(1,114688,null,0,ak,[uk,eD,PD],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);class gk{get e164(){return`+${this.country+this.area}`}}class mk{constructor(e){this.win=e,this.phoneNumber=new gk,this.userData=!1}ngOnInit(){this.windowRef=this.win.windowRef,this.windowRef.recaptchaVerifier=new HD.auth.RecaptchaVerifier("recaptcha-container"),this.windowRef.recaptchaVerifier.render()}sendLoginCode(){const e=this.windowRef.recaptchaVerifier,t=this.phoneNumber.e164;HD.auth().signInWithPhoneNumber(t,e).then(e=>{this.windowRef.confirmationResult=e,this.userData=!0}).catch(e=>console.log(e))}verifyLoginCode(){this.windowRef.confirmationResult.confirm(this.verificationCode).then(e=>{this.user=e.user}).catch(e=>console.log(e,"Incorrect code entered?"))}}class yk{constructor(){}get windowRef(){return window}}yk.ngInjectableDef=Ce({factory:function(){return new yk},token:yk,providedIn:"root"});var vk=td({encapsulation:0,styles:[[".hidden[_ngcontent-%COMP%]{display:none}"]],data:{}});function bk(e){return uy(0,[(e()(),Wm(0,0,null,null,12,"div",[["class","fluid pr-1 pl-1 form-action mt-3 "]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,11,"div",[["class"," col-sm-12 col-md-8 col-lg-6 mx-auto ba "]],null,null,null,null,null)),(e()(),Wm(2,0,null,null,1,"label",[["for","code"]],null,null,null,null,null)),(e()(),oy(-1,null,["Enter your Verification Code Here"])),(e()(),Wm(4,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Wm(5,0,null,null,5,"input",[["class","form-control col-12"],["name","code"],["placeholder","Please Enter a Verification Code"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,i=e.component;"input"===t&&(r=!1!==ef(e,6)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,6).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,6)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,6)._compositionEnd(n.target.value)&&r);"ngModelChange"===t&&(r=!1!==(i.verificationCode=n)&&r);return r},null,null)),pf(6,16384,null,0,cI,[fh,lh,[2,lI]],null,null),gf(1024,null,oI,function(e){return[e]},[cI]),pf(8,671744,null,0,AA,[[8,null],[8,null],[8,null],[6,oI]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),gf(2048,null,pI,null,[AA]),pf(10,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(11,0,null,null,1,"button",[["class","btn btn-primary mb-2 mt-2"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.verifyLoginCode()&&r);return r},null,null)),(e()(),oy(-1,null,["Verify"]))],function(e,t){e(t,8,0,"code",t.component.verificationCode)},function(e,t){e(t,5,0,ef(t,10).ngClassUntouched,ef(t,10).ngClassTouched,ef(t,10).ngClassPristine,ef(t,10).ngClassDirty,ef(t,10).ngClassValid,ef(t,10).ngClassInvalid,ef(t,10).ngClassPending)})}function wk(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),oy(1,null,[" You have successfully logged in with your phone number! UserId: "," "]))],null,function(e,t){var n=t.component;e(t,1,0,null==n.user?null:n.user.uid)})}function _k(e){return uy(0,[(e()(),Wm(0,0,null,null,28,"div",[["class","fluid pr-1 pl-1 form-action mt-3 "]],null,null,null,null,null)),gf(512,null,Bb,jb,[Ih,Ah,lh,fh]),pf(2,278528,null,0,Gb,[Bb],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ry(3,{hidden:0}),(e()(),Wm(4,0,null,null,24,"div",[["class"," col-sm-12 col-md-8 col-lg-6 mx-auto ba "]],null,null,null,null,null)),(e()(),Wm(5,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),oy(-1,null,["Sign In with Your Phone Number"])),(e()(),Wm(7,0,null,null,1,"label",[["for","phone"]],null,null,null,null,null)),(e()(),oy(-1,null,["Phone Number"])),(e()(),Wm(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Wm(10,0,null,null,7,"input",[["class","form-control col-12 mb-3"],["maxlength","5"],["placeholder","Country Code"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,i=e.component;"input"===t&&(r=!1!==ef(e,11)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,11).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,11)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,11)._compositionEnd(n.target.value)&&r);"ngModelChange"===t&&(r=!1!==(i.phoneNumber.country=n)&&r);return r},null,null)),pf(11,16384,null,0,cI,[fh,lh,[2,lI]],null,null),pf(12,540672,null,0,JA,[],{maxlength:[0,"maxlength"]},null),gf(1024,null,wI,function(e){return[e]},[JA]),gf(1024,null,oI,function(e){return[e]},[cI]),pf(15,671744,null,0,AA,[[8,null],[6,wI],[8,null],[6,oI]],{model:[0,"model"]},{update:"ngModelChange"}),gf(2048,null,pI,null,[AA]),pf(17,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(18,0,null,null,7,"input",[["class","form-control col-12"],["maxlength","10"],["placeholder","Enter your Mobile Number"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0,i=e.component;"input"===t&&(r=!1!==ef(e,19)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,19).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,19)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,19)._compositionEnd(n.target.value)&&r);"ngModelChange"===t&&(r=!1!==(i.phoneNumber.area=n)&&r);return r},null,null)),pf(19,16384,null,0,cI,[fh,lh,[2,lI]],null,null),pf(20,540672,null,0,JA,[],{maxlength:[0,"maxlength"]},null),gf(1024,null,wI,function(e){return[e]},[JA]),gf(1024,null,oI,function(e){return[e]},[cI]),pf(23,671744,null,0,AA,[[8,null],[6,wI],[8,null],[6,oI]],{model:[0,"model"]},{update:"ngModelChange"}),gf(2048,null,pI,null,[AA]),pf(25,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(26,0,null,null,0,"div",[["class","mb-2 mt-2"],["id","recaptcha-container"]],null,null,null,null,null)),(e()(),Wm(27,0,null,null,1,"button",[["class","btn btn-primary mb-2"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.sendLoginCode()&&r);return r},null,null)),(e()(),oy(-1,null,["SMS Text Login Code"])),(e()(),Km(16777216,null,null,1,null,bk)),pf(30,16384,null,0,Yb,[Lh,Mh],{ngIf:[0,"ngIf"]},null),(e()(),Km(16777216,null,null,1,null,wk)),pf(32,16384,null,0,Yb,[Lh,Mh],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,r=e(t,3,0,!!n.userData);e(t,2,0,"fluid pr-1 pl-1 form-action mt-3 ",r);e(t,12,0,"5"),e(t,15,0,n.phoneNumber.country);e(t,20,0,"10"),e(t,23,0,n.phoneNumber.area),e(t,30,0,n.windowRef.confirmationResult),e(t,32,0,n.user)},function(e,t){e(t,10,0,ef(t,12).maxlength?ef(t,12).maxlength:null,ef(t,17).ngClassUntouched,ef(t,17).ngClassTouched,ef(t,17).ngClassPristine,ef(t,17).ngClassDirty,ef(t,17).ngClassValid,ef(t,17).ngClassInvalid,ef(t,17).ngClassPending),e(t,18,0,ef(t,20).maxlength?ef(t,20).maxlength:null,ef(t,25).ngClassUntouched,ef(t,25).ngClassTouched,ef(t,25).ngClassPristine,ef(t,25).ngClassDirty,ef(t,25).ngClassValid,ef(t,25).ngClassInvalid,ef(t,25).ngClassPending)})}var Ck=Hd("app-phone-login",mk,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-phone-login",[],null,null,null,_k,vk)),pf(1,114688,null,0,mk,[yk],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);class Ek{constructor(){}ngOnInit(){}}var Sk=td({encapsulation:0,styles:[['.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:64px;height:64px;position:absolute;margin:60px auto;z-index:10000}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:46px;height:46px;margin:1px;border-radius:50%;border:5px solid #007bff;border-color:#007bff transparent;-webkit-animation:1.2s linear infinite lds-dual-ring;animation:1.2s linear infinite lds-dual-ring}@-webkit-keyframes lds-dual-ring{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes lds-dual-ring{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}']],data:{}});function Tk(e){return uy(0,[(e()(),Wm(0,0,null,null,0,"div",[["class","lds-dual-ring"]],null,null,null,null,null))],null,null)}Hd("app-loader",Ek,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-loader",[],null,null,null,Tk,Sk)),pf(1,114688,null,0,Ek,[],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);class Dk{constructor(e,t){this.authService=e,this.router=t,this.isLoginErrorMessage=!1,this.loaderShow=!1}ngOnInit(){}authSubmit(e){this.loaderShow=!0;const t=e.value.email,n=e.value.password;this.authService.signup(t,n).subscribe(e=>{console.log(e),this.loaderShow=!1,this.message=e,this.router.navigate(["login"])},e=>{this.errorMessage=e.error.error.message,this.loaderShow=!1,console.log(this.errorMessage),this.isLoginErrorMessage=!0}),e.reset()}loginForm(){this.router.navigate(["login"])}}class Ik{}class Ak{}class kk{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof kk?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new kk;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof kk?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===i.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Nk{encodeKey(e){return xk(e)}encodeValue(e){return xk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function xk(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ok{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Nk,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)});return n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new Ok({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Rk(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Pk(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Mk(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Fk{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new kk),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),r=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+r+e}}else this.params=new Ok,this.urlWithParams=t}serializeBody(){return null===this.body?null:Rk(this.body)||Pk(this.body)||Mk(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ok?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Mk(this.body)?null:Pk(this.body)?this.body.type||null:Rk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ok?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(u=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),u)),new Fk(t,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const Lk={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};Lk[Lk.Sent]="Sent",Lk[Lk.UploadProgress]="UploadProgress",Lk[Lk.ResponseHeader]="ResponseHeader",Lk[Lk.DownloadProgress]="DownloadProgress",Lk[Lk.Response]="Response",Lk[Lk.User]="User";class Vk{constructor(e,t=200,n="OK"){this.headers=e.headers||new kk,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Uk extends Vk{constructor(e={}){super(e),this.type=Lk.ResponseHeader}clone(e={}){return new Uk({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bk extends Vk{constructor(e={}){super(e),this.type=Lk.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bk({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jk extends Vk{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qk(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class Hk{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof Fk)r=e;else{let i=void 0;i=n.headers instanceof kk?n.headers:new kk(n.headers);let o=void 0;n.params&&(o=n.params instanceof Ok?n.params:new Ok({fromObject:n.params})),r=new Fk(e,t,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=wv(r).pipe(J_(e=>this.handler.handle(e)));if(e instanceof Fk||"events"===n.observe)return i;const o=i.pipe(b_(e=>e instanceof Bk));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(j(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(j(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(j(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(j(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Ok).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,qk(n,t))}post(e,t,n={}){return this.request("POST",e,qk(n,t))}put(e,t,n={}){return this.request("PUT",e,qk(n,t))}}Hk.decorators=[{type:Ze}],Hk.ctorParameters=(()=>[{type:Ik}]);class zk{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Gk=new tt("HTTP_INTERCEPTORS");class Kk{intercept(e,t){return t.handle(e)}}Kk.decorators=[{type:Ze}];let Wk=0;const Qk="JSONP injected script did not invoke callback.",$k="JSONP requests must use JSONP request method.",Yk="JSONP requests must use Json response type.";class Jk{}class Xk{constructor(e,t){this.callbackMap=e,this.document=t}nextCallback(){return`ng_jsonp_callback_${Wk++}`}handle(e){if("JSONP"!==e.method)throw new Error($k);if("json"!==e.responseType)throw new Error(Yk);return new _(t=>{const n=this.nextCallback(),r=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let o=null,s=!1,a=!1;this.callbackMap[n]=(e=>{delete this.callbackMap[n],a||(o=e,s=!0)});const u=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]},l=e=>{a||(u(),s?(t.next(new Bk({body:o,status:200,statusText:"OK",url:r})),t.complete()):t.error(new jk({url:r,status:0,statusText:"JSONP Error",error:new Error(Qk)})))},c=e=>{a||(u(),t.error(new jk({error:e,status:0,statusText:"JSONP Error",url:r})))};return i.addEventListener("load",l),i.addEventListener("error",c),this.document.body.appendChild(i),t.next({type:Lk.Sent}),()=>{a=!0,i.removeEventListener("load",l),i.removeEventListener("error",c),u()}})}}Xk.decorators=[{type:Ze}],Xk.ctorParameters=(()=>[{type:Jk},{type:void 0,decorators:[{type:fe,args:[o_]}]}]);class Zk{constructor(e){this.jsonp=e}intercept(e,t){return"JSONP"===e.method?this.jsonp.handle(e):t.handle(e)}}Zk.decorators=[{type:Ze}],Zk.ctorParameters=(()=>[{type:Xk}]);const eN=/^\)\]\}',?\n/;class tN{}class nN{constructor(){}build(){return new XMLHttpRequest}}nN.decorators=[{type:Ze}],nN.ctorParameters=(()=>[]);class rN{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new kk(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Uk({headers:o,status:t,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let l=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof u){const e=u;u=u.replace(eN,"");try{u=""!==u?JSON.parse(u):null}catch(c){u=e,l&&(l=!1,u={error:c,text:u})}}l?(t.next(new Bk({body:u,headers:r,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new jk({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:r}=o(),i=new jk({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let u=!1;const l=r=>{u||(t.next(o()),u=!0);let i={type:Lk.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},c=e=>{let n={type:Lk.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),t.next({type:Lk.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}rN.decorators=[{type:Ze}],rN.ctorParameters=(()=>[{type:tN}]);const iN=new tt("XSRF_COOKIE_NAME"),oN=new tt("XSRF_HEADER_NAME");class sN{}class aN{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rb(e,this.cookieName),this.lastCookieString=e),this.lastToken}}aN.decorators=[{type:Ze}],aN.ctorParameters=(()=>[{type:void 0,decorators:[{type:fe,args:[o_]}]},{type:String,decorators:[{type:fe,args:[Bg]}]},{type:String,decorators:[{type:fe,args:[iN]}]}]);class uN{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}uN.decorators=[{type:Ze}],uN.ctorParameters=(()=>[{type:sN},{type:String,decorators:[{type:fe,args:[oN]}]}]);class lN{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Gk,[]);this.chain=e.reduceRight((e,t)=>new zk(e,t),this.backend)}return this.chain.handle(e)}}lN.decorators=[{type:Ze}],lN.ctorParameters=(()=>[{type:Ak},{type:at}]);class cN{static disable(){return{ngModule:cN,providers:[{provide:uN,useClass:Kk}]}}static withOptions(e={}){return{ngModule:cN,providers:[e.cookieName?{provide:iN,useValue:e.cookieName}:[],e.headerName?{provide:oN,useValue:e.headerName}:[]]}}}cN.decorators=[{type:xg,args:[{providers:[uN,{provide:Gk,useExisting:uN,multi:!0},{provide:sN,useClass:aN},{provide:iN,useValue:"XSRF-TOKEN"},{provide:oN,useValue:"X-XSRF-TOKEN"}]}]}];class hN{}hN.decorators=[{type:xg,args:[{imports:[cN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[Hk,{provide:Ik,useClass:lN},rN,{provide:Ak,useExisting:rN},nN,{provide:tN,useExisting:nN}]}]}];(class{}).decorators=[{type:xg,args:[{providers:[Xk,{provide:Jk,useFactory:function(){return"object"==typeof window?window:{}}},{provide:Gk,useClass:Zk,multi:!0}]}]}];class dN{constructor(e){this.http=e}signup(e,t){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDTQiG3dA0EADCgkpJ3PN3P5KZQso7JIo0",{email:e,password:t,returnSecureToken:!0})}signin(e,t){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDTQiG3dA0EADCgkpJ3PN3P5KZQso7JIo0",{email:e,password:t,returnSecureToken:!0})}signreset(e){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyDTQiG3dA0EADCgkpJ3PN3P5KZQso7JIo0",{email:e,requestType:"PASSWORD_RESET"})}verifyResetPassword(e){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:resetPassword?key=AIzaSyDTQiG3dA0EADCgkpJ3PN3P5KZQso7JIo0",{oobCode:e})}confirmPassword(e,t){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:resetPassword?key=AIzaSyDTQiG3dA0EADCgkpJ3PN3P5KZQso7JIo0",{oobCode:t,newPassword:e})}}dN.ngInjectableDef=Ce({factory:function(){return new dN(Ve(Hk))},token:dN,providedIn:"root"});var fN=td({encapsulation:0,styles:[[""]],data:{}});function pN(e){return uy(0,[(e()(),Wm(0,0,null,null,2,"div",[["class","loader-center"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,1,"app-loader",[],null,null,null,Tk,Sk)),pf(2,114688,null,0,Ek,[],null,null)],function(e,t){e(t,2,0)},null)}function gN(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"div",[["class","alert alert-danger col-sm-12 col-md-8 col-lg-6 mx-auto"]],null,null,null,null,null)),(e()(),oy(1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.errorMessage)})}function mN(e){return uy(0,[(e()(),Wm(0,0,null,null,38,"div",[["class","fluid pr-1 pl-1 form-action mt-3"]],null,null,null,null,null)),(e()(),Km(16777216,null,null,1,null,pN)),pf(2,16384,null,0,Yb,[Lh,Mh],{ngIf:[0,"ngIf"]},null),(e()(),Km(16777216,null,null,1,null,gN)),pf(4,16384,null,0,Yb,[Lh,Mh],{ngIf:[0,"ngIf"]},null),(e()(),Wm(5,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,i=e.component;"submit"===t&&(r=!1!==ef(e,7).onSubmit(n)&&r);"reset"===t&&(r=!1!==ef(e,7).onReset()&&r);"ngSubmit"===t&&(r=!1!==i.authSubmit(ef(e,7))&&r);return r},null,null)),pf(6,16384,null,0,kA,[],null,null),pf(7,4210688,[["authForm",4]],0,bA,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),gf(2048,null,dI,null,[bA]),pf(9,16384,null,0,vI,[[4,dI]],null,null),(e()(),Wm(10,0,null,null,28,"div",[["class","col-sm-12 col-md-8 col-lg-6 mx-auto ba"]],null,null,null,null,null)),(e()(),Wm(11,0,null,null,11,"div",[["class","form-group mt-3"]],null,null,null,null,null)),(e()(),Wm(12,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),oy(-1,null,["Your Email"])),(e()(),Wm(14,0,null,null,8,"input",[["class","form-control"],["email",""],["id","email"],["name","email"],["ngModel",""],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;"input"===t&&(r=!1!==ef(e,15)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,15).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,15)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,15)._compositionEnd(n.target.value)&&r);return r},null,null)),pf(15,16384,null,0,cI,[fh,lh,[2,lI]],null,null),pf(16,16384,null,0,zA,[],{required:[0,"required"]},null),pf(17,16384,null,0,WA,[],{email:[0,"email"]},null),gf(1024,null,wI,function(e,t){return[e,t]},[zA,WA]),gf(1024,null,oI,function(e){return[e]},[cI]),pf(20,671744,null,0,AA,[[2,dI],[6,wI],[8,null],[6,oI]],{name:[0,"name"],model:[1,"model"]},null),gf(2048,null,pI,null,[AA]),pf(22,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(23,0,null,null,10,"div",[["class","form-group mt-3"]],null,null,null,null,null)),(e()(),Wm(24,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(e()(),oy(-1,null,["Your Password"])),(e()(),Wm(26,0,null,null,7,"input",[["class","form-control"],["id","password"],["name","password"],["ngModel",""],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;"input"===t&&(r=!1!==ef(e,27)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,27).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,27)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,27)._compositionEnd(n.target.value)&&r);return r},null,null)),pf(27,16384,null,0,cI,[fh,lh,[2,lI]],null,null),pf(28,16384,null,0,zA,[],{required:[0,"required"]},null),gf(1024,null,wI,function(e){return[e]},[zA]),gf(1024,null,oI,function(e){return[e]},[cI]),pf(31,671744,null,0,AA,[[2,dI],[6,wI],[8,null],[6,oI]],{name:[0,"name"],model:[1,"model"]},null),gf(2048,null,pI,null,[AA]),pf(33,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(34,0,null,null,4,"div",[["class","mb-1"]],null,null,null,null,null)),(e()(),Wm(35,0,null,null,1,"button",[["class","btn btn-primary col-md-3 col-sm-12 mr-1 mb-2"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oy(-1,null,["Sign Up"])),(e()(),Wm(37,0,null,null,1,"button",[["class","btn btn-primary col-md-2 col-sm-12 mr-1 mb-2 "]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.loginForm()&&r);return r},null,null)),(e()(),oy(-1,null,["Login"]))],function(e,t){var n=t.component;e(t,2,0,n.loaderShow),e(t,4,0,n.isLoginErrorMessage);e(t,16,0,"");e(t,17,0,"");e(t,20,0,"email","");e(t,28,0,"");e(t,31,0,"password","")},function(e,t){e(t,5,0,ef(t,9).ngClassUntouched,ef(t,9).ngClassTouched,ef(t,9).ngClassPristine,ef(t,9).ngClassDirty,ef(t,9).ngClassValid,ef(t,9).ngClassInvalid,ef(t,9).ngClassPending),e(t,14,0,ef(t,16).required?"":null,ef(t,22).ngClassUntouched,ef(t,22).ngClassTouched,ef(t,22).ngClassPristine,ef(t,22).ngClassDirty,ef(t,22).ngClassValid,ef(t,22).ngClassInvalid,ef(t,22).ngClassPending),e(t,26,0,ef(t,28).required?"":null,ef(t,33).ngClassUntouched,ef(t,33).ngClassTouched,ef(t,33).ngClassPristine,ef(t,33).ngClassDirty,ef(t,33).ngClassValid,ef(t,33).ngClassInvalid,ef(t,33).ngClassPending),e(t,35,0,!ef(t,7).valid)})}var yN=Hd("app-signup",Dk,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-signup",[],null,null,null,mN,fN)),pf(1,114688,null,0,Dk,[dN,eD],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);class vN{constructor(e,t,n,r,i){this.authService=e,this.router=t,this.fakeService=n,this.authenticate=r,this.afAuth=i,this.loaderShow=!1}ngOnInit(){G([2,3,4,5]).subscribe(e=>console.log(`Resulting an item ${e}`),e=>console.log(`Error an item ${e}`),()=>console.log("Complete")),this.afAuth.authState.subscribe(e=>{console.log(e),null!==e.email&&void 0!==e.email&&this.router.navigate(["welcome"])})}authLoginSubmit(e){this.loaderShow=!0;const t=e.value.email,n=e.value.password;this.authService.signin(t,n).subscribe(e=>{this.fakeService.isLogin(),this.loaderShow=!1,this.router.navigate(["welcome"])},e=>{this.errorMessageLogin=e.error.error.message,this.loaderShow=!1,console.log(this.errorMessageLogin),this.isLoginErrorMessage=!0}),e.reset()}resetPassword(){this.router.navigate(["resetPassword"])}signup(){this.router.navigate(["signup"])}doGoogle(){this.authenticate.doGoogleLogin()}doPhone(){this.router.navigate(["phone"])}}class bN{constructor(e){this.angularFireAuth=e}doGoogleLogin(){this.angularFireAuth.auth.signInWithRedirect(new HD.auth.GoogleAuthProvider)}}bN.ngInjectableDef=Ce({factory:function(){return new bN(Ve(eI))},token:bN,providedIn:"root"});var wN=td({encapsulation:0,styles:[[""]],data:{}});function _N(e){return uy(0,[(e()(),Wm(0,0,null,null,2,"div",[["class","loader-center"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,1,"app-loader",[],null,null,null,Tk,Sk)),pf(2,114688,null,0,Ek,[],null,null)],function(e,t){e(t,2,0)},null)}function CN(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"div",[["class","alert alert-danger col-sm-12 col-md-8 col-lg-6 mx-auto"]],null,null,null,null,null)),(e()(),oy(1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.errorMessageLogin)})}function EN(e){return uy(0,[(e()(),Wm(0,0,null,null,46,"div",[["class","fluid pr-1 pl-1 form-action mt-3"]],null,null,null,null,null)),(e()(),Km(16777216,null,null,1,null,_N)),pf(2,16384,null,0,Yb,[Lh,Mh],{ngIf:[0,"ngIf"]},null),(e()(),Km(16777216,null,null,1,null,CN)),pf(4,16384,null,0,Yb,[Lh,Mh],{ngIf:[0,"ngIf"]},null),(e()(),Wm(5,0,null,null,41,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,i=e.component;"submit"===t&&(r=!1!==ef(e,7).onSubmit(n)&&r);"reset"===t&&(r=!1!==ef(e,7).onReset()&&r);"ngSubmit"===t&&(r=!1!==i.authLoginSubmit(ef(e,7))&&r);return r},null,null)),pf(6,16384,null,0,kA,[],null,null),pf(7,4210688,[["authLoginForm",4]],0,bA,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),gf(2048,null,dI,null,[bA]),pf(9,16384,null,0,vI,[[4,dI]],null,null),(e()(),Wm(10,0,null,null,36,"div",[["class","col-sm-12 col-md-8 col-lg-6 mx-auto ba"]],null,null,null,null,null)),(e()(),Wm(11,0,null,null,11,"div",[["class","form-group mt-3"]],null,null,null,null,null)),(e()(),Wm(12,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(e()(),oy(-1,null,["Login Email"])),(e()(),Wm(14,0,null,null,8,"input",[["class","form-control"],["email",""],["id","email"],["name","email"],["ngModel",""],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;"input"===t&&(r=!1!==ef(e,15)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,15).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,15)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,15)._compositionEnd(n.target.value)&&r);return r},null,null)),pf(15,16384,null,0,cI,[fh,lh,[2,lI]],null,null),pf(16,16384,null,0,zA,[],{required:[0,"required"]},null),pf(17,16384,null,0,WA,[],{email:[0,"email"]},null),gf(1024,null,wI,function(e,t){return[e,t]},[zA,WA]),gf(1024,null,oI,function(e){return[e]},[cI]),pf(20,671744,null,0,AA,[[2,dI],[6,wI],[8,null],[6,oI]],{name:[0,"name"],model:[1,"model"]},null),gf(2048,null,pI,null,[AA]),pf(22,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(23,0,null,null,10,"div",[["class","form-group mt-3"]],null,null,null,null,null)),(e()(),Wm(24,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(e()(),oy(-1,null,["Login Password"])),(e()(),Wm(26,0,null,null,7,"input",[["class","form-control"],["id","password"],["name","password"],["ngModel",""],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;"input"===t&&(r=!1!==ef(e,27)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,27).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,27)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,27)._compositionEnd(n.target.value)&&r);return r},null,null)),pf(27,16384,null,0,cI,[fh,lh,[2,lI]],null,null),pf(28,16384,null,0,zA,[],{required:[0,"required"]},null),gf(1024,null,wI,function(e){return[e]},[zA]),gf(1024,null,oI,function(e){return[e]},[cI]),pf(31,671744,null,0,AA,[[2,dI],[6,wI],[8,null],[6,oI]],{name:[0,"name"],model:[1,"model"]},null),gf(2048,null,pI,null,[AA]),pf(33,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(34,0,null,null,6,"div",[["class","mb-1"]],null,null,null,null,null)),(e()(),Wm(35,0,null,null,1,"button",[["class","btn btn-primary col-md-2 col-sm-12 mr-1 mb-2"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),oy(-1,null,["Login"])),(e()(),Wm(37,0,null,null,1,"button",[["class","btn btn-primary col-md-3 mr-1 mb-2"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.signup()&&r);return r},null,null)),(e()(),oy(-1,null,["Sign Up "])),(e()(),Wm(39,0,null,null,1,"button",[["class","btn btn-primary col-md-6 col-sm-12 mb-2"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.resetPassword()&&r);return r},null,null)),(e()(),oy(-1,null,["Forget Password"])),(e()(),Wm(41,0,null,null,5,"div",[["class","mb-1"]],null,null,null,null,null)),(e()(),Wm(42,0,null,null,0,"a",[["class","fa fa-facebook"]],null,null,null,null,null)),(e()(),Wm(43,0,null,null,0,"a",[["class","fa fa-twitter"]],null,null,null,null,null)),(e()(),Wm(44,0,null,null,0,"a",[["class","fa fa-google"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.doGoogle()&&r);return r},null,null)),(e()(),Wm(45,0,null,null,0,"a",[["class","fa fa-linkedin"]],null,null,null,null,null)),(e()(),Wm(46,0,null,null,0,"a",[["class","fa fa-phone"]],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;"click"===t&&(r=!1!==i.doPhone()&&r);return r},null,null))],function(e,t){var n=t.component;e(t,2,0,n.loaderShow),e(t,4,0,n.isLoginErrorMessage);e(t,16,0,"");e(t,17,0,"");e(t,20,0,"email","");e(t,28,0,"");e(t,31,0,"password","")},function(e,t){e(t,5,0,ef(t,9).ngClassUntouched,ef(t,9).ngClassTouched,ef(t,9).ngClassPristine,ef(t,9).ngClassDirty,ef(t,9).ngClassValid,ef(t,9).ngClassInvalid,ef(t,9).ngClassPending),e(t,14,0,ef(t,16).required?"":null,ef(t,22).ngClassUntouched,ef(t,22).ngClassTouched,ef(t,22).ngClassPristine,ef(t,22).ngClassDirty,ef(t,22).ngClassValid,ef(t,22).ngClassInvalid,ef(t,22).ngClassPending),e(t,26,0,ef(t,28).required?"":null,ef(t,33).ngClassUntouched,ef(t,33).ngClassTouched,ef(t,33).ngClassPristine,ef(t,33).ngClassDirty,ef(t,33).ngClassValid,ef(t,33).ngClassInvalid,ef(t,33).ngClassPending),e(t,35,0,!ef(t,7).valid)})}var SN=Hd("app-login",vN,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-login",[],null,null,null,EN,wN)),pf(1,114688,null,0,vN,[dN,eD,uk,bN,eI],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);class TN{constructor(e,t){this.authService=e,this.router=t}ngOnInit(){}resetPass(e){const t=e.value.email;this.authService.signreset(t).subscribe(e=>{console.log(e)},e=>{this.errorMessageReset=e.error.error.message,console.log(this.errorMessageReset)}),e.reset()}}var DN=td({encapsulation:0,styles:[[""]],data:{}});function IN(e){return uy(0,[(e()(),Wm(0,0,null,null,28,"div",[["class","fluid pr-1 pl-1 form-action mt-3"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,27,"div",[["class","col-sm-12 col-md-8 col-lg-6 mx-auto ba"]],null,null,null,null,null)),(e()(),Wm(2,0,null,null,26,"div",[["class","panel panel-default"]],null,null,null,null,null)),(e()(),Wm(3,0,null,null,25,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),Wm(4,0,null,null,24,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),Wm(5,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Wm(6,0,null,null,0,"i",[["class","fa fa-lock fa-4x"]],null,null,null,null,null)),(e()(),Wm(7,0,null,null,1,"h2",[["class","text-center"]],null,null,null,null,null)),(e()(),oy(-1,null,["Password assistance"])),(e()(),Wm(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oy(-1,null,["Enter the email address associated with your Quiz account. "])),(e()(),Wm(11,0,null,null,17,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),Wm(12,0,null,null,16,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,i=e.component;"submit"===t&&(r=!1!==ef(e,14).onSubmit(n)&&r);"reset"===t&&(r=!1!==ef(e,14).onReset()&&r);"ngSubmit"===t&&(r=!1!==i.resetPass(ef(e,14))&&r);return r},null,null)),pf(13,16384,null,0,kA,[],null,null),pf(14,4210688,[["resetForm",4]],0,bA,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),gf(2048,null,dI,null,[bA]),pf(16,16384,null,0,vI,[[4,dI]],null,null),(e()(),Wm(17,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Wm(18,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),Wm(19,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),Wm(20,0,null,null,0,"i",[["class","glyphicon glyphicon-envelope color-blue"]],null,null,null,null,null)),(e()(),Wm(21,0,null,null,5,"input",[["class","form-control"],["id","email"],["name","email"],["ngModel",""],["placeholder","Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;"input"===t&&(r=!1!==ef(e,22)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,22).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,22)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,22)._compositionEnd(n.target.value)&&r);return r},null,null)),pf(22,16384,null,0,cI,[fh,lh,[2,lI]],null,null),gf(1024,null,oI,function(e){return[e]},[cI]),pf(24,671744,null,0,AA,[[2,dI],[8,null],[8,null],[6,oI]],{name:[0,"name"],model:[1,"model"]},null),gf(2048,null,pI,null,[AA]),pf(26,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(27,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Wm(28,0,null,null,0,"input",[["class","btn btn-lg btn-primary btn-block"],["name","recover-submit"],["type","submit"],["value","Reset Password"]],null,null,null,null,null))],function(e,t){e(t,24,0,"email","")},function(e,t){e(t,12,0,ef(t,16).ngClassUntouched,ef(t,16).ngClassTouched,ef(t,16).ngClassPristine,ef(t,16).ngClassDirty,ef(t,16).ngClassValid,ef(t,16).ngClassInvalid,ef(t,16).ngClassPending),e(t,21,0,ef(t,26).ngClassUntouched,ef(t,26).ngClassTouched,ef(t,26).ngClassPristine,ef(t,26).ngClassDirty,ef(t,26).ngClassValid,ef(t,26).ngClassInvalid,ef(t,26).ngClassPending)})}var AN=Hd("app-reset-password",TN,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-reset-password",[],null,null,null,IN,DN)),pf(1,114688,null,0,TN,[dN,eD],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);class kN{constructor(e,t,n){this.authService=e,this.router=t,this.activateRoute=n}ngOnInit(){this.occvalue=this.activateRoute.snapshot.queryParams.oobCode,this.authService.verifyResetPassword(this.occvalue).subscribe(e=>{console.log(e)},e=>{this.errorMessageReset=e.error.error.message,console.log(this.errorMessageReset)})}confirmPass(e){const t=e.value.password;this.authService.confirmPassword(t,this.occvalue).subscribe(e=>{console.log(e),this.router.navigate(["login"])},e=>{this.errorMessageReset=e.error.error.message,console.log(this.errorMessageReset)}),e.reset()}}var NN=td({encapsulation:0,styles:[[""]],data:{}});function xN(e){return uy(0,[(e()(),Wm(0,0,null,null,28,"div",[["class","fluid pr-1 pl-1 form-action mt-3"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,27,"div",[["class","col-sm-12 col-md-8 col-lg-6 mx-auto ba"]],null,null,null,null,null)),(e()(),Wm(2,0,null,null,26,"div",[["class","panel panel-default"]],null,null,null,null,null)),(e()(),Wm(3,0,null,null,25,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),Wm(4,0,null,null,24,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),Wm(5,0,null,null,1,"h3",[["class","mb-0"]],null,null,null,null,null)),(e()(),Wm(6,0,null,null,0,"i",[["class","fa fa-unlock fa-4x"]],null,null,null,null,null)),(e()(),Wm(7,0,null,null,1,"h2",[["class","text-center  mb-0"]],null,null,null,null,null)),(e()(),oy(-1,null,["Confirm Password"])),(e()(),Wm(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),oy(-1,null,["Please enter a new password."])),(e()(),Wm(11,0,null,null,17,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),Wm(12,0,null,null,16,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0,i=e.component;"submit"===t&&(r=!1!==ef(e,14).onSubmit(n)&&r);"reset"===t&&(r=!1!==ef(e,14).onReset()&&r);"ngSubmit"===t&&(r=!1!==i.confirmPass(ef(e,14))&&r);return r},null,null)),pf(13,16384,null,0,kA,[],null,null),pf(14,4210688,[["confirmForm",4]],0,bA,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),gf(2048,null,dI,null,[bA]),pf(16,16384,null,0,vI,[[4,dI]],null,null),(e()(),Wm(17,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Wm(18,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),Wm(19,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),Wm(20,0,null,null,0,"i",[["class","glyphicon glyphicon-envelope color-blue"]],null,null,null,null,null)),(e()(),Wm(21,0,null,null,5,"input",[["class","form-control"],["id","password"],["name","password"],["ngModel",""],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;"input"===t&&(r=!1!==ef(e,22)._handleInput(n.target.value)&&r);"blur"===t&&(r=!1!==ef(e,22).onTouched()&&r);"compositionstart"===t&&(r=!1!==ef(e,22)._compositionStart()&&r);"compositionend"===t&&(r=!1!==ef(e,22)._compositionEnd(n.target.value)&&r);return r},null,null)),pf(22,16384,null,0,cI,[fh,lh,[2,lI]],null,null),gf(1024,null,oI,function(e){return[e]},[cI]),pf(24,671744,null,0,AA,[[2,dI],[8,null],[8,null],[6,oI]],{name:[0,"name"],model:[1,"model"]},null),gf(2048,null,pI,null,[AA]),pf(26,16384,null,0,yI,[[4,pI]],null,null),(e()(),Wm(27,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),Wm(28,0,null,null,0,"input",[["class","btn btn-lg btn-primary btn-block"],["type","submit"],["value","Confirm Password"]],null,null,null,null,null))],function(e,t){e(t,24,0,"password","")},function(e,t){e(t,12,0,ef(t,16).ngClassUntouched,ef(t,16).ngClassTouched,ef(t,16).ngClassPristine,ef(t,16).ngClassDirty,ef(t,16).ngClassValid,ef(t,16).ngClassInvalid,ef(t,16).ngClassPending),e(t,21,0,ef(t,26).ngClassUntouched,ef(t,26).ngClassTouched,ef(t,26).ngClassPristine,ef(t,26).ngClassDirty,ef(t,26).ngClassValid,ef(t,26).ngClassInvalid,ef(t,26).ngClassPending)})}var ON=Hd("app-confirmpassword",kN,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-confirmpassword",[],null,null,null,xN,NN)),pf(1,114688,null,0,kN,[dN,eD,FS],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),RN=td({encapsulation:0,styles:[[".logo[_ngcontent-%COMP%]{display:block;height:33px;margin-top:20px;margin-left:20px;width:180px}.hero[_ngcontent-%COMP%]{height:100vh;width:100%;background-image:url(sky.9d97b225369ca4ba663e.jpg);background-size:cover;background-position:center;position:relative;overflow-x:hidden}.highway[_ngcontent-%COMP%]{width:1000%;height:200px;display:block;background-image:url(road.edff1c3241efb91f973b.jpg);z-index:1;position:absolute;left:0;bottom:0;right:0;background-repeat:repeat-x;-webkit-animation:5s linear infinite highway;animation:5s linear infinite highway}@-webkit-keyframes highway{100%{-webkit-transform:translateX(-3400px);transform:translateX(-3400px)}}@keyframes highway{100%{-webkit-transform:translateX(-3400px);transform:translateX(-3400px)}}.city[_ngcontent-%COMP%]{width:500%;height:250px;display:block;background-image:url(city.123dd211b98f80743452.png);z-index:1;position:absolute;left:0;bottom:200px;right:0;background-repeat:repeat-x;-webkit-animation:20s linear infinite city;animation:20s linear infinite city}@-webkit-keyframes city{100%{-webkit-transform:translateX(-1400px);transform:translateX(-1400px)}}@keyframes city{100%{-webkit-transform:translateX(-1400px);transform:translateX(-1400px)}}.car[_ngcontent-%COMP%]{width:400px;left:50%;bottom:100px;-webkit-transform:translateX(-50%);transform:translateX(-50%);position:absolute;z-index:2}.car[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-webkit-animation:1s linear infinite car;animation:1s linear infinite car}@-webkit-keyframes car{0%,100%{-webkit-transform:translateY(-1px);transform:translateY(-1px)}50%{-webkit-transform:translateY(1px);transform:translateY(1px)}}@keyframes car{0%,100%{-webkit-transform:translateY(-1px);transform:translateY(-1px)}50%{-webkit-transform:translateY(1px);transform:translateY(1px)}}.wheel[_ngcontent-%COMP%]{left:50%;bottom:178px;-webkit-transform:translateX(-50%);transform:translateX(-50%);position:absolute;z-index:2}.wheel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;-webkit-animation:1s linear infinite wheel;animation:1s linear infinite wheel}.wheel-back[_ngcontent-%COMP%]{left:-165px;position:absolute}.wheel-front[_ngcontent-%COMP%]{left:80px;position:absolute}@-webkit-keyframes wheel{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes wheel{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@media screen and (min-width:320px) and (max-width:767px){.wheel[_ngcontent-%COMP%]{bottom:160px}.car[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;margin-left:10%}.wheel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55px;height:55px}.wheel-back[_ngcontent-%COMP%]{left:-130px}.wheel-front[_ngcontent-%COMP%]{left:65px}}"]],data:{}});function PN(e){return uy(0,[(e()(),Wm(0,0,null,null,7,"div",[["class","hero"]],null,null,null,null,null)),(e()(),Wm(1,0,null,null,0,"div",[["class","highway"]],null,null,null,null,null)),(e()(),Wm(2,0,null,null,0,"div",[["class","city"]],null,null,null,null,null)),(e()(),Wm(3,0,null,null,1,"div",[["class","car"]],null,null,null,null,null)),(e()(),Wm(4,0,null,null,0,"img",[["src","assets/image/car.png"]],null,null,null,null,null)),(e()(),Wm(5,0,null,null,2,"div",[["class","wheel"]],null,null,null,null,null)),(e()(),Wm(6,0,null,null,0,"img",[["class","wheel-back"],["src","assets/image/wheel.png"]],null,null,null,null,null)),(e()(),Wm(7,0,null,null,0,"img",[["class","wheel-front"],["src","assets/image/wheel.png"]],null,null,null,null,null))],null,null)}function MN(e){return uy(0,[(e()(),Km(16777216,null,null,1,null,PN)),pf(1,16384,null,0,Yb,[Lh,Mh],{ngIf:[0,"ngIf"]},null),(e()(),Wm(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),pf(3,212992,null,0,aD,[sD,Lh,Jc,[8,null],kh],null,null)],function(e,t){e(t,1,0,!t.component.hideOnQuizScreen),e(t,3,0)},null)}var FN=Hd("app-root",_v,function(e){return uy(0,[(e()(),Wm(0,0,null,null,1,"app-root",[],null,null,null,MN,RN)),pf(1,114688,null,0,_v,[PD,eI],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);class LN{intercept(e,t){console.log("Request"+e.url);const n=e.clone({setHeaders:{Authorization:"Hello World"}});return t.handle(n)}}function VN(e){return function(e){return new _(t=>({unsubscribe:e.onSnapshot(t)}))}(e).pipe(oe())}function UN(e){return VN(e).pipe(j(e=>({payload:e,type:"query"})))}function BN(e){return UN(e).pipe(j(e=>e.payload.docChanges().map(e=>({type:e.type,payload:e}))))}function jN(e,t){return UN(e).pipe(j(e=>e.payload.docChanges()),Q_((e,n)=>(function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))}),e})(e,n,t),[]),j(e=>e.map(e=>({type:e.type,payload:e}))))}function qN(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class HN{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){return e&&0!==e.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(BN(this.query))).pipe(j(t=>t.filter(t=>e.indexOf(t.type)>-1)),b_(e=>e.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(BN(this.query)))}auditTrail(e){return this.stateChanges(e).pipe(Q_((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=qN(e),n=jN(this.query,t),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(e={}){const t=UN(this.query),n=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(j(t=>t.payload.docs.map(t=>e.idField?Object.assign({},t.data(),{[e.idField]:t.id}):t.data())))}get(e){return G(this.query.get(e)).pipe(jD(this.afs.scheduler.zone))}add(e){return this.ref.add(e)}doc(e){return new zN(this.ref.doc(e),this.afs)}}class zN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=tx(n,t);return new HN(r,i,this.afs)}snapshotChanges(){const e=VN(this.ref).pipe(j(e=>({payload:e,type:"value"})));const t=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(t)}valueChanges(){return this.snapshotChanges().pipe(j(e=>e.payload.data()))}get(e){return G(this.ref.get(e)).pipe(jD(this.afs.scheduler.zone))}}class GN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(BN(this.query))).pipe(j(t=>t.filter(t=>e.indexOf(t.type)>-1)),b_(e=>e.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(BN(this.query)))}auditTrail(e){return this.stateChanges(e).pipe(Q_((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=qN(e),n=jN(this.query,t),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(){const e=UN(this.query),t=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(t).pipe(j(e=>e.payload.docs.map(e=>e.data())))}get(e){return G(this.query.get(e)).pipe(jD(this.afs.scheduler.zone))}}var KN=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},WN=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},QN=function(e,t){return function(n,r){t(n,r,e)}};const $N=new tt("angularfire2.enableFirestorePersistence"),YN=new tt("angularfire2.firestore.persistenceSettings"),JN=new tt("angularfire2.firestore.settings"),XN=parseInt(zD.a.SDK_VERSION.split(".")[0]),ZN=parseInt(zD.a.SDK_VERSION.split(".")[1]),ex=XN<5||5==XN&&ZN<8?{timestampsInSnapshots:!0}:{};function tx(e,t=(e=>e)){return{query:t(e),ref:e}}let nx=class{constructor(e,t,n,r,i,o,s){if(this.scheduler=new BD(o,i),this.firestore=o.runOutsideAngular(()=>{const n=$D(e,t).firestore();return n.settings(r||ex),n}),n&&!u_(i)){const e=()=>{try{return G(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(e){return wv(!1)}};this.persistenceEnabled$=o.runOutsideAngular(e)}else this.persistenceEnabled$=wv(!1)}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=tx(n,t);return new HN(r,i,this)}collectionGroup(e,t){if(XN<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new GN(n(r),this)}doc(e){let t;return t="string"==typeof e?this.firestore.doc(e):e,new zN(t,this)}createId(){return this.firestore.collection("_").doc().id}};nx=KN([Ze(),QN(0,fe(KD)),QN(1,pe()),QN(1,fe(WD)),QN(2,pe()),QN(2,fe($N)),QN(3,pe()),QN(3,fe(JN)),QN(4,fe(Bg)),QN(6,pe()),QN(6,fe(YN)),WN("design:paramtypes",[Object,Object,Object,Object,Object,rm,Object])],nx);var rx;n("6Joi");let ix=rx=class{static enablePersistence(e){return{ngModule:rx,providers:[{provide:$N,useValue:!0},{provide:YN,useValue:e}]}}};ix=rx=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}([xg({providers:[nx]})],ix);var ox=n("wj3C"),sx=n.n(ox);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var s=n.setTimeout;r.prototype.c=function(e){s(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.o),reject:e(this.g)}},t.prototype.o=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.u(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.m()},t.prototype.m=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.u=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,s=new t(function(e,t){i=e,o=t});return this.Ja(r(e,i),r(n,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=i(e),s=r.next();!s.done;s=r.next())o(s.value).Ja(t,n)})},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t(function(e,t){function i(t){return function(n){s[t]=n,0==--a&&e(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ja(i(s.length-1),t),r=n.next()}while(!r.done)})},t});var o=o||{},s=this||self;function a(e){return"string"==typeof e}function u(e){return"boolean"==typeof e}var l=/^[\w+\/_-]+[=]{0,2}$/,c=null;function h(){}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function f(e){return null===e}function p(e){return"array"==d(e)}function g(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==d(e)}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function C(e,t,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now||function(){return+new Date};function T(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.cd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function I(e){if(Error.captureStackTrace)Error.captureStackTrace(this,I);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function A(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");I.call(this,n+e[r])}function k(e,t){throw new A("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function N(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function x(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function O(){this.b=this.a=null}T(I,Error),I.prototype.name="CustomError",T(A,I),A.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var R=new N(function(){return new M},function(e){e.reset()});function P(){var e=qe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function M(){this.next=this.b=this.a=null}function F(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(y(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;k("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}O.prototype.add=function(e,t){var n=R.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(a(e))return a(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=a(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var U=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=a(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},B=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function j(e,t){return 0<=L(e,t)}function q(e,t){var n;return(n=0<=(t=L(e,t)))&&Array.prototype.splice.call(e,t,1),n}function H(e,t){!function(e,t){for(var n=a(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0})}function z(e){return Array.prototype.concat.apply([],arguments)}function G(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function K(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function W(e){for(var t in e)return!1;return!0}function Q(e){var t,n={};for(t in e)n[t]=e[t];return n}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<$.length;o++)n=$[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function J(e,t){this.a=e===ee&&t||"",this.b=Z}function X(e){return e instanceof J&&e.constructor===J&&e.b===Z?e.a:(k("expected object of type Const, got '"+e+"'"),"type_error:Const")}J.prototype.na=!0,J.prototype.ma=function(){return this.a},J.prototype.toString=function(){return"Const{"+this.a+"}"};var Z={},ee={},te=new J(ee,"");function ne(){this.a="",this.b=ae}function re(e){return e instanceof ne&&e.constructor===ne&&e.b===ae?e.a:(k("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function ie(e,t){var n=X(e);if(!se.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ue(e=n.replace(oe,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof J?X(e):encodeURIComponent(String(e))}))}ne.prototype.na=!0,ne.prototype.ma=function(){return this.a.toString()},ne.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var oe=/%{(\w+)}/g,se=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,ae={};function ue(e){var t=new ne;return t.a=e,t}var le=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ce=/&/g,he=/</g,de=/>/g,fe=/"/g,pe=/'/g,ge=/\x00/g,me=/[\x00&<>"']/;function ye(e,t){return-1!=e.indexOf(t)}function ve(e,t){return e<t?-1:e>t?1:0}function be(){this.a="",this.b=Se}function we(e){return e instanceof be&&e.constructor===be&&e.b===Se?e.a:(k("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}be.prototype.na=!0,be.prototype.ma=function(){return this.a.toString()},be.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var _e=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Ce(e){return e instanceof be?e:(e="object"==typeof e&&e.na?e.ma():String(e),_e.test(e)||(e="about:invalid#zClosurez"),Te(e))}var Ee,Se={};function Te(e){var t=new be;return t.a=e,t}Te("about:blank");e:{var De=s.navigator;if(De){var Ie=De.userAgent;if(Ie){Ee=Ie;break e}}Ee=""}function Ae(e){return ye(Ee,e)}function ke(){this.a="",this.b=xe}function Ne(e){return e instanceof ke&&e.constructor===ke&&e.b===xe?e.a:(k("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}ke.prototype.na=!0,ke.prototype.ma=function(){return this.a.toString()},ke.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xe={};function Oe(e){var t=new ke;return t.a=e,t}Oe("<!DOCTYPE html>");var Re,Pe,Me=Oe("");function Fe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Le(e){return me.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ce,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(he,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(de,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(fe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(pe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ge,"&#0;"))),e}function Ve(e){s.setTimeout(function(){throw e},0)}function Ue(){var e=s.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ae("Presto")&&(e=function(){var e,t,n=document.createElement("IFRAME");n.style.display="none",e=n,t=ue(X(te)),F(e,"HTMLIFrameElement"),e.src=re(t).toString(),document.documentElement.appendChild(n);var r=n.contentWindow;(n=r.document).open(),n.write(Ne(Me)),n.close();var i="callImmediate"+Math.random(),o="file:"==r.location.protocol?"*":r.location.protocol+"//"+r.location.host;n=C(function(e){"*"!=o&&e.origin!=o||e.data!=i||this.port1.onmessage()},this),r.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){r.postMessage(i,o)}}}),void 0!==e&&!Ae("Trident")&&!Ae("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){s.setTimeout(e,0)}}function Be(e,t){Pe||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);Pe=function(){e.then(He)}}else Pe=function(){var e=He;!m(s.setImmediate)||s.Window&&s.Window.prototype&&!Ae("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(Re||(Re=Ue()),Re(e)):s.setImmediate(e)}}(),je||(Pe(),je=!0),qe.add(e,t)}Oe("<br>");var je=!1,qe=new O;function He(){for(var e;e=P();){try{e.a.call(e.b)}catch(t){Ve(t)}x(R,e)}je=!1}function ze(e,t){if(this.a=Ge,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,function(e){rt(n,Ke,e)},function(e){if(!(e instanceof ct))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}rt(n,We,e)})}catch(r){rt(this,We,r)}}var Ge=0,Ke=2,We=3;function Qe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Qe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var $e=new N(function(){return new Qe},function(e){e.reset()});function Ye(e,t,n){var r=$e.get();return r.g=e,r.b=t,r.f=n,r}function Je(e){if(e instanceof ze)return e;var t=new ze(h);return rt(t,Ke,e),t}function Xe(e){return new ze(function(t,n){n(e)})}function Ze(e,t,n){it(e,t,n,null)||Be(E(t,e))}function et(e){return new ze(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Eb:!0,value:o}:{Eb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Ze(e[o],E(i,o,!0),E(i,o,!1));else t(r)})}function tt(e,t){e.b||e.a!=Ke&&e.a!=We||ot(e),e.f?e.f.next=t:e.b=t,e.f=t}function nt(e,t,n,r){var i=Ye(null,null,null);return i.a=new ze(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(s){o(s)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof ct?o(t):e(i)}catch(s){o(s)}}:o}),i.a.c=e,tt(e,i),i.a}function rt(e,t,n){e.a==Ge&&(e===n&&(t=We,n=new TypeError("Promise cannot resolve to itself")),e.a=1,it(n,e.Lc,e.Mc,e)||(e.i=n,e.a=t,e.c=null,ot(e),t!=We||n instanceof ct||function(e,t){e.g=!0,Be(function(){e.g&&lt.call(null,t)})}(e,n)))}function it(e,t,n,r){if(e instanceof ze)return tt(e,Ye(t||h,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(y(e))try{var i=e.then;if(m(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}var s=!1;try{t.call(e,function(e){s||(s=!0,n.call(i,e))},o)}catch(a){o(a)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function ot(e){e.h||(e.h=!0,Be(e.Wb,e))}function st(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function at(e,t,n,r){if(n==We&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,ut(t,n,r);else try{t.c?t.g.call(t.f):ut(t,n,r)}catch(i){lt.call(null,i)}x($e,t)}function ut(e,t,n){t==Ke?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}ze.prototype.then=function(e,t,n){return nt(this,m(e)?e:null,m(t)?t:null,n)},ze.prototype.$goog_Thenable=!0,(e=ze.prototype).ia=function(e,t){return(e=Ye(e,e,t)).c=!0,tt(this,e),this},e.s=function(e,t){return nt(this,null,e,t)},e.cancel=function(e){this.a==Ge&&Be(function(){!function e(t,n){if(t.a==Ge)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==t&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==Ge&&1==i?e(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):st(r),at(r,o,We,n)))}t.c=null}else rt(t,We,n)}(this,new ct(e))},this)},e.Lc=function(e){this.a=Ge,rt(this,Ke,e)},e.Mc=function(e){this.a=Ge,rt(this,We,e)},e.Wb=function(){for(var e;e=st(this);)at(this,e,this.a,this.i);this.h=!1};var lt=Ve;function ct(e){I.call(this,e)}function ht(){0!=dt&&(ft[this[v]||(this[v]=++b)]=this),this.qa=this.qa,this.ja=this.ja}T(ct,I),ct.prototype.name="cancel";var dt=0,ft={};function pt(e){if(!e.qa&&(e.qa=!0,e.va(),0!=dt)){var t=e[v]||(e[v]=++b);if(0!=dt&&e.ja&&0<e.ja.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ft[t]}}function gt(e){return gt[" "](e),e}ht.prototype.qa=!1,ht.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},gt[" "]=h;var mt,yt,vt=Ae("Opera"),bt=Ae("Trident")||Ae("MSIE"),wt=Ae("Edge"),_t=wt||bt,Ct=Ae("Gecko")&&!(ye(Ee.toLowerCase(),"webkit")&&!Ae("Edge"))&&!(Ae("Trident")||Ae("MSIE"))&&!Ae("Edge"),Et=ye(Ee.toLowerCase(),"webkit")&&!Ae("Edge");function St(){var e=s.document;return e?e.documentMode:void 0}e:{var Tt="",Dt=(yt=Ee,Ct?/rv:([^\);]+)(\)|;)/.exec(yt):wt?/Edge\/([\d\.]+)/.exec(yt):bt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(yt):Et?/WebKit\/(\S+)/.exec(yt):vt?/(?:Version)[ \/]?(\S+)/.exec(yt):void 0);if(Dt&&(Tt=Dt?Dt[1]:""),bt){var It=St();if(null!=It&&It>parseFloat(Tt)){mt=String(It);break e}}mt=Tt}var At,kt={};function Nt(e){return function(e,t){var n=kt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=le(String(mt)).split("."),r=le(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=ve(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ve(0==s[2].length,0==a[2].length)||ve(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t})}At=s.document&&bt?St():void 0;var xt=Object.freeze||function(e){return e},Ot=!bt||9<=Number(At),Rt=bt&&!Nt("9"),Pt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Mt(e,t){this.type=e,this.b=this.target=t,this.Kb=!0}function Ft(e,t){if(Mt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ct){e:{try{gt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=a(e.pointerType)?e.pointerType:Lt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Mt.prototype.preventDefault=function(){this.Kb=!1},T(Ft,Mt);var Lt=xt({2:"touch",3:"pen",4:"mouse"});Ft.prototype.preventDefault=function(){Ft.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Rt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Ft.prototype.f=function(){return this.a};var Vt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function Bt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++Ut,this.oa=this.Ia=!1}function jt(e){e.oa=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function qt(e){this.src=e,this.a={},this.b=0}function Ht(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(jt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function zt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.oa&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}qt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=zt(e,t,r,i);return-1<s?(t=e[s],n||(t.Ia=!1)):((t=new Bt(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var Gt="closure_lm_"+(1e6*Math.random()|0),Kt={};function Wt(e,t,n,r,i){if(r&&r.once)$t(e,t,n,r,i);else if(p(t))for(var o=0;o<t.length;o++)Wt(e,t[o],n,r,i);else n=on(n),e&&e[Vt]?an(e,t,n,y(r)?!!r.capture:!!r,i):Qt(e,t,n,!1,r,i)}function Qt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i,a=nn(e);if(a||(e[Gt]=a=new qt(e)),!(n=a.add(t,n,r,s,o)).proxy){if(r=function(){var e=tn,t=Ot?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pt||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function $t(e,t,n,r,i){if(p(t))for(var o=0;o<t.length;o++)$t(e,t[o],n,r,i);else n=on(n),e&&e[Vt]?un(e,t,n,y(r)?!!r.capture:!!r,i):Qt(e,t,n,!0,r,i)}function Yt(e,t,n,r,i){if(p(t))for(var o=0;o<t.length;o++)Yt(e,t[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=on(n),e&&e[Vt]?(e=e.m,(t=String(t).toString())in e.a&&(-1<(n=zt(o=e.a[t],n,r,i))&&(jt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=nn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=zt(t,n,r,i)),(n=-1<e?t[e]:null)&&Jt(n))}function Jt(e){if("number"!=typeof e&&e&&!e.oa){var t=e.src;if(t&&t[Vt])Ht(t.m,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),0,(n=nn(t))?(Ht(n,e),0==n.b&&(n.src=null,t[Gt]=null)):jt(e)}}}function Xt(e){return e in Kt?Kt[e]:Kt[e]="on"+e}function Zt(e,t,n,r){var i=!0;if((e=nn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.oa&&(o=en(o,r),i=i&&!1!==o)}return i}function en(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&Jt(e),n.call(r,t)}function tn(e,t){if(e.oa)return!0;if(!Ot){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Ft(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=Zt(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=Zt(r[i],e,!1,t),n=n&&o}return n}return en(e,new Ft(t,this))}function nn(e){return(e=e[Gt])instanceof qt?e:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(e){return m(e)?e:(e[rn]||(e[rn]=function(t){return e.handleEvent(t)}),e[rn])}function sn(){ht.call(this),this.m=new qt(this),this.Pb=this,this.Wa=null}function an(e,t,n,r,i){e.m.add(String(t),n,!1,r,i)}function un(e,t,n,r,i){e.m.add(String(t),n,!0,r,i)}function ln(e,t,n,r){if(!(t=e.m.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.oa&&s.capture==n){var a=s.listener,u=s.Na||s.src;s.Ia&&Ht(e.m,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Kb}function cn(e,t,n){if(m(e))n&&(e=C(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=C(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function hn(e){var t=null;return new ze(function(n,r){-1==(t=cn(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).s(function(e){throw s.clearTimeout(t),e})}function dn(e){if(e.S&&"function"==typeof e.S)return e.S();if(a(e))return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function fn(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(g(e)||a(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof pn)for(n=e.U(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function gn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];mn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)mn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(sn,ht),sn.prototype[Vt]=!0,sn.prototype.addEventListener=function(e,t,n,r){Wt(this,e,t,n,r)},sn.prototype.removeEventListener=function(e,t,n,r){Yt(this,e,t,n,r)},sn.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Pb;var r=e.type||e;if(a(e))e=new Mt(e,n);else if(e instanceof Mt)e.target=e.target||n;else{var i=e;Y(e=new Mt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.b=t[o];i=ln(s,r,!0,e)&&i}if(i=ln(s=e.b=n,r,!0,e)&&i,i=ln(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=ln(s=e.b=t[o],r,!1,e)&&i;return i},sn.prototype.va=function(){if(sn.qb.va.call(this),this.m){var e,t=this.m;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)0,jt(n[r]);delete t.a[e],t.b--}}this.Wa=null},(e=pn.prototype).S=function(){gn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.U=function(){return gn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return mn(this.b,e)?this.b[e]:t},e.set=function(e,t){mn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var yn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(e,t){var n;this.b=this.i=this.f="",this.m=null,this.g=this.c="",this.h=!1,e instanceof vn?(this.h=void 0!==t?t:e.h,bn(this,e.f),this.i=e.i,this.b=e.b,wn(this,e.m),this.c=e.c,_n(this,Bn(e.a)),this.g=e.g):e&&(n=String(e).match(yn))?(this.h=!!t,bn(this,n[1]||"",!0),this.i=Dn(n[2]||""),this.b=Dn(n[3]||"",!0),wn(this,n[4]),this.c=Dn(n[5]||"",!0),_n(this,n[6]||"",!0),this.g=Dn(n[7]||"")):(this.h=!!t,this.a=new Pn(null,this.h))}function bn(e,t,n){e.f=n?Dn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function wn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _n(e,t,n){t instanceof Pn?(e.a=t,function(e,t){t&&!e.f&&(Mn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ln(this,t),Un(this,n,e))},e)),e.f=t}(e.a,e.h)):(n||(t=In(t,On)),e.a=new Pn(t,e.h))}function Cn(e,t,n){e.a.set(t,n)}function En(e,t){return e.a.get(t)}function Sn(e){return e instanceof vn?new vn(e):new vn(e,void 0)}function Tn(e,t){var n=new vn(null,void 0);return bn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function Dn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function In(e,t,n){return a(e)?(e=encodeURI(e).replace(t,An),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function An(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(In(t,kn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(In(t,kn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(In(n,"/"==n.charAt(0)?xn:Nn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",In(n,Rn)),e.join("")},vn.prototype.resolve=function(e){var t=new vn(this),n=!!e.f;n?bn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.m;var r=e.c;if(n)wn(t,e.m);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ye(i,"./")||ye(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?_n(t,Bn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var kn=/[#\/\?@]/g,Nn=/[#\?:]/g,xn=/[#\?]/g,On=/[#\?@]/g,Rn=/#/g;function Pn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Mn(e){e.a||(e.a=new pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Fn(e){var t=fn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Pn(null,void 0);e=dn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];p(o)?Un(n,i,o):n.add(i,o)}return n}function Ln(e,t){Mn(e),t=jn(e,t),mn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,mn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&gn(e)))}function Vn(e,t){return Mn(e),t=jn(e,t),mn(e.a.b,t)}function Un(e,t,n){Ln(e,t),0<n.length&&(e.c=null,e.a.set(jn(e,t),G(n)),e.b+=n.length)}function Bn(e){var t=new Pn;return t.c=e.c,e.a&&(t.a=new pn(e.a),t.b=e.b),t}function jn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=Pn.prototype).add=function(e,t){Mn(this),this.c=null,e=jn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Mn(this),this.a.forEach(function(n,r){V(n,function(n){e.call(t,n,r,this)},this)},this)},e.U=function(){Mn(this);for(var e=this.a.S(),t=this.a.U(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.S=function(e){Mn(this);var t=[];if(a(e))Vn(this,e)&&(t=z(t,this.a.get(jn(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=z(t,e[n])}return t},e.set=function(e,t){return Mn(this),this.c=null,Vn(this,e=jn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.S(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var qn=!bt||9<=Number(At);function Hn(e){var t=document;return a(e)?t.getElementById(e):e}function zn(e,t){K(t,function(t,n){t&&"object"==typeof t&&t.na&&(t=t.ma()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Gn.hasOwnProperty(n)?e.setAttribute(Gn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var Gn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kn(e,t,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!qn&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Le(s.name),'"'),s.type){o.push(' type="',Le(s.type),'"');var u={};Y(u,s),delete u.type,s=u}o.push(">"),o=o.join("")}return o=i.createElement(o),s&&(a(s)?o.className=s:p(s)?o.className=s.join(" "):zn(o,s)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(a(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!g(o)||y(o)&&0<o.nodeType?r(o):V(Wn(o)?G(o):o,r)}}(i,o,r),o}function Wn(e){if(e&&"number"==typeof e.length){if(y(e))return"function"==typeof e.item||"string"==typeof e.item;if(m(e))return"function"==typeof e.item}return!1}function Qn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(p(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),e(t,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),Xn(i,r),r.push(":"),e(t,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Xn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new $n,e,t),t.join("")}function $n(){}var Yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xn(e,t){t.push('"',e.replace(Jn,function(e){var t=Yn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Yn[e]=t),t}),'"')}function Zn(){var e=vr();return bt&&!!At&&11==At||/Edge\/\d+/.test(e)}function er(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function tr(e,t){t=t||s.window;var n="about:blank";e&&(n=we(Ce(e)).toString()),t.location.href=n}function nr(e){return!!((e=(e||vr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function rr(e){e=e||s.window;try{e.close()}catch(t){}}function ir(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=vr().toLowerCase(),r&&(t.target=r,ye(n,"crios/")&&(t.target="_blank")),gr(vr())==fr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof be?n:Ce(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(e[s]?1:0))}var s=i.join(",");if((Ae("iPhone")&&!Ae("iPod")&&!Ae("iPad")||Ae("iPad")||Ae("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(F(s=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof be||t instanceof be||(t="object"==typeof t&&t.na?t.ma():String(t),_e.test(t)||(t="about:invalid#zClosurez"),t=Te(t)),s.href=we(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=r.open("",n,s),e=we(t).toString(),s&&(_t&&ye(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e=Oe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Le(e)+'">'),s.document.write(Ne(e)),s.document.close())):(s=r.open(we(t).toString(),n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var or=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^[^@]+@[^@]+$/;function ar(){var e=null;return new ze(function(t){"complete"==s.document.readyState?t():(e=function(){t()},$t(window,"load",e))}).s(function(t){throw Yt(window,"load",e),t})}function ur(e){return e=e||vr(),!("file:"!==Er()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function cr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function hr(){return sx.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":sx.a.INTERNAL.hasOwnProperty("node")?"Node":cr()?"Worker":"Browser"}function dr(){var e=hr();return"ReactNative"===e||"Node"===e}var fr="Firefox",pr="Chrome";function gr(e){var t=e.toLowerCase();return ye(t,"opera/")||ye(t,"opr/")||ye(t,"opios/")?"Opera":ye(t,"iemobile")?"IEMobile":ye(t,"msie")||ye(t,"trident/")?"IE":ye(t,"edge/")?"Edge":ye(t,"firefox/")?fr:ye(t,"silk/")?"Silk":ye(t,"blackberry")?"Blackberry":ye(t,"webos")?"Webos":!ye(t,"safari/")||ye(t,"chrome/")||ye(t,"crios/")||ye(t,"android")?!ye(t,"chrome/")&&!ye(t,"crios/")||ye(t,"edge/")?ye(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":pr:"Safari"}var mr={Sc:"FirebaseCore-web",Uc:"FirebaseUI-web"};function yr(e,t){t=t||[];var n,r=[],i={};for(n in mr)i[mr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=hr())?r=gr(i=vr()):"Worker"===r&&(r=gr(i=vr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function vr(){return s.navigator&&s.navigator.userAgent||""}function br(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function wr(){try{var e=s.localStorage,t=Ar();if(e)return e.setItem(t,"1"),e.removeItem(t),!Zn()||!!s.indexedDB}catch(n){return cr()&&!!s.indexedDB}return!1}function _r(){return(Cr()||"chrome-extension:"===Er()||ur())&&!dr()&&wr()&&!cr()}function Cr(){return"http:"===Er()||"https:"===Er()}function Er(){return s.location&&s.location.protocol||null}function Sr(e){return!nr(e=e||vr())&&gr(e)!=fr}function Tr(e){return void 0===e?null:Qn(e)}function Dr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ir(e){if(null!==e)return JSON.parse(e)}function Ar(e){return e||Math.floor(1e9*Math.random()).toString()}function kr(e){return"Safari"!=gr(e=e||vr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function xr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=vr(),t=hr(),this.b=nr(e)||"ReactNative"===t}function Or(){var e=s.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Rr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Pr(){return!(!br("fireauth.oauthhelper",s)&&!br("fireauth.iframe",s))}xr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!=typeof e.onLine||!Cr()&&"chrome-extension:"!==Er()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Mr,Fr={};function Lr(e){Fr[e]||(Fr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Vr={};Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:2}),Mr=2==Vr.abcd}catch(yt){Mr=!1}function Ur(e,t,n){Mr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Br(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Ur(e,n,t[n])}function jr(e){var t={};return Br(t,e),t}function qr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Ur(t,n,qr(e[n]));return t}function Hr(e){var t={},n=e[Gr],r=e[Kr];if(!(e=e[Wr])||e!=zr&&!n)throw Error("Invalid provider user info!");t[$r]=r||null,t[Qr]=n||null,Ur(this,Jr,e),Ur(this,Yr,qr(t))}var zr="EMAIL_SIGNIN",Gr="email",Kr="newEmail",Wr="requestType",Qr="email",$r="fromEmail",Yr="data",Jr="operation";function Xr(e,t){this.code=ei+e,this.message=t||ti[e]||""}function Zr(e){var t=e&&e.code;return t?new Xr(t.substring(ei.length),e.message):null}T(Xr,Error),Xr.prototype.w=function(){return{code:this.code,message:this.message}},Xr.prototype.toJSON=function(){return this.w()};var ei="auth/",ti={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ni(e){var t=e[ai];if(void 0===t)throw new Xr("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Xr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[ri];if(n&&"object"==typeof n){t=n[ci];var r=n[ui];if(n=n[li],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new Xr("argument-error",ui+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Xr("argument-error",li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Xr("argument-error",ci+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Xr("missing-android-pkg-name")}}else if(void 0!==n)throw new Xr("argument-error",ri+" property must be a non null object when specified.");if(this.f=null,(t=e[si])&&"object"==typeof t){if("string"==typeof(t=t[hi])&&t.length)this.f=t;else if(void 0!==t)throw new Xr("argument-error",hi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Xr("argument-error",si+" property must be a non null object when specified.");if(void 0!==(t=e[oi])&&"boolean"!=typeof t)throw new Xr("argument-error",oi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[ii])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new Xr("argument-error",ii+" property must be a non empty string when specified.");this.i=e||null}var ri="android",ii="dynamicLinkDomain",oi="handleCodeInApp",si="iOS",ai="url",ui="installApp",li="minimumVersion",ci="packageName",hi="bundleId";function di(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var fi=null,pi=null;function gi(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=pi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!fi){fi={},pi={};for(var e=0;65>e;e++)fi[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),pi[fi[e]]=e,62<=e&&(pi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;t(i<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,function(e){t+=String.fromCharCode(e)}),t}function mi(e){this.c=e.sub,S(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function yi(e){return(e=vi(e))&&e.sub&&e.iss&&e.aud&&e.exp?new mi(e):null}function vi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(gi(e))}catch(r){}return null}mi.prototype.f=function(){return this.b};var bi,wi={Yc:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://securetoken.googleapis.com/v1/token",id:"p"},$c:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",jb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ad:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",jb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function _i(e){for(var t in wi)if(wi[t].id===e)return{firebaseEndpoint:(e=wi[t]).bb,secureTokenEndpoint:e.jb};return null}bi=_i("__EID__")?"__EID__":void 0;var Ci="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ei=["client_id","response_type","scope","redirect_uri","state"],Si={Tc:{Oa:"locale",Ba:500,Aa:600,Pa:"facebook.com",ib:Ei},Vc:{Oa:null,Ba:500,Aa:620,Pa:"github.com",ib:Ei},Wc:{Oa:"hl",Ba:515,Aa:680,Pa:"google.com",ib:Ei},bd:{Oa:"lang",Ba:485,Aa:705,Pa:"twitter.com",ib:Ci}};function Ti(e){for(var t in Si)if(Si[t].Pa==e)return Si[t];return null}function Di(e){var t={};t["facebook.com"]=xi,t["google.com"]=Ri,t["github.com"]=Oi,t["twitter.com"]=Pi;var n=e&&e[Ai];try{if(n)return t[n]?new t[n](e):new Ni(e);if(void 0!==e[Ii])return new ki(e)}catch(r){}return null}var Ii="idToken",Ai="providerId";function ki(e){var t=e[Ai];if(!t&&e[Ii]){var n=yi(e[Ii]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Ur(this,"providerId",t),Ur(this,"isNewUser",n)}function Ni(e){ki.call(this,e),Ur(this,"profile",qr((e=Ir(e.rawUserInfo||"{}"))||{}))}function xi(e){if(Ni.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Oi(e){if(Ni.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",this.profile&&this.profile.login||null)}function Ri(e){if(Ni.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Pi(e){if(Ni.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",e.screenName||null)}function Mi(e){this.a=Sn(e)}function Fi(e){var t=Sn(e),n=En(t,"link"),r=En(Sn(n),"link");return t=En(t,"deep_link_id"),En(Sn(t),"link")||t||r||n||e}function Li(){}function Vi(e,t){return e.then(function(e){if(e[Ds]){var n=yi(e[Ds]);if(!n||t!=n.c)throw new Xr("user-mismatch");return e}throw new Xr("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==ei+"user-not-found"?new Xr("user-mismatch"):e})}function Ui(e,t){if(!t)throw new Xr("internal-error","failed to construct a credential");this.a=t,Ur(this,"providerId",e),Ur(this,"signInMethod",e)}function Bi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ji(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Ui(e.providerId,e.pendingToken)}catch(t){}return null}function qi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Ur(this,"idToken",t.idToken),t.accessToken&&Ur(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Ur(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Xr("internal-error","failed to construct a credential");Ur(this,"accessToken",t.oauthToken),Ur(this,"secret",t.oauthTokenSecret)}Ur(this,"providerId",e),Ur(this,"signInMethod",n)}function Hi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Fn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function zi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new qi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Gi(e,t){this.Cc=t||[],Br(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.eb=(Ti(e)||{}).Oa||null,this.ab=null}function Ki(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new Xr("argument-error",'SAML provider IDs must be prefixed with "saml."');Gi.call(this,e,[])}function Wi(e){Gi.call(this,e,Ei),this.a=[]}function Qi(){Wi.call(this,"facebook.com")}function $i(e){if(!e)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new Qi).credential({accessToken:t})}function Yi(){Wi.call(this,"github.com")}function Ji(e){if(!e)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new Yi).credential({accessToken:t})}function Xi(){Wi.call(this,"google.com"),this.ua("profile")}function Zi(e,t){var n=e;return y(e)&&(n=e.idToken,t=e.accessToken),(new Xi).credential({idToken:n,accessToken:t})}function eo(){Gi.call(this,"twitter.com",Ci)}function to(e,t){var n=e;if(y(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Xr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new qi("twitter.com",n,"twitter.com")}function no(e,t,n){this.a=e,this.c=t,Ur(this,"providerId","password"),Ur(this,"signInMethod",n===io.EMAIL_LINK_SIGN_IN_METHOD?io.EMAIL_LINK_SIGN_IN_METHOD:io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ro(e){return e&&e.email&&e.password?new no(e.email,e.password,e.signInMethod):null}function io(){Br(this,{providerId:"password",isOAuthProvider:!1})}function oo(e,t){if(!(t=so(t)))throw new Xr("argument-error","Invalid email link!");return new no(e,t,io.EMAIL_LINK_SIGN_IN_METHOD)}function so(e){var t=En((e=new Mi(e=Fi(e))).a,"oobCode")||null;return"signIn"===(En(e.a,"mode")||null)&&t?t:null}function ao(e){if(!(e.Ua&&e.Ta||e.Fa&&e.$))throw new Xr("internal-error");this.a=e,Ur(this,"providerId","phone"),Ur(this,"signInMethod","phone")}function uo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new ao(t)}return null}function lo(e){return e.a.Fa&&e.a.$?{temporaryProof:e.a.Fa,phoneNumber:e.a.$}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function co(e){try{this.a=e||sx.a.auth()}catch(t){throw new Xr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Br(this,{providerId:"phone",isOAuthProvider:!1})}function ho(e,t){if(!e)throw new Xr("missing-verification-id");if(!t)throw new Xr("missing-verification-code");return new ao({Ua:e,Ta:t})}function fo(e){if(e.temporaryProof&&e.phoneNumber)return new ao({Fa:e.temporaryProof,$:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return Zi(o,n);case"facebook.com":return $i(n);case"github.com":return Ji(n);case"twitter.com":return to(n,r);default:return n||r||o||s?s?0==t.indexOf("saml.")?new Ui(t,s):new qi(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Wi(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function po(e){if(!e.isOAuthProvider)throw new Xr("invalid-oauth-provider")}function go(e,t,n,r,i,o){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Xr("invalid-auth-event");if(this.g&&this.a)throw new Xr("invalid-auth-event");if(this.g&&!this.f)throw new Xr("invalid-auth-event")}function mo(e){return(e=e||{}).type?new go(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Zr(e.error),e.postBody):null}function yo(){this.b=null,this.a=[]}T(Ni,ki),T(xi,Ni),T(Oi,Ni),T(Ri,Ni),T(Pi,Ni),Ui.prototype.la=function(e){return zs(e,Bi(this))},Ui.prototype.b=function(e,t){var n=Bi(this);return n.idToken=t,Gs(e,n)},Ui.prototype.f=function(e,t){return Vi(Ks(e,Bi(this)),t)},Ui.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},qi.prototype.la=function(e){return zs(e,Hi(this))},qi.prototype.b=function(e,t){var n=Hi(this);return n.idToken=t,Gs(e,n)},qi.prototype.f=function(e,t){return Vi(Ks(e,Hi(this)),t)},qi.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Gi.prototype.Da=function(e){return this.zb=Q(e),this},T(Ki,Gi),T(Wi,Gi),Wi.prototype.ua=function(e){return j(this.a,e)||this.a.push(e),this},Wi.prototype.Fb=function(){return G(this.a)},Wi.prototype.credential=function(e,t){var n;if(!(n=y(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Xr("argument-error","credential failed: must provide the ID token and/or the access token.");return new qi(this.providerId,n,this.providerId)},T(Qi,Wi),Ur(Qi,"PROVIDER_ID","facebook.com"),Ur(Qi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Yi,Wi),Ur(Yi,"PROVIDER_ID","github.com"),Ur(Yi,"GITHUB_SIGN_IN_METHOD","github.com"),T(Xi,Wi),Ur(Xi,"PROVIDER_ID","google.com"),Ur(Xi,"GOOGLE_SIGN_IN_METHOD","google.com"),T(eo,Gi),Ur(eo,"PROVIDER_ID","twitter.com"),Ur(eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),no.prototype.la=function(e){return this.signInMethod==io.EMAIL_LINK_SIGN_IN_METHOD?_a(e,ea,{email:this.a,oobCode:this.c}):_a(e,ya,{email:this.a,password:this.c})},no.prototype.b=function(e,t){return this.signInMethod==io.EMAIL_LINK_SIGN_IN_METHOD?_a(e,ta,{idToken:t,email:this.a,oobCode:this.c}):_a(e,ha,{idToken:t,email:this.a,password:this.c})},no.prototype.f=function(e,t){return Vi(this.la(e),t)},no.prototype.w=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Br(io,{PROVIDER_ID:"password"}),Br(io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Br(io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ao.prototype.la=function(e){return e.Va(lo(this))},ao.prototype.b=function(e,t){var n=lo(this);return n.idToken=t,_a(e,ba,n)},ao.prototype.f=function(e,t){var n=lo(this);return n.operation="REAUTH",Vi(e=_a(e,wa,n),t)},ao.prototype.w=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.$&&(e.phoneNumber=this.a.$),e},co.prototype.Va=function(e,t){var n=this.a.c;return Je(t.verify()).then(function(r){if(!a(r))throw new Xr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return _a(e,la,t)}(n,{phoneNumber:e,recaptchaToken:r}).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new Xr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Br(co,{PROVIDER_ID:"phone"}),Br(co,{PHONE_SIGN_IN_METHOD:"phone"}),go.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.i&&e.push(this.i),e.join("-")},go.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,error:this.a&&this.a.w()}};var vo,bo=null;function wo(e){var t="unauthorized-domain",n=void 0,r=Sn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Xr.call(this,t,n)}function _o(e,t,n){Xr.call(this,e,n),(e=t||{}).Ab&&Ur(this,"email",e.Ab),e.$&&Ur(this,"phoneNumber",e.$),e.credential&&Ur(this,"credential",e.credential)}function Co(e){if(e.code){var t=e.code||"";0==t.indexOf(ei)&&(t=t.substring(ei.length));var n={credential:fo(e)};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.$=e.phoneNumber;else if(!n.credential)return new Xr(t,e.message||void 0);return new _o(t,n,e.message)}return null}function Eo(){}function So(e){return e.c||(e.c=e.b())}function To(){}function Do(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Io(){}function Ao(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.cc,this),this.a.onerror=C(this.Gb,this),this.a.onprogress=C(this.dc,this),this.a.ontimeout=C(this.hc,this)}function ko(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function No(e,t,n){this.reset(e,t,n,void 0,void 0)}yo.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=br("universalLinks.subscribe",s))&&e(null,this.b))},yo.prototype.unsubscribe=function(e){H(this.a,function(t){return t==e})},T(wo,Xr),T(_o,Xr),_o.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.w();return t&&Y(e,t),e},_o.prototype.toJSON=function(){return this.w()},Eo.prototype.c=null,T(To,Eo),To.prototype.a=function(){var e=Do(this);return e?new ActiveXObject(e):new XMLHttpRequest},To.prototype.b=function(){var e={};return Do(this)&&(e[0]=!0,e[1]=!0),e},vo=new To,T(Io,Eo),Io.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Ao;throw Error("Unsupported browser")},Io.prototype.b=function(){return{}},(e=Ao.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.cc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ko(this,4)},e.Gb=function(){this.status=500,this.response=this.responseText="",ko(this,4)},e.hc=function(){this.Gb()},e.dc=function(){this.status=200,ko(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},No.prototype.a=null;function xo(e){this.f=e,this.b=this.c=this.a=null}function Oo(e,t){this.name=e,this.value=t}No.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||S(),delete this.a},Oo.prototype.toString=function(){return this.name};var Ro=new Oo("SEVERE",1e3),Po=new Oo("WARNING",900),Mo=new Oo("CONFIG",700),Fo=new Oo("FINE",500);xo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(k("Root logger has no level set."),null)}(this).value)for(m(t)&&(t=t()),e=new No(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Lo={},Vo=null;function Uo(e){var t;if(Vo||(Vo=new xo(""),Lo[""]=Vo,Vo.c=Mo),!(t=Lo[e])){t=new xo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Uo(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Lo[e]=t}return t}function Bo(e,t){e&&e.log(Fo,t,void 0)}function jo(e){this.f=e}function qo(e){sn.call(this),this.u=e,this.readyState=Ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.o="GET",this.g="",this.a=!1,this.h=Uo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(jo,Eo),jo.prototype.a=function(){return new qo(this.f)},jo.prototype.b=function(e){return function(){return e}}({}),T(qo,sn);var Ho=0;function zo(e){e.c.read().then(e.bc.bind(e)).catch(e.Ma.bind(e))}function Go(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,Ko(e)}function Ko(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wo(e){sn.call(this),this.headers=new pn,this.D=e||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Qo,this.v=this.O=!1}(e=qo.prototype).open=function(e,t){if(this.readyState!=Ho)throw this.abort(),Error("Error reopening a connection");this.o=e,this.g=t,this.readyState=1,Ko(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.o,credentials:void 0,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.g,t)).then(this.gc.bind(this),this.Ma.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Go(this,!1)),this.readyState=Ho},e.gc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,Ko(this)),this.a&&(this.readyState=3,Ko(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.ec.bind(this),this.Ma.bind(this)):void 0!==s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,zo(this)):e.text().then(this.fc.bind(this),this.Ma.bind(this)))))},e.bc=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Go(this,!0):Ko(this),3==this.readyState&&zo(this)}},e.fc=function(e){this.a&&(this.response=this.responseText=e,Go(this,!0))},e.ec=function(e){this.a&&(this.response=e,Go(this,!0))},e.Ma=function(e){var t=this.h;t&&t.log(Po,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Go(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Po,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Po,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},T(Wo,sn);var Qo="";Wo.prototype.b=Uo("goog.net.XhrIo");var $o=/^https?$/i,Yo=["POST","PUT"];function Jo(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.N=n,e.G=!1,e.c=!0,e.a=e.D?e.D.a():vo.a(),e.A=e.D?So(e.D):So(vo),e.a.onreadystatechange=C(e.Jb,e);try{Bo(e.b,ss(e,"Opening Xhr")),e.I=!0,e.a.open(n,String(t),!0),e.I=!1}catch(u){return Bo(e.b,ss(e,"Error opening Xhr: "+u.message)),void Zo(e,u)}t=r||"";var o=new pn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||a(e))V(e,t,void 0);else for(var n=fn(e),r=dn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,function(e,t){o.set(t,e)}),i=function(e){e:{for(var t=Xo,n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:a(e)?e.charAt(t):e[t]}(o.U()),r=s.FormData&&t instanceof s.FormData,!j(Yo,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.o&&(e.a.responseType=e.o),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{rs(e),0<e.g&&(e.v=function(e){return bt&&Nt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Bo(e.b,ss(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=C(e.Ga,e)):e.u=cn(e.Ga,e.g,e)),Bo(e.b,ss(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(u){Bo(e.b,ss(e,"Send error: "+u.message)),Zo(e,u)}}function Xo(e){return"content-type"==e.toLowerCase()}function Zo(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,es(e),ns(e)}function es(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ts(e){if(e.c&&void 0!==o)if(e.A[1]&&4==is(e)&&2==os(e))Bo(e.b,ss(e,"Local request error detected and ignored"));else if(e.i&&4==is(e))cn(e.Jb,0,e);else if(e.dispatchEvent("readystatechange"),4==is(e)){Bo(e.b,ss(e,"Request complete")),e.c=!1;try{var t,n=os(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.l).match(yn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!$o.test(a?a.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<is(e)?e.a.statusText:""}catch(c){Bo(e.b,"Can not get status: "+c.message),l=""}e.h=l+" ["+os(e)+"]",es(e)}}finally{ns(e)}}}function ns(e,t){if(e.a){rs(e);var n=e.a,r=e.A[0]?h:null;e.a=null,e.A=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Ro,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function rs(e){e.a&&e.v&&(e.a.ontimeout=null),e.u&&(s.clearTimeout(e.u),e.u=null)}function is(e){return e.a?e.a.readyState:0}function os(e){try{return 2<is(e)?e.a.status:-1}catch(t){return-1}}function ss(e,t){return t+" ["+e.N+" "+e.l+" "+os(e)+"]"}function as(e){var t=vs;this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.A=this.i=!1,this.h=0,this.b=null,this.m=0}function us(e,t,n){e.a=!0,e.c=n,e.f=!t,ds(e)}function ls(e){if(e.a){if(!e.l)throw new fs(e);e.l=!1}}function cs(e,t,n,r){e.g.push([t,n,r]),e.a&&ds(e)}function hs(e){return B(e.g,function(e){return m(e[1])})}function ds(e){if(e.h&&e.a&&hs(e)){var t=e.h,n=ms[t];n&&(s.clearTimeout(n.a),delete ms[t]),e.h=0}e.b&&(e.b.m--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.u,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(D(t)||"function"==typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(l){t=l,e.f=!0,hs(e)||(n=!0)}}e.c=t,r&&(u=C(e.o,e,!0),r=C(e.o,e,!1),t instanceof as?(cs(t,u,r),t.A=!0):t.then(u,r)),n&&(t=new gs(t),ms[t.a]=t,e.h=t.a)}function fs(){I.call(this)}function ps(){I.call(this)}function gs(e){this.a=s.setTimeout(C(this.c,this),0),this.b=e}(e=Wo.prototype).Ga=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Bo(this.b,ss(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Bo(this.b,ss(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ns(this))},e.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ns(this,!0)),Wo.qb.va.call(this)},e.Jb=function(){this.qa||(this.I||this.i||this.f?ts(this):this.vc())},e.vc=function(){ts(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Qo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Ro,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return Bo(this.b,"Can not get response: "+t.message),null}},as.prototype.cancel=function(e){if(this.a)this.c instanceof as&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.m--,0>=t.m&&t.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(e=new ps(this),ls(this),us(this,!1,e))}},as.prototype.o=function(e,t){this.i=!1,us(this,e,t)},as.prototype.then=function(e,t,n){var r,i,o=new ze(function(e,t){r=e,i=t});return cs(this,r,function(e){e instanceof ps?o.cancel():i(e)}),o.then(e,t,n)},as.prototype.$goog_Thenable=!0,T(fs,I),fs.prototype.message="Deferred has already fired",fs.prototype.name="AlreadyCalledError",T(ps,I),ps.prototype.message="Deferred was canceled",ps.prototype.name="CanceledError",gs.prototype.c=function(){throw delete ms[this.a],this.b};var ms={};function ys(e){var t={},n=t.document||document,r=re(e).toString(),i=document.createElement("SCRIPT"),o={Lb:i,Ga:void 0},a=new as(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){bs(i,!0);var e=new Cs(_s,"Timeout reached for loading script "+r);ls(a),us(a,!1,e)},h),o.Ga=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(bs(i,t.dd||!1,u),ls(a),us(a,!0,null))},i.onerror=function(){bs(i,!0,u);var e=new Cs(ws,"Error while loading script "+r);ls(a),us(a,!1,e)},Y(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zn(i,o),function(e,t){F(e,"HTMLScriptElement"),e.src=re(t),null===c&&(c=(t=(t=s.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&l.test(t)?t:""),(t=c)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function vs(){if(this&&this.Lb){var e=this.Lb;e&&"SCRIPT"==e.tagName&&bs(e,!0,this.Ga)}}function bs(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var ws=0,_s=1;function Cs(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),I.call(this,n),this.code=e}function Es(e){this.f=e}function Ss(e,t,n){if(this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Is,this.f=Q(e.secureTokenHeaders||As),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||ks,this.a=Q(e.firebaseHeaders||Ns),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==hr(),!(n=s.XMLHttpRequest||n&&sx.a.INTERNAL.node&&sx.a.INTERNAL.node.XMLHttpRequest)&&!cr())throw new Xr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,cr()?this.c=new jo(self):dr()?this.c=new Es(n):this.c=new Io}T(Cs,I),T(Es,Eo),Es.prototype.a=function(){return new this.f},Es.prototype.b=function(){return{}};var Ts,Ds="idToken",Is=new xr(3e4,6e4),As={"Content-Type":"application/x-www-form-urlencoded"},ks=new xr(3e4,6e4),Ns={"Content-Type":"application/json"};function xs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Os(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function Rs(e,t,n,r,i,o,a){(function(){var e=vr();return!((e=gr(e)!=pr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||bt&&At&&!(9<At))})()||cr()?e=C(e.o,e):(Ts||(Ts=new ze(function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[Ms]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=ie(Ps,{onload:Ms});!function(e,t){cs(e,null,t,void 0)}(ys(n),function(){t(Error("CORS_UNSUPPORTED"))})}}(e,t)})),e=C(e.l,e)),e(t,n,r,i,o,a)}Ss.prototype.o=function(e,t,n,r,i,o){if(cr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new Xr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Wo(this.c);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}an(a,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Bo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)}),un(a,"ready",function(){u&&clearTimeout(u),pt(this)}),un(a,"timeout",function(){u&&clearTimeout(u),pt(this),t&&t(null)}),Jo(a,e,n,r,i)};var Ps=new J(ee,"https://apis.google.com/js/client.js?onload=%{onload}"),Ms="__fcb"+Math.floor(1e6*Math.random()).toString();function Fs(e){if(!a(e=e.email)||!sr.test(e))throw new Xr("invalid-email")}function Ls(e){"email"in e&&Fs(e)}function Vs(e){if(!e[Ds])throw new Xr("internal-error")}function Us(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Xr("internal-error")}else{if(!e.sessionInfo)throw new Xr("missing-verification-id");if(!e.code)throw new Xr("missing-verification-code")}}Ss.prototype.l=function(e,t,n,r,i){var o=this;Ts.then(function(){window.gapi.client.setApiKey(o.b);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Ss.prototype.ob=function(){return _a(this,da,{})},Ss.prototype.rb=function(e,t){return _a(this,ca,{idToken:e,email:t})},Ss.prototype.sb=function(e,t){return _a(this,ha,{idToken:e,password:t})};var Bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function js(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Xr("internal-error")}function qs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Vn(e=new Pn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Hs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Co(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Co(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Co(e)):e.errorMessage&&(t=Ca(e.errorMessage)),t)throw t;if(!e[Ds])throw new Xr("internal-error")}function zs(e,t){return t.returnIdpCredential=!0,_a(e,fa,t)}function Gs(e,t){return t.returnIdpCredential=!0,_a(e,ga,t)}function Ks(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,_a(e,pa,t)}function Ws(e){if(!e.oobCode)throw new Xr("invalid-action-code")}(e=Ss.prototype).tb=function(e,t){var n={idToken:e},r=[];return K(Bs,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),_a(this,ca,n)},e.lb=function(e,t){return Y(e={requestType:"PASSWORD_RESET",email:e},t),_a(this,oa,e)},e.mb=function(e,t){return Y(e={requestType:"EMAIL_SIGNIN",email:e},t),_a(this,ra,e)},e.kb=function(e,t){return Y(e={requestType:"VERIFY_EMAIL",idToken:e},t),_a(this,ia,e)},e.Va=function(e){return _a(this,va,e)},e.$a=function(e,t){return _a(this,ua,{oobCode:e,newPassword:t})},e.Ka=function(e){return _a(this,$s,{oobCode:e})},e.Xa=function(e){return _a(this,Qs,{oobCode:e})};var Qs={endpoint:"setAccountInfo",C:Ws,da:"email"},$s={endpoint:"resetPassword",C:Ws,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Xr("internal-error")}},Ys={endpoint:"signupNewUser",C:function(e){if(Fs(e),!e.password)throw new Xr("weak-password")},J:Vs,R:!0},Js={endpoint:"createAuthUri"},Xs={endpoint:"deleteAccount",T:["idToken"]},Zs={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],C:function(e){if(!p(e.deleteProvider))throw new Xr("internal-error")}},ea={endpoint:"emailLinkSignin",T:["email","oobCode"],C:Fs,J:Vs,R:!0},ta={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],C:Fs,J:Vs,R:!0},na={endpoint:"getAccountInfo"},ra={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Xr("internal-error");Fs(e)},da:"email"},ia={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],C:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Xr("internal-error")},da:"email"},oa={endpoint:"getOobConfirmationCode",T:["requestType"],C:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Xr("internal-error");Fs(e)},da:"email"},sa={wb:!0,endpoint:"getProjectConfig",Ib:"GET"},aa={wb:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new Xr("internal-error")}},ua={endpoint:"resetPassword",C:Ws,da:"email"},la={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},ca={endpoint:"setAccountInfo",T:["idToken"],C:Ls,R:!0},ha={endpoint:"setAccountInfo",T:["idToken"],C:function(e){if(Ls(e),!e.password)throw new Xr("weak-password")},J:Vs,R:!0},da={endpoint:"signupNewUser",J:Vs,R:!0},fa={endpoint:"verifyAssertion",C:js,Qa:qs,J:Hs,R:!0},pa={endpoint:"verifyAssertion",C:js,Qa:qs,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Xr("user-not-found");if(e.errorMessage)throw Ca(e.errorMessage);if(!e[Ds])throw new Xr("internal-error")},R:!0},ga={endpoint:"verifyAssertion",C:function(e){if(js(e),!e.idToken)throw new Xr("internal-error")},Qa:qs,J:Hs,R:!0},ma={endpoint:"verifyCustomToken",C:function(e){if(!e.token)throw new Xr("invalid-custom-token")},J:Vs,R:!0},ya={endpoint:"verifyPassword",C:function(e){if(Fs(e),!e.password)throw new Xr("wrong-password")},J:Vs,R:!0},va={endpoint:"verifyPhoneNumber",C:Us,J:Vs},ba={endpoint:"verifyPhoneNumber",C:function(e){if(!e.idToken)throw new Xr("internal-error");Us(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Co(e);Vs(e)}},wa={Vb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",C:Us,J:Vs};function _a(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.T))return Xe(new Xr("internal-error"));var r,i=t.Ib||"POST";return Je(n).then(t.C).then(function(){return t.R&&(n.returnSecureToken=!0),function(e,t,n,r,i,o){var s=Sn(e.g+t);Cn(s,"key",e.b),o&&Cn(s,"cb",S().toString());var a="GET"==n;if(a)for(var u in r)r.hasOwnProperty(u)&&Cn(s,u,r[u]);return new ze(function(t,o){Rs(e,s.toString(),function(e){e?e.error?o(Ea(e,i||{})):t(e):o(new Xr("network-request-failed"))},n,a?void 0:Qn(Dr(r)),e.a,e.h.get())})}(e,t.endpoint,i,n,t.Vb,t.wb||!1)}).then(function(e){return r=e,t.Qa?t.Qa(n,r):r}).then(t.J).then(function(){if(!t.da)return r;if(!(t.da in r))throw new Xr("internal-error");return r[t.da]})}function Ca(e){return Ea({error:{errors:[{message:e}],code:400,message:e}})}function Ea(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Xr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",Y(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Xr(r[i],t);return!t&&e&&(t=Tr(e)),new Xr("internal-error",t)}function Sa(e){this.b=e,this.a=null,this.gb=function(e){return(Aa||(Aa=new ze(function(e,t){function n(){Nr(),br("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Nr(),t(Error("Network Error"))},timeout:Da.get()})}if(br("gapi.iframes.Iframe"))e();else if(br("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){br("gapi.load")?n():t(Error("Network Error"))},Je(ys(r=ie(Ta,{onload:r}))).s(function(){t(Error("Network Error"))})}}).s(function(e){throw Aa=null,e}))).then(function(){return new ze(function(t,n){br("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Ia.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var Ta=new J(ee,"https://apis.google.com/js/api.js?onload=%{onload}"),Da=new xr(3e4,6e4),Ia=new xr(5e3,15e3),Aa=null;function ka(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Tn(this.i,"/__/auth/iframe"),Cn(this.a,"apiKey",this.g),Cn(this.a,"appName",this.h),this.b=null,this.c=[]}function Na(e,t,n,r,i){this.o=e,this.l=t,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function xa(e){try{return sx.a.app(e).auth().ya()}catch(t){return[]}}function Oa(e,t,n,r,i){this.l=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function Ra(e){var t=er();return function(e){return _a(e,sa,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=Sn(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Sn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:or.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new wo(er())})}function Pa(e){return e.m?e.m:(e.m=ar().then(function(){if(!e.u){var t=e.c,n=e.h,r=xa(e.b),i=new ka(e.l,e.f,e.b);i.f=t,i.b=n,i.c=G(r||[]),e.u=i.toString()}e.i=new Sa(e.u),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.gb.then(function(){e.a.register("authEvent",t,br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.i,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=mo(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Je(n)}return n.status="ERROR",Je(n)})}(e)}),e.m)}function Ma(e){return e.o||(e.v=e.c?yr(e.c,xa(e.b)):null,e.o=new Ss(e.f,_i(e.h),e.v)),e.o}function Fa(e,t,n,r,i,o,s,a,u,l){return(e=new Na(e,t,n,r,i)).i=o,e.g=s,e.h=a,e.b=Q(u||null),e.f=l,e.toString()}function La(e){if(this.a=e||sx.a.INTERNAL.reactNative&&sx.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Xr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Va(e){this.b=e,this.a={},this.c=C(this.f,this)}ka.prototype.toString=function(){return this.f?Cn(this.a,"v",this.f):Ln(this.a.a,"v"),this.b?Cn(this.a,"eid",this.b):Ln(this.a.a,"eid"),this.c.length?Cn(this.a,"fw",this.c.join(",")):Ln(this.a.a,"fw"),this.a.toString()},Na.prototype.toString=function(){var e=Tn(this.o,"/__/auth/handler");if(Cn(e,"apiKey",this.l),Cn(e,"appName",this.c),Cn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=sx.a.app(this.c).auth().ea()}catch(a){n=null}for(var r in t.ab=n,Cn(e,"providerId",this.a.providerId),n=Dr((t=this.a).zb))n[r]=n[r].toString();r=t.Cc,n=Q(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}t.eb&&t.ab&&!n[t.eb]&&(n[t.eb]=t.ab),W(n)||Cn(e,"customParameters",Tr(n))}if("function"==typeof this.a.Fb&&((t=this.a.Fb()).length&&Cn(e,"scopes",t.join(","))),this.i?Cn(e,"redirectUrl",this.i):Ln(e.a,"redirectUrl"),this.g?Cn(e,"eventId",this.g):Ln(e.a,"eventId"),this.h?Cn(e,"v",this.h):Ln(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!En(e,s)&&Cn(e,s,this.b[s]);return this.f?Cn(e,"eid",this.f):Ln(e.a,"eid"),(s=xa(this.c)).length&&Cn(e,"fw",s.join(",")),e.toString()},(e=Oa.prototype).Ea=function(e,t,n){var r=new Xr("popup-closed-by-user"),i=new Xr("web-storage-unsupported"),o=this,s=!1;return this.ga().then(function(){(function(e){var t={type:"webStorageSupport"};return Pa(e).then(function(){return function(e,t){return e.gb.then(function(){return new ze(function(n){e.a.send(t.type,t,n,br("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.i,t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&rr(e),t(i),s=!0)})}).s(function(){}).then(function(){if(!s)return function(e){return new ze(function(t){return function n(){hn(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!s)return hn(n).then(function(){t(r)})})},e.Mb=function(){var e=vr();return!Sr(e)&&!kr(e)},e.Hb=function(){return!1},e.Db=function(e,t,n,r,i,o,s){if(!e)return Xe(new Xr("popup-blocked"));if(s&&!Sr())return this.ga().s(function(t){rr(e),i(t)}),r(),Je();this.a||(this.a=Ra(Ma(this)));var a=this;return this.a.then(function(){var t=a.ga().s(function(t){throw rr(e),i(t),t});return r(),t}).then(function(){(po(n),s)||tr(Fa(a.l,a.f,a.b,t,n,null,o,a.c,void 0,a.h),e)}).s(function(e){throw"auth/network-request-failed"==e.code&&(a.a=null),e})},e.Ca=function(e,t,n){this.a||(this.a=Ra(Ma(this)));var r=this;return this.a.then(function(){po(t),tr(Fa(r.l,r.f,r.b,e,t,er(),n,r.c,void 0,r.h))}).s(function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e})},e.ga=function(){var e=this;return Pa(this).then(function(){return e.i.gb}).s(function(){throw e.a=null,new Xr("network-request-failed")})},e.Ob=function(){return!0},e.wa=function(e){this.g.push(e)},e.La=function(e){H(this.g,function(t){return t==e})},(e=La.prototype).get=function(e){return Je(this.a.getItem(e)).then(function(e){return e&&Ir(e)})},e.set=function(e,t){return Je(this.a.setItem(e,Tr(t)))},e.P=function(e){return Je(this.a.removeItem(e))},e.Y=function(){},e.ca=function(){};var Ua,Ba=[];function ja(e){this.a=e}function qa(e){this.c=e,this.b=!1,this.a=[]}function Ha(e,t,n,r){var i,o,s,a,u=n||{},l=null;if(e.b)return Xe(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ze(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},c),l={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(a),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},e.a.push(l),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(t){return za(e,l),t}).s(function(t){throw za(e,l),t})}function za(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(e.a,function(e){return e==t})}}function Ga(){if(!Qa())throw new Xr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.l=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.i=null,this.u=!1,this.h=null;var e=this;cr()&&self?(this.m=function(){var e=cr()?self:null;if(V(Ba,function(n){n.b==e&&(t=n)}),!t){var t=new Va(e);Ba.push(t)}return t}(),this.m.subscribe("keyChanged",function(t,n){return Za(e).then(function(t){return 0<t.length&&V(e.a,function(e){e(t)}),{keyProcessed:j(t,n.key)}})}),this.m.subscribe("ping",function(){return Je(["keyChanged"])})):function(){var e=s.navigator;return e&&e.serviceWorker?Je().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).s(function(){return null}):Je(null)}().then(function(t){(e.h=t)&&(e.g=new qa(new ja(t)),Ha(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&j(t[0].value,"keyChanged")&&(e.u=!0)}).s(function(){}))})}function Ka(e){return new ze(function(t,n){var r=e.l.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new ze(function(t,n){var r=e.l.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return Ka(e)}).then(function(e){t(e)}).s(function(e){n(e)})}})}function Wa(e){return e.o||(e.o=Ka(e)),e.o}function Qa(){try{return!!s.indexedDB}catch(yt){return!1}}function $a(e){return e.objectStore("firebaseLocalStorage")}function Ya(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ja(e){return new ze(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Xa(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ha(e.g,"keyChanged",{key:t},e.u).then(function(){}).s(function(){}):Je()}function Za(e){return Wa(e).then(function(e){var t=$a(Ya(e,!1));return t.getAll?Ja(t.getAll()):new ze(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r})}function eu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function tu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Je().then(function(){if(Qa()){var e=Ar(),r="__sak"+e;return Ua||(Ua=new Ga),(n=Ua).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.Y(function(e){V(t.a,function(t){t(e)})}),e})}function nu(){this.a={},this.type="inMemory"}function ru(){if(!function(){var e="Node"==hr();if(!(e=iu()||e&&sx.a.INTERNAL.node&&sx.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new Xr("internal-error","The LocalStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=iu()||sx.a.INTERNAL.node.localStorage,this.type="localStorage"}function iu(){try{var e=s.localStorage,t=Ar();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function ou(){this.type="nullStorage"}function su(){if(!function(){var e="Node"==hr();if(!(e=au()||e&&sx.a.INTERNAL.node&&sx.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new Xr("internal-error","The SessionStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=au()||sx.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function au(){try{var e=s.sessionStorage,t=Ar();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function uu(){var e={};e.Browser=hu,e.Node=du,e.ReactNative=fu,e.Worker=pu,this.a=e[hr()]}Va.prototype.f=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];V(r,function(t){i.push(Je().then(function(){return t(e.origin,e.data.data)}))}),et(i).then(function(r){var i=[];V(r,function(e){i.push({fulfilled:e.Eb,value:e.value,reason:e.reason?e.reason.message:void 0})}),V(i,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},Va.prototype.subscribe=function(e,t){W(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[e]&&(this.a[e]=[]),this.a[e].push(t)},Va.prototype.unsubscribe=function(e,t){void 0!==this.a[e]&&t?(H(this.a[e],function(e){return e==t}),0==this.a[e].length&&delete this.a[e]):t||delete this.a[e],W(this.a)&&this.b.removeEventListener("message",this.c)},ja.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},qa.prototype.close=function(){for(;0<this.a.length;)za(this,this.a[0]);this.b=!0},(e=Ga.prototype).set=function(e,t){var n,r=!1,i=this;return Wa(this).then(function(t){return Ja((t=$a(Ya(n=t,!0))).get(e))}).then(function(o){var s=$a(Ya(n,!0));return o?(o.value=t,Ja(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,Ja(s.add(o)))}).then(function(){return i.c[e]=t,Xa(i,e)}).ia(function(){r&&i.b--})},e.get=function(e){return Wa(this).then(function(t){return Ja($a(Ya(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.P=function(e){var t=!1,n=this;return Wa(this).then(function(r){return t=!0,n.b++,Ja($a(Ya(r,!0)).delete(e))}).then(function(){return delete n.c[e],Xa(n,e)}).ia(function(){t&&n.b--})},e.Y=function(e){0==this.a.length&&function(e){eu(e),function t(){e.f=setTimeout(function(){e.i=Za(e).then(function(t){0<t.length&&V(e.a,function(e){e(t)})}).then(function(){t()}).s(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()}(this),this.a.push(e)},e.ca=function(e){H(this.a,function(t){return t==e}),0==this.a.length&&eu(this)},(e=tu.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.P=function(e){return this.b.then(function(t){return t.P(e)})},e.Y=function(e){this.a.push(e)},e.ca=function(e){H(this.a,function(t){return t==e})},(e=nu.prototype).get=function(e){return Je(this.a[e])},e.set=function(e,t){return this.a[e]=t,Je()},e.P=function(e){return delete this.a[e],Je()},e.Y=function(){},e.ca=function(){},(e=ru.prototype).get=function(e){var t=this;return Je().then(function(){return Ir(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Je().then(function(){var r=Tr(t);null===r?n.P(e):n.a.setItem(e,r)})},e.P=function(e){var t=this;return Je().then(function(){t.a.removeItem(e)})},e.Y=function(e){s.window&&Wt(s.window,"storage",e)},e.ca=function(e){s.window&&Yt(s.window,"storage",e)},(e=ou.prototype).get=function(){return Je(null)},e.set=function(){return Je()},e.P=function(){return Je()},e.Y=function(){},e.ca=function(){},(e=su.prototype).get=function(e){var t=this;return Je().then(function(){return Ir(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Je().then(function(){var r=Tr(t);null===r?n.P(e):n.a.setItem(e,r)})},e.P=function(e){var t=this;return Je().then(function(){t.a.removeItem(e)})},e.Y=function(){},e.ca=function(){};var lu,cu,hu={B:ru,Sa:su},du={B:ru,Sa:su},fu={B:La,Sa:ou},pu={B:ru,Sa:ou},gu={Xc:"local",NONE:"none",Zc:"session"};function mu(){var e=!(kr(vr())||!lr()),t=Sr(),n=wr();this.o=e,this.h=t,this.m=n,this.a={},lu||(lu=new uu),e=lu;try{this.g=!Zn()&&Pr()||!s.indexedDB?new e.a.B:new tu(cr()?new nu:new e.a.B)}catch(r){this.g=new nu,this.h=!0}try{this.i=new e.a.Sa}catch(r){this.i=new nu}this.l=new nu,this.f=C(this.Nb,this),this.b={}}function yu(){return cu||(cu=new mu),cu}function vu(e,t){switch(t){case"session":return e.i;case"none":return e.l;default:return e.g}}function bu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function wu(e,t,n){return n=bu(t,n),"local"==t.B&&(e.b[n]=null),vu(e,t.B).P(n)}function _u(e){e.c&&(clearInterval(e.c),e.c=null)}function Cu(e){this.a=e,this.b=yu()}(e=mu.prototype).get=function(e,t){return vu(this,e.B).get(bu(e,t))},e.set=function(e,t,n){var r=bu(e,n),i=this,o=vu(this,e.B);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.B&&(i.b[r]=t)})},e.addListener=function(e,t,n){e=bu(e,t),this.m&&(this.b[e]=s.localStorage.getItem(e)),W(this.a)&&(vu(this,"local").Y(this.f),this.h||(Zn()||!Pr())&&s.indexedDB||!this.m||function(e){_u(e),e.c=setInterval(function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Ft({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Nb(n))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=bu(e,t),this.a[e]&&(H(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),W(this.a)&&(vu(this,"local").ca(this.f),_u(this))},e.Nb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Ya(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?vu(this,"local").ca(this.f):_u(this),this.o)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.Ya(t))},bt&&At&&10==At&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else V(e,C(this.Ya,this))},e.Ya=function(e){this.a[e]&&V(this.a[e],function(e){e()})};var Eu,Su={name:"authEvent",B:"local"};function Tu(){this.a=yu()}function Du(e,t){this.b=Iu,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.m=s.Int32Array?new Int32Array(64):Array(64),void 0!==Eu||(Eu=s.Int32Array?new Int32Array(Pu):Pu),this.reset()}T(Du,function(){this.b=-1});for(var Iu=64,Au=Iu-1,ku=[],Nu=0;Nu<Au;Nu++)ku[Nu]=0;var xu=z(128,ku);function Ou(e){for(var t=e.f,n=e.m,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+s|0}r=0|e.a[0],i=0|e.a[1];var a=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&c^~l&h)+(0|Eu[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+s|0,u=a,a=i,i=r,r=s+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Ru(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(a(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Ou(e),i=0);else{if(!g(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Ou(e),i=0)}}e.c=i,e.g+=n}Du.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):G(this.h)};var Pu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Mu(){Du.call(this,8,Fu)}T(Mu,Du);var Fu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Lu(e,t,n,r,i){this.l=e,this.i=t,this.m=n,this.o=r||null,this.u=i||null,this.h=t+":"+n,this.v=new Tu,this.g=new Cu(this.h),this.f=null,this.b=[],this.a=this.c=null}function Vu(e){return new Xr("invalid-cordova-configuration",e)}function Uu(e){var t=new Mu;Ru(t,e),e=[];var n=8*t.g;56>t.c?Ru(t,xu,56-t.c):Ru(t,xu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Ou(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return U(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}function Bu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function ju(e){return e.f||(e.f=e.ga().then(function(){return new ze(function(t){e.wa(function n(r){return t(r),e.La(n),!1}),function(e){function t(t){r=!0,i&&i.cancel(),qu(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=Fi(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ir(En(o=Sn(i),"firebaseError")||null))?Zr(o):null)?new go(r.c,r.b,null,null,o):new go(r.c,r.b,i,r.f)),i=o||n}Bu(e,i)})}var n=new go("unknown",null,null,null,new Xr("no-auth-event")),r=!1,i=hn(500).then(function(){return qu(e).then(function(){r||Bu(e,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(br("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},bo||(bo=new yo),bo.subscribe(t)}(e)})})),e.f}function qu(e){var t=null;return function(e){return e.b.get(Su,e.a).then(function(e){return mo(e)})}(e.g).then(function(n){return t=n,wu((n=e.g).b,Su,n.a)}).then(function(){return t})}function Hu(e){this.a=e,this.b=yu()}(e=Lu.prototype).ga=function(){return this.za?this.za:this.za=(ur(void 0)?ar().then(function(){return new ze(function(e,t){var n=s.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):Xe(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof br("universalLinks.subscribe",s))throw Vu("cordova-universal-links-plugin-fix is not installed");if(void 0===br("BuildInfo.packageName",s))throw Vu("cordova-plugin-buildinfo is not installed");if("function"!=typeof br("cordova.plugins.browsertab.openUrl",s))throw Vu("cordova-plugin-browsertab is not installed");if("function"!=typeof br("cordova.InAppBrowser.open",s))throw Vu("cordova-plugin-inappbrowser is not installed")},function(){throw new Xr("cordova-not-ready")})},e.Ea=function(e,t){return t(new Xr("operation-not-supported-in-this-environment")),Je()},e.Db=function(){return Xe(new Xr("operation-not-supported-in-this-environment"))},e.Ob=function(){return!1},e.Mb=function(){return!0},e.Hb=function(){return!0},e.Ca=function(e,t,n){if(this.c)return Xe(new Xr("redirect-operation-pending"));var r=this,i=s.document,o=null,a=null,u=null,l=null;return this.c=Je().then(function(){return po(t),ju(r)}).then(function(){return function(e,t,n,r){var i=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),o=new go(t,r,null,i,new Xr("no-auth-event")),a=br("BuildInfo.packageName",s);if("string"!=typeof a)throw new Xr("invalid-cordova-configuration");var u=br("BuildInfo.displayName",s),l={};if(vr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!vr().toLowerCase().match(/android/))return Xe(new Xr("operation-not-supported-in-this-environment"));l.apn=a}u&&(l.appDisplayName=u),i=Uu(i),l.sessionId=i;var c=Fa(e.l,e.i,e.m,t,n,null,r,e.o,l,e.u);return e.ga().then(function(){var t=e.h;return e.v.a.set(Su,o.w(),t)}).then(function(){var t=br("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof t)throw new Xr("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=br("cordova.plugins.browsertab.openUrl",s)))throw new Xr("invalid-cordova-configuration");n(c)}else{if("function"!=typeof(n=br("cordova.InAppBrowser.open",s)))throw new Xr("invalid-cordova-configuration");t=vr(),e.a=n(c,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,e,t,n)}).then(function(){return new ze(function(e,t){a=function(){var t=br("cordova.plugins.browsertab.close",s);return e(),"function"==typeof t&&t(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.wa(a),u=function(){o||(o=hn(2e3).then(function(){t(new Xr("redirect-cancelled-by-user"))}))},l=function(){Or()&&u()},i.addEventListener("resume",u,!1),vr().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",l,!1)}).s(function(e){return qu(r).then(function(){throw e})})}).ia(function(){u&&i.removeEventListener("resume",u,!1),l&&i.removeEventListener("visibilitychange",l,!1),o&&o.cancel(),a&&r.La(a),r.c=null})},e.wa=function(e){this.b.push(e),ju(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new go("unknown",null,null,null,new Xr("no-auth-event")),e(t))})},e.La=function(e){H(this.b,function(t){return t==e})};var zu={name:"pendingRedirect",B:"session"};function Gu(e){return wu(e.b,zu,e.a)}function Ku(e,t,n){this.i={},this.u=0,this.A=e,this.l=t,this.o=n,this.h=[],this.f=!1,this.m=C(this.cb,this),this.b=new nl,this.v=new sl,this.g=new Hu(this.l+":"+this.o),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.v,this.c.linkViaPopup=this.v,this.c.reauthViaPopup=this.v,this.a=Wu(this.A,this.l,this.o,bi)}function Wu(e,t,n,r){var i=sx.a.SDK_VERSION||null;return ur()?new Lu(e,t,n,i,r):new Oa(e,t,n,i,r)}function Qu(e){e.f||(e.f=!0,e.a.wa(e.m));var t=e.a;return e.a.ga().s(function(n){throw e.a==t&&e.reset(),n})}function $u(e){e.a.Mb()&&Qu(e).s(function(t){var n=new go("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));Zu(t)&&e.cb(n)}),e.a.Hb()||rl(e.b)}(e=Ku.prototype).reset=function(){this.f=!1,this.a.La(this.m),this.a=Wu(this.A,this.l,this.o),this.i={}},e.Za=function(){this.b.Za()},e.subscribe=function(e){if(j(this.h,e)||this.h.push(e),!this.f){var t=this;(function(e){return e.b.get(zu,e.a).then(function(e){return"pending"==e})})(this.g).then(function(e){e?Gu(t.g).then(function(){Qu(t).s(function(e){var n=new go("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));Zu(e)&&t.cb(n)})}):$u(t)}).s(function(){$u(t)})}},e.unsubscribe=function(e){H(this.h,function(t){return t==e})},e.cb=function(e){if(!e)throw new Xr("invalid-auth-event");if(6e5<=S()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=S())),t=!0;break}}return rl(this.b),t};var Yu=new xr(2e3,1e4),Ju=new xr(3e4,6e4);function Xu(e,t,n,r,i,o){return e.a.Db(t,n,r,function(){e.f||(e.f=!0,e.a.wa(e.m))},function(){e.reset()},i,o)}function Zu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}Ku.prototype.fa=function(){return this.b.fa()},Ku.prototype.Ca=function(e,t,n){var r,i=this;return function(e){return e.b.set(zu,"pending",e.a)}(this.g).then(function(){return i.a.Ca(e,t,n).s(function(e){if(Zu(e))throw new Xr("operation-not-supported-in-this-environment");return r=e,Gu(i.g).then(function(){throw r})}).then(function(){return i.a.Ob()?new ze(function(){}):Gu(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},Ku.prototype.Ea=function(e,t,n,r){return this.a.Ea(n,function(n){e.ha(t,null,n,r)},Yu.get())};var el={};function tl(e,t,n){var r=t+":"+n;return el[r]||(el[r]=new Ku(e,t,n)),el[r]}function nl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function rl(e){e.g||(e.g=!0,ol(e,!1,null,null))}function il(e,t){if(e.b=function(){return Je(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function ol(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Xe(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):il(e,n):il(e,{user:null}),e.f=[],e.c=[]}function sl(){}function al(){this.ub=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ub},set:function(e){this.ub=e},enumerable:!1})}function ul(e,t){this.a=t,Ur(this,"verificationId",e)}function ll(e,t,n,r){return new co(e).Va(t,n).then(function(e){return new ul(e,r)})}function cl(e){var t=vi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Xr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Br(this,{token:e,expirationTime:Rr(1e3*t.exp),authTime:Rr(1e3*t.auth_time),issuedAtTime:Rr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function hl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(e){this.f=e,this.b=this.a=null,this.c=0}function fl(e,t){var n=t[Ds],r=t.refreshToken;t=pl(t.expiresIn),e.b=n,e.c=t,e.a=r}function pl(e){return S()+1e3*parseInt(e,10)}function gl(e,t){return function(e,t){return new ze(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Rs(e,e.i+"?key="+encodeURIComponent(e.b),function(e){e?e.error?r(Ea(e)):e.access_token&&e.refresh_token?n(e):r(new Xr("internal-error")):r(new Xr("network-request-failed"))},"POST",Fn(t).toString(),e.f,e.m.get()):r(new Xr("internal-error"))})}(e.f,t).then(function(t){return e.b=t.access_token,e.c=pl(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function ml(e,t){this.a=e||null,this.b=t||null,Br(this,{lastSignInTime:Rr(t||null),creationTime:Rr(e||null)})}function yl(e,t,n,r,i,o){Br(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function vl(e,t){for(var n in Mt.call(this,e),t)this[n]=t[n]}function bl(e,t,n){this.G=[],this.l=e.apiKey,this.o=e.appName,this.u=e.authDomain||null,e=sx.a.SDK_VERSION?yr(sx.a.SDK_VERSION):null,this.c=new Ss(this.l,_i(bi),e),this.h=new dl(this.c),Dl(this,t[Ds]),fl(this.h,t),Ur(this,"refreshToken",this.h.a),kl(this,n||{}),sn.call(this),this.I=!1,this.u&&_r()&&(this.a=tl(this.u,this.l,this.o)),this.N=[],this.i=null,this.A=function(e){return new hl(function(){return e.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-S()-3e5;return 0<t?t:0})}(this),this.V=C(this.Ha,this);var r=this;this.ka=null,this.ta=function(e){r.pa(e.g)},this.X=null,this.O=[],this.sa=function(e){_l(r,e.c)},this.W=null}function wl(e,t){e.X&&Yt(e.X,"languageCodeChanged",e.ta),(e.X=t)&&Wt(t,"languageCodeChanged",e.ta)}function _l(e,t){e.O=t,Os(e.c,sx.a.SDK_VERSION?yr(sx.a.SDK_VERSION,e.O):null)}function Cl(e,t){e.W&&Yt(e.W,"frameworkChanged",e.sa),(e.W=t)&&Wt(t,"frameworkChanged",e.sa)}function El(e){try{return sx.a.app(e.o).auth()}catch(t){throw new Xr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}}function Sl(e){e.D||e.A.b||(e.A.start(),Yt(e,"tokenChanged",e.V),Wt(e,"tokenChanged",e.V))}function Tl(e){Yt(e,"tokenChanged",e.V),e.A.stop()}function Dl(e,t){e.ra=t,Ur(e,"_lat",t)}function Il(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return et(t).then(function(){return e})}function Al(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function kl(e,t){Br(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new ml(t.createdAt,t.lastLoginAt),providerData:[]})}function Nl(){}function xl(e){return Je().then(function(){if(e.D)throw new Xr("app-deleted")})}function Ol(e){return U(e.providerData,function(e){return e.providerId})}function Rl(e,t){t&&(Pl(e,t.providerId),e.providerData.push(t))}function Pl(e,t){H(e.providerData,function(e){return e.providerId==t})}function Ml(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Ur(e,t,n)}function Fl(e,t){e!=t&&(Br(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?Ur(e,"metadata",function(e){return new ml(e.a,e.b)}(t.metadata)):Ur(e,"metadata",new ml),V(t.providerData,function(t){Rl(e,t)}),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Ur(e,"refreshToken",e.h.a))}function Ll(e){return e.F().then(function(t){var n=e.isAnonymous;return function(e,t){return _a(e.c,na,{idToken:t}).then(C(e.wc,e))}(e,t).then(function(){return n||Ml(e,"isAnonymous",!1),t})})}function Vl(e,t){t[Ds]&&e.ra!=t[Ds]&&(fl(e.h,t),e.dispatchEvent(new vl("tokenChanged")),Dl(e,t[Ds]),Ml(e,"refreshToken",e.h.a))}function Ul(e,t){return Ll(e).then(function(){if(j(Ol(e),t))return Il(e).then(function(){throw new Xr("provider-already-linked")})})}function Bl(e,t,n){return jr({user:e,credential:fo(t),additionalUserInfo:t=Di(t),operationType:n})}function jl(e,t){return Vl(e,t),e.reload().then(function(){return e})}function ql(e,t,n,r,i){if(!_r())return Xe(new Xr("operation-not-supported-in-this-environment"));if(e.i&&!i)return Xe(e.i);var o=Ti(n.providerId),s=Ar(e.uid+":::"),a=null;(!Sr()||lr())&&e.u&&n.isOAuthProvider&&(a=Fa(e.u,e.l,e.o,t,n,null,s,sx.a.SDK_VERSION||null));var u=ir(a,o&&o.Ba,o&&o.Aa);return r=r().then(function(){if(zl(e),!i)return e.F().then(function(){})}).then(function(){return Xu(e.a,u,t,n,s,!!a)}).then(function(){return new ze(function(n,r){e.ha(t,null,new Xr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.b=e.a.Ea(e,t,u,s)})}).then(function(e){return u&&rr(u),e?jr(e):null}).s(function(e){throw u&&rr(u),e}),Gl(e,r,i)}function Hl(e,t,n,r,i){if(!_r())return Xe(new Xr("operation-not-supported-in-this-environment"));if(e.i&&!i)return Xe(e.i);var o=null,s=Ar(e.uid+":::");return r=r().then(function(){if(zl(e),!i)return e.F().then(function(){})}).then(function(){return e.aa=s,Il(e)}).then(function(t){return e.ba&&(t=(t=e.ba).b.set(Ql,e.w(),t.a)),t}).then(function(){return e.a.Ca(t,n,s)}).s(function(t){if(o=t,e.ba)return $l(e.ba);throw o}).then(function(){if(o)throw o}),Gl(e,r,i)}function zl(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Xr("internal-error");throw new Xr("auth-domain-config-required")}}function Gl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Xe(e.i)):t.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new vl("userInvalidated")),e.i=t),t})}(e,t,n);return e.G.push(r),r.ia(function(){q(e.G,r)}),r}function Kl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Ds]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-S())/1e3;var r=new bl(t,n,e);return e.providerData&&V(e.providerData,function(e){e&&Rl(r,jr(e))}),e.redirectEventId&&(r.aa=e.redirectEventId),r}function Wl(e){this.a=e,this.b=yu()}nl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},nl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(ol(this,!0,null,e.a),Je()):t.xa(n,r)?function(e,t,n){n=n.xa(t.c,t.b);var r=t.g,i=t.f,o=t.h,s=!!t.c.match(/Redirect$/);n(r,i,o).then(function(t){ol(e,s,t,null)}).s(function(t){ol(e,s,null,t)})}(this,e,t):Xe(new Xr("invalid-auth-event")):(ol(this,!1,null,null),Je())}else Xe(new Xr("invalid-auth-event"))},nl.prototype.Za=function(){this.g&&!this.i&&ol(this,!1,null,null)},nl.prototype.fa=function(){var e=this;return new ze(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Xr("timeout");e.a&&e.a.cancel(),e.a=hn(Ju.get()).then(function(){e.b||(e.g=!0,ol(e,!0,null,t))})}(e))})},sl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ha(e.c,null,e.a,e.b),Je()):t.xa(n,r)?function(e,t){var n=e.b,r=e.c;t.xa(r,n)(e.g,e.f,e.h).then(function(e){t.ha(r,e,null,n)}).s(function(e){t.ha(r,null,e,n)})}(e,t):Xe(new Xr("invalid-auth-event"))}else Xe(new Xr("invalid-auth-event"))},ul.prototype.confirm=function(e){return e=ho(this.verificationId,e),this.a(e)},hl.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=hn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then(function(){return e=s.document,t=null,Or()||!e?Je():new ze(function(n){t=function(){Or()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n});var e,t}).then(function(){return t.h()}).then(function(){e(t,!0)}).s(function(n){t.i(n)&&e(t,!1)})}(this,!0)},hl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},dl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Xe(new Xr("user-token-expired")):e||!this.b||S()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):Je(null):Je({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(vl,Mt),T(bl,sn),bl.prototype.pa=function(e){this.ka=e,xs(this.c,e)},bl.prototype.ea=function(){return this.ka},bl.prototype.ya=function(){return G(this.O)},bl.prototype.Ha=function(){this.A.b&&(this.A.stop(),this.A.start())},Ur(bl.prototype,"providerId","firebase"),(e=bl.prototype).reload=function(){var e=this;return Gl(this,xl(this).then(function(){return Ll(e).then(function(){return Il(e)}).then(Nl)}))},e.ac=function(e){return this.F(e).then(function(e){return new cl(e)})},e.F=function(e){var t=this;return Gl(this,xl(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new Xr("internal-error");return e.accessToken!=t.ra&&(Dl(t,e.accessToken),t.dispatchEvent(new vl("tokenChanged"))),Ml(t,"refreshToken",e.refreshToken),e.accessToken}))},e.wc=function(e){if(!(e=e.users)||!e.length)throw new Xr("internal-error");kl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?U(e,function(e){return new yl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)Rl(this,t[n]);Ml(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.xc=function(e){return Lr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(e)},e.hb=function(e){var t=this,n=null;return Gl(this,e.f(this.c,this.uid).then(function(e){return Vl(t,e),n=Bl(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.oc=function(e){return Lr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(e)},e.fb=function(e){var t=this,n=null;return Gl(this,Ul(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.b(t.c,n)}).then(function(e){return n=Bl(t,e,"link"),jl(t,e)}).then(function(){return n}))},e.pc=function(e,t){var n=this;return Gl(this,Ul(this,"phone").then(function(){return ll(El(n),e,t,C(n.fb,n))}))},e.yc=function(e,t){var n=this;return Gl(this,Je().then(function(){return ll(El(n),e,t,C(n.hb,n))}),!0)},e.rb=function(e){var t=this;return Gl(this,this.F().then(function(n){return t.c.rb(n,e)}).then(function(e){return Vl(t,e),t.reload()}))},e.Pc=function(e){var t=this;return Gl(this,this.F().then(function(n){return e.b(t.c,n)}).then(function(e){return Vl(t,e),t.reload()}))},e.sb=function(e){var t=this;return Gl(this,this.F().then(function(n){return t.c.sb(n,e)}).then(function(e){return Vl(t,e),t.reload()}))},e.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return xl(this);var t=this;return Gl(this,this.F().then(function(n){return t.c.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Vl(t,e),Ml(t,"displayName",e.displayName||null),Ml(t,"photoURL",e.photoUrl||null),V(t.providerData,function(e){"password"===e.providerId&&(Ur(e,"displayName",t.displayName),Ur(e,"photoURL",t.photoURL))}),Il(t)}).then(Nl))},e.Nc=function(e){var t=this;return Gl(this,Ll(this).then(function(n){return j(Ol(t),e)?function(e,t,n){return _a(e,Zs,{idToken:t,deleteProvider:n})}(t.c,n,[e]).then(function(e){var n={};return V(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),V(Ol(t),function(e){n[e]||Pl(t,e)}),n[co.PROVIDER_ID]||Ur(t,"phoneNumber",null),Il(t)}):Il(t).then(function(){throw new Xr("no-such-provider")})}))},e.delete=function(){var e=this;return Gl(this,this.F().then(function(t){return _a(e.c,Xs,{idToken:t})}).then(function(){e.dispatchEvent(new vl("userDeleted"))})).then(function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");wl(e,null),Cl(e,null),e.G=[],e.D=!0,Tl(e),Ur(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},e.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.aa||null)==t||"reauthViaRedirect"==e&&(this.aa||null)==t)},e.ha=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},e.xa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==e&&(this.aa||null)==t?C(this.Bb,this):"reauthViaRedirect"==e&&(this.aa||null)==t?C(this.Cb,this):null},e.qc=function(e){var t=this;return ql(this,"linkViaPopup",e,function(){return Ul(t,e.providerId).then(function(){return Il(t)})},!1)},e.zc=function(e){return ql(this,"reauthViaPopup",e,function(){return Je()},!0)},e.rc=function(e){var t=this;return Hl(this,"linkViaRedirect",e,function(){return Ul(t,e.providerId)},!1)},e.Ac=function(e){return Hl(this,"reauthViaRedirect",e,function(){return Je()},!0)},e.Bb=function(e,t,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Gl(this,this.F().then(function(i){return Gs(r.c,{requestUri:e,postBody:n,sessionId:t,idToken:i})}).then(function(e){return i=Bl(r,e,"link"),jl(r,e)}).then(function(){return i}))},e.Cb=function(e,t,n){var r=this;this.b&&(this.b.cancel(),this.b=null);var i=null;return Gl(this,Je().then(function(){return Vi(Ks(r.c,{requestUri:e,sessionId:t,postBody:n}),r.uid)}).then(function(e){return i=Bl(r,e,"reauthenticate"),Vl(r,e),r.i=null,r.reload()}).then(function(){return i}),!0)},e.kb=function(e){var t=this,n=null;return Gl(this,this.F().then(function(t){return n=t,void 0===e||W(e)?{}:di(new ni(e))}).then(function(e){return t.c.kb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.w(),redirectEventId:this.aa||null};return this.metadata&&Y(e,this.metadata.w()),V(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),e};var Ql={name:"redirectUser",B:"session"};function $l(e){return wu(e.b,Ql,e.a)}function Yl(e){this.a=e,this.b=yu(),this.c=null,this.f=function(e){var t=Zl("local"),n=Zl("session"),r=Zl("none");return function(e,t,n){var r=bu(t,n),i=vu(e,t.B);return e.get(t,n).then(function(o){var a=null;try{a=Ir(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(Xl,e.a).then(function(e){return e?Zl(e):t})})})}).then(function(t){return e.c=t,Jl(e,t.B)}).s(function(){e.c||(e.c=t)})}(this),this.b.addListener(Zl("local"),this.a,C(this.g,this))}function Jl(e,t){var n,r=[];for(n in gu)gu[n]!==t&&r.push(wu(e.b,Zl(gu[n]),e.a));return r.push(wu(e.b,Xl,e.a)),function(e){return new ze(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},a=0;a<e.length;a++)Ze(e[a],E(o,a),s);else t(i)})}(r)}Yl.prototype.g=function(){var e=this,t=Zl("local");rc(this,function(){return Je().then(function(){return e.c&&"local"!=e.c.B?e.b.get(t,e.a):null}).then(function(n){if(n)return Jl(e,"local").then(function(){e.c=t})})})};var Xl={name:"persistence",B:"session"};function Zl(e){return{name:"authUser",B:e}}function ec(e,t){return rc(e,function(){return e.b.set(e.c,t.w(),e.a)})}function tc(e){return rc(e,function(){return wu(e.b,e.c,e.a)})}function nc(e,t){return rc(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),Kl(e||{})})})}function rc(e,t){return e.f=e.f.then(t,t),e.f}function ic(e){if(this.l=!1,Ur(this,"settings",new al),Ur(this,"app",e),!hc(this).options||!hc(this).options.apiKey)throw new Xr("invalid-api-key");e=sx.a.SDK_VERSION?yr(sx.a.SDK_VERSION):null,this.c=new Ss(hc(this).options&&hc(this).options.apiKey,_i(bi),e),this.N=[],this.o=[],this.I=[],this.Rb=sx.a.INTERNAL.createSubscribe(C(this.kc,this)),this.O=void 0,this.Sb=sx.a.INTERNAL.createSubscribe(C(this.mc,this)),lc(this,null),this.h=new Yl(hc(this).options.apiKey+":"+hc(this).name),this.A=new Wl(hc(this).options.apiKey+":"+hc(this).name),this.V=gc(this,function(e){var t=hc(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Ql,e.a).then(function(e){return e&&t&&(e.authDomain=t),Kl(e||{})})}(e.A,hc(e).options.authDomain).then(function(t){return(e.D=t)&&(t.ba=e.A),$l(e.A)});return gc(e,t)}(e).then(function(){return nc(e.h,t)}).then(function(t){return t?(t.ba=e.A,e.D&&(e.D.aa||null)==(t.aa||null)?t:t.reload().then(function(){return ec(e.h,t).then(function(){return t})}).s(function(n){return"auth/network-request-failed"==n.code?t:tc(e.h)})):null}).then(function(t){lc(e,t||null)});return gc(e,n)}(this)),this.i=gc(this,function(e){return e.V.then(function(){return e.fa()}).s(function(){}).then(function(){if(!e.l)return e.ka()}).s(function(){}).then(function(){if(!e.l){e.X=!0;var t=e.h;t.b.addListener(Zl("local"),t.a,e.ka)}})}(this)),this.X=!1,this.ka=C(this.Kc,this),this.Ha=C(this.Z,this),this.ra=C(this.Zb,this),this.sa=C(this.ic,this),this.ta=C(this.jc,this),function(e){var t=hc(e).options.authDomain,n=hc(e).options.apiKey;t&&_r()&&(e.Qb=e.V.then(function(){if(!e.l){if(e.a=tl(t,n,hc(e).name),e.a.subscribe(e),dc(e)&&Al(dc(e)),e.D){Al(e.D);var r=e.D;r.pa(e.ea()),wl(r,e),_l(r=e.D,e.G),Cl(r,e),e.D=null}return e.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.sc,this),this.u=0,sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ea()},set:function(e){this.pa(e)},enumerable:!1}),e.W=null}(this),this.G=[]}function oc(e){Mt.call(this,"languageCodeChanged"),this.g=e}function sc(e){Mt.call(this,"frameworkChanged"),this.c=e}function ac(e){return e.Qb||Xe(new Xr("auth-domain-config-required"))}function uc(e,t){var n={};return n.apiKey=hc(e).options.apiKey,n.authDomain=hc(e).options.authDomain,n.appName=hc(e).name,e.V.then(function(){return function(e,t,n,r){var i=new bl(e,t);return n&&(i.ba=n),r&&_l(i,r),i.reload().then(function(){return i})}(n,t,e.A,e.ya())}).then(function(t){return dc(e)&&t.uid==dc(e).uid?(Fl(dc(e),t),e.Z(t)):(lc(e,t),Al(t),e.Z(t))}).then(function(){pc(e)})}function lc(e,t){dc(e)&&(function(e,t){H(e.N,function(e){return e==t})}(dc(e),e.Ha),Yt(dc(e),"tokenChanged",e.ra),Yt(dc(e),"userDeleted",e.sa),Yt(dc(e),"userInvalidated",e.ta),Tl(dc(e))),t&&(t.N.push(e.Ha),Wt(t,"tokenChanged",e.ra),Wt(t,"userDeleted",e.sa),Wt(t,"userInvalidated",e.ta),0<e.u&&Sl(t)),Ur(e,"currentUser",t),t&&(t.pa(e.ea()),wl(t,e),_l(t,e.G),Cl(t,e))}function cc(e,t){var n=null,r=null;return gc(e,t.then(function(t){return n=fo(t),r=Di(t),uc(e,t)}).then(function(){return jr({user:dc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function hc(e){return e.app}function dc(e){return e.currentUser}function fc(e){return dc(e)&&dc(e)._lat||null}function pc(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](fc(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](fc(e))}}function gc(e,t){return e.N.push(t),t.ia(function(){q(e.N,t)}),t}function mc(){}function yc(){this.a={},this.b=1e12}Yl.prototype.nb=function(e){var t=null,n=this;return function(e){var t=new Xr("invalid-persistence-type"),n=new Xr("unsupported-persistence-type");e:{for(r in gu)if(gu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(hr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!wr()&&"none"!==e)throw n}}(e),rc(this,function(){return e!=n.c.B?n.b.get(n.c,n.a).then(function(r){return t=r,Jl(n,e)}).then(function(){if(n.c=Zl(e),t)return n.b.set(n.c,t,n.a)}):Je()})},T(ic,sn),T(oc,Mt),T(sc,Mt),(e=ic.prototype).nb=function(e){return gc(this,e=this.h.nb(e))},e.pa=function(e){this.W===e||this.l||(this.W=e,xs(this.c,this.W),this.dispatchEvent(new oc(this.ea())))},e.ea=function(){return this.W},e.Qc=function(){var e=s.navigator;this.pa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.sc=function(e){this.G.push(e),Os(this.c,sx.a.SDK_VERSION?yr(sx.a.SDK_VERSION,this.G):null),this.dispatchEvent(new sc(this.G))},e.ya=function(){return G(this.G)},e.toJSON=function(){return{apiKey:hc(this).options.apiKey,authDomain:hc(this).options.authDomain,appName:hc(this).name,currentUser:dc(this)&&dc(this).w()}},e.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ha=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.b&&(this.b.cancel(),this.b=null),delete this.f,delete this.v)},e.xa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?C(this.Yb,this):null},e.Yb=function(e,t,n){var r=this;e={requestUri:e,postBody:n,sessionId:t},this.b&&(this.b.cancel(),this.b=null);var i=null,o=null,s=zs(r.c,e).then(function(e){return i=fo(e),o=Di(e),e});return gc(this,e=r.V.then(function(){return s}).then(function(e){return uc(r,e)}).then(function(){return jr({user:dc(r),credential:i,additionalUserInfo:o,operationType:"signIn"})}))},e.Ic=function(e){if(!_r())return Xe(new Xr("operation-not-supported-in-this-environment"));var t=this,n=Ti(e.providerId),r=Ar(),i=null;(!Sr()||lr())&&hc(this).options.authDomain&&e.isOAuthProvider&&(i=Fa(hc(this).options.authDomain,hc(this).options.apiKey,hc(this).name,"signInViaPopup",e,null,r,sx.a.SDK_VERSION||null));var o=ir(i,n&&n.Ba,n&&n.Aa);return gc(this,n=ac(this).then(function(t){return Xu(t,o,"signInViaPopup",e,r,!!i)}).then(function(){return new ze(function(e,n){t.ha("signInViaPopup",null,new Xr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.b=t.a.Ea(t,"signInViaPopup",o,r)})}).then(function(e){return o&&rr(o),e?jr(e):null}).s(function(e){throw o&&rr(o),e}))},e.Jc=function(e){if(!_r())return Xe(new Xr("operation-not-supported-in-this-environment"));var t=this;return gc(this,ac(this).then(function(){return rc(e=t.h,function(){return e.b.set(Xl,e.c.B,e.a)});var e}).then(function(){return t.a.Ca("signInViaRedirect",e)}))},e.fa=function(){if(!_r())return Xe(new Xr("operation-not-supported-in-this-environment"));var e=this;return gc(this,ac(this).then(function(){return e.a.fa()}).then(function(e){return e?jr(e):null}))},e.Oc=function(e){if(!e)return Xe(new Xr("null-user"));var t=this,n={};n.apiKey=hc(this).options.apiKey,n.authDomain=hc(this).options.authDomain,n.appName=hc(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.u,appName:e.o};var i=e.h,o={};return o[Ds]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-S())/1e3,t=new bl(t,o),n&&(t.ba=n),r&&_l(t,r),Fl(t,e),t}(e,n,t.A,t.ya());return gc(this,this.i.then(function(){if(hc(t).options.apiKey!=e.l)return r.reload()}).then(function(){return dc(t)&&e.uid==dc(t).uid?(Fl(dc(t),e),t.Z(e)):(lc(t,r),Al(r),t.Z(r))}).then(function(){pc(t)}))},e.pb=function(){var e=this;return gc(this,this.i.then(function(){return dc(e)?(lc(e,null),tc(e.h).then(function(){pc(e)})):Je()}))},e.Kc=function(){var e=this;return nc(this.h,hc(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=dc(e)&&t){n=dc(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Fl(dc(e),t),dc(e).F();(dc(e)||t)&&(lc(e,t),t&&(Al(t),t.ba=e.A),e.a&&e.a.subscribe(e),pc(e))}})},e.Z=function(e){return ec(this.h,e)},e.Zb=function(){pc(this),this.Z(dc(this))},e.ic=function(){this.pb()},e.jc=function(){this.pb()},e.kc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(dc(t))})},e.mc=function(e){var t=this;!function(e,t){e.I.push(t),gc(e,e.i.then(function(){!e.l&&j(e.I,t)&&e.O!==e.getUid()&&(e.O=e.getUid(),t(fc(e)))}))}(this,function(){e.next(dc(t))})},e.uc=function(e,t,n){var r=this;return this.X&&Promise.resolve().then(function(){m(e)?e(dc(r)):m(e.next)&&e.next(dc(r))}),this.Rb(e,t,n)},e.tc=function(e,t,n){var r=this;return this.X&&Promise.resolve().then(function(){r.O=r.getUid(),m(e)?e(dc(r)):m(e.next)&&e.next(dc(r))}),this.Sb(e,t,n)},e.$b=function(e){var t=this;return gc(this,this.i.then(function(){return dc(t)?dc(t).F(e).then(function(e){return{accessToken:e}}):null}))},e.Ec=function(e){var t=this;return this.i.then(function(){return cc(t,_a(t.c,ma,{token:e}))}).then(function(e){var n=e.user;return Ml(n,"isAnonymous",!1),t.Z(n),e})},e.Fc=function(e,t){var n=this;return this.i.then(function(){return cc(n,_a(n.c,ya,{email:e,password:t}))})},e.Ub=function(e,t){var n=this;return this.i.then(function(){return cc(n,_a(n.c,Ys,{email:e,password:t}))})},e.Ra=function(e){var t=this;return this.i.then(function(){return cc(t,e.la(t.c))})},e.Dc=function(e){return Lr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},e.ob=function(){var e=this;return this.i.then(function(){var t=dc(e);if(t&&t.isAnonymous){var n=jr({providerId:null,isNewUser:!1});return jr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return cc(e,e.c.ob()).then(function(t){var n=t.user;return Ml(n,"isAnonymous",!0),e.Z(n),t})})},e.getUid=function(){return dc(this)&&dc(this).uid||null},e.Tb=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&dc(this)&&Sl(dc(this))},e.Bc=function(e){var t=this;V(this.o,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&dc(this)&&Tl(dc(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.o.push(e),gc(this,this.i.then(function(){t.l||j(t.o,e)&&e(fc(t))}))},e.removeAuthTokenListener=function(e){H(this.o,function(t){return t==e})},e.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h).b.removeListener(Zl("local"),e.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Za()),Promise.resolve()},e.Xb=function(e){return gc(this,function(e,t){return _a(e,Js,{identifier:t,continueUri:Cr()?er():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.c,e))},e.nc=function(e){return!!so(e)},e.mb=function(e,t){var n=this;return gc(this,Je().then(function(){var e=new ni(t);if(!e.c)throw new Xr("argument-error",oi+" must be true when sending sign in link to email");return di(e)}).then(function(t){return n.c.mb(e,t)}).then(function(){}))},e.Rc=function(e){return this.Ka(e).then(function(e){return e.data.email})},e.$a=function(e,t){return gc(this,this.c.$a(e,t).then(function(){}))},e.Ka=function(e){return gc(this,this.c.Ka(e).then(function(e){return new Hr(e)}))},e.Xa=function(e){return gc(this,this.c.Xa(e).then(function(){}))},e.lb=function(e,t){var n=this;return gc(this,Je().then(function(){return void 0===t||W(t)?{}:di(new ni(t))}).then(function(t){return n.c.lb(e,t)}).then(function(){}))},e.Hc=function(e,t){return gc(this,ll(this,e,t,C(this.Ra,this)))},e.Gc=function(e,t){var n=this;return gc(this,Je().then(function(){var r=oo(e,t||er());return n.Ra(r)}))},mc.prototype.render=function(){},mc.prototype.reset=function(){},mc.prototype.getResponse=function(){},mc.prototype.execute=function(){};var vc=null;function bc(e,t){return(t=wc(t))&&e.a[t]||null}function wc(e){return(e=void 0===e?1e12:e)?e.toString():null}function _c(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Hn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Wt(this.f,"click",this.i)}function Cc(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ec(){}yc.prototype.render=function(e,t){return this.a[this.b.toString()]=new _c(e,t),this.b++},yc.prototype.reset=function(e){var t=bc(this,e);e=wc(e),t&&e&&(t.delete(),delete this.a[e])},yc.prototype.getResponse=function(e){return(e=bc(this,e))?e.getResponse():null},yc.prototype.execute=function(e){(e=bc(this,e))&&e.execute()},_c.prototype.getResponse=function(){return Cc(this),this.b},_c.prototype.execute=function(){Cc(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()},6e4)},500))},_c.prototype.delete=function(){Cc(this),this.g=!0,clearTimeout(this.a),this.a=null,Yt(this.f,"click",this.i)},Ec.prototype.g=function(){return vc||(vc=new yc),Je(vc)},Ec.prototype.c=function(){};var Sc=null;function Tc(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dc=new J(ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ic=new xr(3e4,6e4);Tc.prototype.g=function(e){var t=this;return new ze(function(n,r){var i=setTimeout(function(){r(new Xr("network-request-failed"))},Ic.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new Xr("internal-error"));delete s[t.a]},Je(ys(ie(Dc,{onload:t.a,hl:e||""}))).s(function(){clearTimeout(i),r(new Xr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},Tc.prototype.c=function(){this.b--};var Ac=null;function kc(e,t,n,r,i,o,a){if(Ur(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.l=t,this.g=null,a?(Sc||(Sc=new Ec),a=Sc):(Ac||(Ac=new Tc),a=Ac),this.o=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Oc])throw new Xr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Rc],!s.document)throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Hn(t)||!this.i&&Hn(t).hasChildNodes())throw new Xr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Ss(e,o||null,i||null),this.v=r||function(){return null};var u=this;this.m=[];var l=this.a[Nc];this.a[Nc]=function(e){if(Pc(u,e),"function"==typeof l)l(e);else if("string"==typeof l){var t=br(l,s);"function"==typeof t&&t(e)}};var c=this.a[xc];this.a[xc]=function(){if(Pc(u,null),"function"==typeof c)c();else if("string"==typeof c){var e=br(c,s);"function"==typeof e&&e()}}}var Nc="callback",xc="expired-callback",Oc="sitekey",Rc="size";function Pc(e,t){for(var n=0;n<e.m.length;n++)try{e.m[n](t)}catch(r){}}function Mc(e,t){return e.h.push(t),t.ia(function(){q(e.h,t)}),t}function Fc(e){if(e.D)throw new Xr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lc(e,t,n){var r=!1;try{this.b=n||sx.a.app()}catch(s){throw new Xr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Xr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().ya()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=sx.a.SDK_VERSION?yr(sx.a.SDK_VERSION,o):null,kc.call(this,n,e,t,function(){try{var e=i.b.auth().ea()}catch(t){e=null}return e},o,_i(bi),r)}function Vc(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<t.length;s++)if(t[s].optional)o=!0;else{if(o)throw new Xr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Uc.length)throw new Xr("internal-error","Argument validator received an unsupported number of arguments.");n=Uc[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new Xr("argument-error",e+" failed: "+r)}(e=kc.prototype).za=function(){var e=this;return this.f?this.f:this.f=Mc(this,Je().then(function(){if(Cr()&&!cr())return ar();throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.o.g(e.v())}).then(function(t){return e.g=t,_a(e.u,aa,{})}).then(function(t){e.a[Oc]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},e.render=function(){Fc(this);var e=this;return Mc(this,this.za().then(function(){if(null===e.c){var t=e.l;if(!e.i){var n=Hn(t);t=Kn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){Fc(this);var e=this;return Mc(this,this.render().then(function(t){return new ze(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){H(e.m,function(e){return e==t})}(e,i),n(t))};e.m.push(i),e.i&&e.g.execute(e.c)}})}))},e.reset=function(){Fc(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Fc(this),this.D=!0,this.o.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Hn(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Lc,kc);var Uc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Bc(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:a}}function jc(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:u}}function qc(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:y}}function Hc(e,t){return{name:e||"",K:"a function",optional:!!t,M:m}}function zc(e,t){return{name:e||"",K:"null",optional:!!t,M:f}}function Gc(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.la||!n)}}}function Kc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&a(e.type)&&m(e.verify))}}}function Wc(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Qc(e,t){for(var n in t){var r=t[n].name;e[r]=Jc(r,e[n],t[n].j)}}function $c(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:E(function(e){return this[e]},n),set:E(function(e,t,n,r){Vc(e,[n],[r],!0),this[t]=r},r,n,t[n].vb),enumerable:!0})}}function Yc(e,t,n,r){e[t]=Jc(t,n,r)}function Jc(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Vc(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Qc(ic.prototype,{Xa:{name:"applyActionCode",j:[Bc("code")]},Ka:{name:"checkActionCode",j:[Bc("code")]},$a:{name:"confirmPasswordReset",j:[Bc("code"),Bc("newPassword")]},Ub:{name:"createUserWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Xb:{name:"fetchSignInMethodsForEmail",j:[Bc("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[Bc("emailLink")]},tc:{name:"onAuthStateChanged",j:[Wc(qc(),Hc(),"nextOrObserver"),Hc("opt_error",!0),Hc("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[Wc(qc(),Hc(),"nextOrObserver"),Hc("opt_error",!0),Hc("opt_completed",!0)]},lb:{name:"sendPasswordResetEmail",j:[Bc("email"),Wc(qc("opt_actionCodeSettings",!0),zc(null,!0),"opt_actionCodeSettings",!0)]},mb:{name:"sendSignInLinkToEmail",j:[Bc("email"),qc("actionCodeSettings")]},nb:{name:"setPersistence",j:[Bc("persistence")]},Dc:{name:"signInAndRetrieveDataWithCredential",j:[Gc()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Gc()]},Ec:{name:"signInWithCustomToken",j:[Bc("token")]},Fc:{name:"signInWithEmailAndPassword",j:[Bc("email"),Bc("password")]},Gc:{name:"signInWithEmailLink",j:[Bc("email"),Bc("emailLink",!0)]},Hc:{name:"signInWithPhoneNumber",j:[Bc("phoneNumber"),Kc()]},Ic:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"updateCurrentUser",j:[Wc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof bl)}},zc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Bc(null,!0)]},Qc:{name:"useDeviceLanguage",j:[]},Rc:{name:"verifyPasswordResetCode",j:[Bc("code")]}}),$c(ic.prototype,{lc:{name:"languageCode",vb:Wc(Bc(),zc(),"languageCode")}}),ic.Persistence=gu,ic.Persistence.LOCAL="local",ic.Persistence.SESSION="session",ic.Persistence.NONE="none",Qc(bl.prototype,{delete:{name:"delete",j:[]},ac:{name:"getIdTokenResult",j:[jc("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[jc("opt_forceRefresh",!0)]},oc:{name:"linkAndRetrieveDataWithCredential",j:[Gc()]},fb:{name:"linkWithCredential",j:[Gc()]},pc:{name:"linkWithPhoneNumber",j:[Bc("phoneNumber"),Kc()]},qc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},rc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},xc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Gc()]},hb:{name:"reauthenticateWithCredential",j:[Gc()]},yc:{name:"reauthenticateWithPhoneNumber",j:[Bc("phoneNumber"),Kc()]},zc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},kb:{name:"sendEmailVerification",j:[Wc(qc("opt_actionCodeSettings",!0),zc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Bc(null,!0)]},Nc:{name:"unlink",j:[Bc("provider")]},rb:{name:"updateEmail",j:[Bc("email")]},sb:{name:"updatePassword",j:[Bc("password")]},Pc:{name:"updatePhoneNumber",j:[Gc("phone")]},tb:{name:"updateProfile",j:[qc("profile")]}}),Qc(yc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qc(mc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qc(ze.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),$c(al.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",vb:jc("appVerificationDisabledForTesting")}}),Qc(ul.prototype,{confirm:{name:"confirm",j:[Bc("verificationCode")]}}),Yc(Li,"fromJSON",function(e){e=a(e)?JSON.parse(e):e;for(var t,n=[zi,ro,uo,ji],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[Wc(Bc(),qc(),"json")]),Yc(io,"credential",function(e,t){return new no(e,t)},[Bc("email"),Bc("password")]),Qc(no.prototype,{w:{name:"toJSON",j:[Bc(null,!0)]}}),Qc(Qi.prototype,{ua:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[qc("customOAuthParameters")]}}),Yc(Qi,"credential",$i,[Wc(Bc(),qc(),"token")]),Yc(io,"credentialWithLink",oo,[Bc("email"),Bc("emailLink")]),Qc(Yi.prototype,{ua:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[qc("customOAuthParameters")]}}),Yc(Yi,"credential",Ji,[Wc(Bc(),qc(),"token")]),Qc(Xi.prototype,{ua:{name:"addScope",j:[Bc("scope")]},Da:{name:"setCustomParameters",j:[qc("customOAuthParameters")]}}),Yc(Xi,"credential",Zi,[Wc(Bc(),Wc(qc(),zc()),"idToken"),Wc(Bc(),zc(),"accessToken",!0)]),Qc(eo.prototype,{Da:{name:"setCustomParameters",j:[qc("customOAuthParameters")]}}),Yc(eo,"credential",to,[Wc(Bc(),qc(),"token"),Bc("secret",!0)]),Qc(Wi.prototype,{ua:{name:"addScope",j:[Bc("scope")]},credential:{name:"credential",j:[Wc(Bc(),Wc(qc(),zc()),"optionsOrIdToken"),Wc(Bc(),zc(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[qc("customOAuthParameters")]}}),Qc(qi.prototype,{w:{name:"toJSON",j:[Bc(null,!0)]}}),Qc(Ui.prototype,{w:{name:"toJSON",j:[Bc(null,!0)]}}),Yc(co,"credential",ho,[Bc("verificationId"),Bc("verificationCode")]),Qc(co.prototype,{Va:{name:"verifyPhoneNumber",j:[Bc("phoneNumber"),Kc()]}}),Qc(ao.prototype,{w:{name:"toJSON",j:[Bc(null,!0)]}}),Qc(Xr.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),Qc(_o.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),Qc(wo.prototype,{toJSON:{name:"toJSON",j:[Bc(null,!0)]}}),Qc(Lc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===sx.a||!sx.a.INTERNAL||!sx.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:ic,AuthCredential:Li,Error:Xr};Yc(e,"EmailAuthProvider",io,[]),Yc(e,"FacebookAuthProvider",Qi,[]),Yc(e,"GithubAuthProvider",Yi,[]),Yc(e,"GoogleAuthProvider",Xi,[]),Yc(e,"TwitterAuthProvider",eo,[]),Yc(e,"OAuthProvider",Wi,[Bc("providerId")]),Yc(e,"SAMLAuthProvider",Ki,[Bc("providerId")]),Yc(e,"PhoneAuthProvider",co,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ic)}}]),Yc(e,"RecaptchaVerifier",Lc,[Wc(Bc(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),qc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof sx.a.app.App)}}]),sx.a.INTERNAL.registerService("auth",function(e,t){return t({INTERNAL:{getUid:C((e=new ic(e)).getUid,e),getToken:C(e.$b,e),addAuthTokenListener:C(e.Tb,e),removeAuthTokenListener:C(e.Bc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(n){}}),sx.a.INTERNAL.extendNamespace({User:bl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let ax=class{};ax=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}([xg({providers:[eI]})],ax);class ux{constructor(e,t){this.fakeService=e,this.router=t}canActivate(e,t){return this.fakeService.isAuthorised().then(e=>{if(e)return!0;this.router.navigate(["login"])})}}ux.ngInjectableDef=Ce({factory:function(){return new ux(Ve(uk),Ve(eD))},token:ux,providedIn:"root"});class lx{}var cx=pv(mv,[_v],function(e){return Rd([Od(512,Jc,Xc,[[8,[OD,rI,pk,Ck,yN,SN,AN,ON,FN]],[3,Jc],eh]),Od(5120,Vm,qm,[[3,Vm]]),Od(4608,Nb,Ob,[Vm,[2,kb]]),Od(5120,Rf,zm,[rm]),Od(5120,Mg,Fg,[]),Od(5120,Ih,Bm,[]),Od(5120,Ah,jm,[]),Od(4608,lE,cE,[o_]),Od(6144,$o,null,[lE]),Od(4608,nE,iE,[]),Od(5120,SC,function(e,t,n,r,i,o,s,a){return[new eE(e,t,n),new uE(r),new oE(i,o,s,a)]},[o_,rm,Bg,o_,o_,nE,qg,[2,rE]]),Od(4608,TC,TC,[SC,rm]),Od(135680,AC,AC,[o_]),Od(4608,MC,MC,[TC,AC,Mg]),Od(6144,hh,null,[MC]),Od(6144,IC,null,[AC]),Od(4608,cm,cm,[rm]),Od(5120,FS,TD,[eD]),Od(4608,hD,hD,[]),Od(6144,lD,null,[hD]),Od(135680,dD,dD,[eD,yg,Qg,at,lD]),Od(4608,cD,cD,[]),Od(5120,fD,wD,[eD,l_,gD]),Od(5120,kD,AD,[DD]),Od(5120,jg,function(e){return[e]},[kD]),Od(4608,ik,ik,[]),Od(4608,OI,OI,[]),Od(4608,sN,aN,[o_,Bg,iN]),Od(4608,uN,uN,[sN,oN]),Od(5120,Gk,function(e){return[e,new LN]},[uN]),Od(4608,nN,nN,[]),Od(6144,tN,null,[nN]),Od(4608,rN,rN,[tN]),Od(6144,Ak,null,[rN]),Od(4608,Ik,lN,[Ak,at]),Od(4608,Hk,Hk,[Ik]),Od(5120,QD,$D,[KD,[2,WD]]),Od(4608,nx,nx,[KD,[2,WD],[2,$N],[2,JN],Bg,rm,[2,YN]]),Od(4608,eI,eI,[KD,[2,WD],Bg,rm]),Od(4608,uk,uk,[]),Od(4608,ux,ux,[uk,eD]),Od(4608,PD,PD,[]),Od(1073742336,r_,r_,[]),Od(1024,go,bE,[]),Od(1024,ym,function(){return[vD()]},[]),Od(512,DD,DD,[at]),Od(1024,Rg,function(e,t){return[CC(e),ID(t)]},[[2,ym],DD]),Od(512,Pg,Pg,[[2,Rg]]),Od(131584,Cm,Cm,[rm,qg,at,go,Jc,Pg]),Od(1073742336,Gm,Gm,[Cm]),Od(1073742336,_E,_E,[[3,_E]]),Od(1024,mD,CD,[[3,eD]]),Od(512,pS,gS,[]),Od(512,sD,sD,[]),Od(256,gD,{},[]),Od(1024,Sv,_D,[Cv,[2,Tv],gD]),Od(512,Dv,Dv,[Sv,Cv]),Od(512,Qg,Qg,[]),Od(512,yg,km,[Qg,[2,Im]]),Od(1024,WT,function(){return[[{path:"welcome",component:RD},{path:"quiz",component:ak},{path:"phone",component:mk},{path:"signup",component:Dk},{path:"login",component:vN},{path:"resetPassword",component:TN},{path:"confirmPassword",canActivate:[ux],component:kN},{path:"**",component:vN}]]},[]),Od(1024,eD,SD,[Cm,pS,sD,Dv,at,yg,Qg,WT,gD,[2,$T],[2,GT]]),Od(1073742336,bD,bD,[[2,mD],[2,eD]]),Od(1073742336,lx,lx,[]),Od(1073742336,rk,rk,[]),Od(1073742336,sk,sk,[]),Od(1073742336,ok,ok,[]),Od(1073742336,cN,cN,[]),Od(1073742336,hN,hN,[]),Od(1073742336,JD,JD,[]),Od(1073742336,ix,ix,[]),Od(1073742336,ax,ax,[]),Od(1073742336,mv,mv,[]),Od(256,Mc,!0,[]),Od(256,iN,"XSRF-TOKEN",[]),Od(256,oN,"X-XSRF-TOKEN",[]),Od(256,KD,{apiKey:"AIzaSyBIoqWJ4inoXHI08I4YPBlfxLm1T8vw1Mw",authDomain:"appsnetweb2724.firebaseapp.com",databaseURL:"https://appsnetweb2724.firebaseio.com",projectId:"appsnetweb2724",storageBucket:"appsnetweb2724.appspot.com",messagingSenderId:"714838650183",appId:"1:714838650183:web:be89abc09408a706"},[]),Od(256,WD,void 0,[])])});(function(){if(bo)throw new Error("Cannot enable prod mode after platform setup.");vo=!1})(),vE().bootstrapModuleFactory(cx).catch(e=>console.error(e))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|a>>4,d=(15&a)<<2|l>>6,f=63&l;u||(f=64,s||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var l=o<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=c(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f="FirebaseError",p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=f,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(t,e),t}(Error),g=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?function(e,t){return e.replace(m,function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"})}(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),l=0,c=Object.keys(r);l<c.length;l++){var h=c[l];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();var m=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var v=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=y(l(o[0])||""),n=y(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};var b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),s=1518500249):(o=u^l^c,s=1859775393):r<60?(o=u&l|c&(u|l),s=2400959708):(o=u^l^c,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function _(){}function C(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=g,t.FirebaseError=p,t.Sha1=b,t.assert=o,t.assertionError=s,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.base64=u,t.base64Decode=l,t.base64Encode=function(e){var t=a(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=v,t.deepCopy=function(e){return c(void 0,e)},t.deepExtend=c,t.errorPrefix=C,t.getUA=d,t.isAdmin=function(e){var t=v(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=v(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=v(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=v(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);